function kI(n,e){for(var t=0;t<e.length;t++){const r=e[t];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in n)){const a=Object.getOwnPropertyDescriptor(r,s);a&&Object.defineProperty(n,s,a.get?a:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(n,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const a of s)if(a.type==="childList")for(const l of a.addedNodes)l.tagName==="LINK"&&l.rel==="modulepreload"&&r(l)}).observe(document,{childList:!0,subtree:!0});function t(s){const a={};return s.integrity&&(a.integrity=s.integrity),s.referrerPolicy&&(a.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?a.credentials="include":s.crossOrigin==="anonymous"?a.credentials="omit":a.credentials="same-origin",a}function r(s){if(s.ep)return;s.ep=!0;const a=t(s);fetch(s.href,a)}})();function B_(n){return n&&n.__esModule&&Object.prototype.hasOwnProperty.call(n,"default")?n.default:n}var Hh={exports:{}},Cl={},Wh={exports:{}},Ue={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var gw;function DI(){if(gw)return Ue;gw=1;var n=Symbol.for("react.element"),e=Symbol.for("react.portal"),t=Symbol.for("react.fragment"),r=Symbol.for("react.strict_mode"),s=Symbol.for("react.profiler"),a=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),f=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),m=Symbol.for("react.lazy"),v=Symbol.iterator;function w(U){return U===null||typeof U!="object"?null:(U=v&&U[v]||U["@@iterator"],typeof U=="function"?U:null)}var T={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},C=Object.assign,I={};function b(U,J,pe){this.props=U,this.context=J,this.refs=I,this.updater=pe||T}b.prototype.isReactComponent={},b.prototype.setState=function(U,J){if(typeof U!="object"&&typeof U!="function"&&U!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,U,J,"setState")},b.prototype.forceUpdate=function(U){this.updater.enqueueForceUpdate(this,U,"forceUpdate")};function R(){}R.prototype=b.prototype;function D(U,J,pe){this.props=U,this.context=J,this.refs=I,this.updater=pe||T}var j=D.prototype=new R;j.constructor=D,C(j,b.prototype),j.isPureReactComponent=!0;var z=Array.isArray,q=Object.prototype.hasOwnProperty,Z={current:null},L={key:!0,ref:!0,__self:!0,__source:!0};function N(U,J,pe){var Ce,Ae={},je=null,he=null;if(J!=null)for(Ce in J.ref!==void 0&&(he=J.ref),J.key!==void 0&&(je=""+J.key),J)q.call(J,Ce)&&!L.hasOwnProperty(Ce)&&(Ae[Ce]=J[Ce]);var Ee=arguments.length-2;if(Ee===1)Ae.children=pe;else if(1<Ee){for(var Le=Array(Ee),ke=0;ke<Ee;ke++)Le[ke]=arguments[ke+2];Ae.children=Le}if(U&&U.defaultProps)for(Ce in Ee=U.defaultProps,Ee)Ae[Ce]===void 0&&(Ae[Ce]=Ee[Ce]);return{$$typeof:n,type:U,key:je,ref:he,props:Ae,_owner:Z.current}}function M(U,J){return{$$typeof:n,type:U.type,key:J,ref:U.ref,props:U.props,_owner:U._owner}}function V(U){return typeof U=="object"&&U!==null&&U.$$typeof===n}function F(U){var J={"=":"=0",":":"=2"};return"$"+U.replace(/[=:]/g,function(pe){return J[pe]})}var P=/\/+/g;function O(U,J){return typeof U=="object"&&U!==null&&U.key!=null?F(""+U.key):J.toString(36)}function ee(U,J,pe,Ce,Ae){var je=typeof U;(je==="undefined"||je==="boolean")&&(U=null);var he=!1;if(U===null)he=!0;else switch(je){case"string":case"number":he=!0;break;case"object":switch(U.$$typeof){case n:case e:he=!0}}if(he)return he=U,Ae=Ae(he),U=Ce===""?"."+O(he,0):Ce,z(Ae)?(pe="",U!=null&&(pe=U.replace(P,"$&/")+"/"),ee(Ae,J,pe,"",function(ke){return ke})):Ae!=null&&(V(Ae)&&(Ae=M(Ae,pe+(!Ae.key||he&&he.key===Ae.key?"":(""+Ae.key).replace(P,"$&/")+"/")+U)),J.push(Ae)),1;if(he=0,Ce=Ce===""?".":Ce+":",z(U))for(var Ee=0;Ee<U.length;Ee++){je=U[Ee];var Le=Ce+O(je,Ee);he+=ee(je,J,pe,Le,Ae)}else if(Le=w(U),typeof Le=="function")for(U=Le.call(U),Ee=0;!(je=U.next()).done;)je=je.value,Le=Ce+O(je,Ee++),he+=ee(je,J,pe,Le,Ae);else if(je==="object")throw J=String(U),Error("Objects are not valid as a React child (found: "+(J==="[object Object]"?"object with keys {"+Object.keys(U).join(", ")+"}":J)+"). If you meant to render a collection of children, use an array instead.");return he}function ie(U,J,pe){if(U==null)return U;var Ce=[],Ae=0;return ee(U,Ce,"","",function(je){return J.call(pe,je,Ae++)}),Ce}function ce(U){if(U._status===-1){var J=U._result;J=J(),J.then(function(pe){(U._status===0||U._status===-1)&&(U._status=1,U._result=pe)},function(pe){(U._status===0||U._status===-1)&&(U._status=2,U._result=pe)}),U._status===-1&&(U._status=0,U._result=J)}if(U._status===1)return U._result.default;throw U._result}var de={current:null},Q={transition:null},te={ReactCurrentDispatcher:de,ReactCurrentBatchConfig:Q,ReactCurrentOwner:Z};function le(){throw Error("act(...) is not supported in production builds of React.")}return Ue.Children={map:ie,forEach:function(U,J,pe){ie(U,function(){J.apply(this,arguments)},pe)},count:function(U){var J=0;return ie(U,function(){J++}),J},toArray:function(U){return ie(U,function(J){return J})||[]},only:function(U){if(!V(U))throw Error("React.Children.only expected to receive a single React element child.");return U}},Ue.Component=b,Ue.Fragment=t,Ue.Profiler=s,Ue.PureComponent=D,Ue.StrictMode=r,Ue.Suspense=f,Ue.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=te,Ue.act=le,Ue.cloneElement=function(U,J,pe){if(U==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+U+".");var Ce=C({},U.props),Ae=U.key,je=U.ref,he=U._owner;if(J!=null){if(J.ref!==void 0&&(je=J.ref,he=Z.current),J.key!==void 0&&(Ae=""+J.key),U.type&&U.type.defaultProps)var Ee=U.type.defaultProps;for(Le in J)q.call(J,Le)&&!L.hasOwnProperty(Le)&&(Ce[Le]=J[Le]===void 0&&Ee!==void 0?Ee[Le]:J[Le])}var Le=arguments.length-2;if(Le===1)Ce.children=pe;else if(1<Le){Ee=Array(Le);for(var ke=0;ke<Le;ke++)Ee[ke]=arguments[ke+2];Ce.children=Ee}return{$$typeof:n,type:U.type,key:Ae,ref:je,props:Ce,_owner:he}},Ue.createContext=function(U){return U={$$typeof:l,_currentValue:U,_currentValue2:U,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},U.Provider={$$typeof:a,_context:U},U.Consumer=U},Ue.createElement=N,Ue.createFactory=function(U){var J=N.bind(null,U);return J.type=U,J},Ue.createRef=function(){return{current:null}},Ue.forwardRef=function(U){return{$$typeof:c,render:U}},Ue.isValidElement=V,Ue.lazy=function(U){return{$$typeof:m,_payload:{_status:-1,_result:U},_init:ce}},Ue.memo=function(U,J){return{$$typeof:h,type:U,compare:J===void 0?null:J}},Ue.startTransition=function(U){var J=Q.transition;Q.transition={};try{U()}finally{Q.transition=J}},Ue.unstable_act=le,Ue.useCallback=function(U,J){return de.current.useCallback(U,J)},Ue.useContext=function(U){return de.current.useContext(U)},Ue.useDebugValue=function(){},Ue.useDeferredValue=function(U){return de.current.useDeferredValue(U)},Ue.useEffect=function(U,J){return de.current.useEffect(U,J)},Ue.useId=function(){return de.current.useId()},Ue.useImperativeHandle=function(U,J,pe){return de.current.useImperativeHandle(U,J,pe)},Ue.useInsertionEffect=function(U,J){return de.current.useInsertionEffect(U,J)},Ue.useLayoutEffect=function(U,J){return de.current.useLayoutEffect(U,J)},Ue.useMemo=function(U,J){return de.current.useMemo(U,J)},Ue.useReducer=function(U,J,pe){return de.current.useReducer(U,J,pe)},Ue.useRef=function(U){return de.current.useRef(U)},Ue.useState=function(U){return de.current.useState(U)},Ue.useSyncExternalStore=function(U,J,pe){return de.current.useSyncExternalStore(U,J,pe)},Ue.useTransition=function(){return de.current.useTransition()},Ue.version="18.3.1",Ue}var yw;function Mm(){return yw||(yw=1,Wh.exports=DI()),Wh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var vw;function MI(){if(vw)return Cl;vw=1;var n=Mm(),e=Symbol.for("react.element"),t=Symbol.for("react.fragment"),r=Object.prototype.hasOwnProperty,s=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,a={key:!0,ref:!0,__self:!0,__source:!0};function l(c,f,h){var m,v={},w=null,T=null;h!==void 0&&(w=""+h),f.key!==void 0&&(w=""+f.key),f.ref!==void 0&&(T=f.ref);for(m in f)r.call(f,m)&&!a.hasOwnProperty(m)&&(v[m]=f[m]);if(c&&c.defaultProps)for(m in f=c.defaultProps,f)v[m]===void 0&&(v[m]=f[m]);return{$$typeof:e,type:c,key:w,ref:T,props:v,_owner:s.current}}return Cl.Fragment=t,Cl.jsx=l,Cl.jsxs=l,Cl}var ww;function OI(){return ww||(ww=1,Hh.exports=MI()),Hh.exports}var y=OI(),E=Mm();const nt=B_(E),H_=kI({__proto__:null,default:nt},[E]);var Mc={},Kh={exports:{}},mn={},qh={exports:{}},Gh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var _w;function LI(){return _w||(_w=1,function(n){function e(Q,te){var le=Q.length;Q.push(te);e:for(;0<le;){var U=le-1>>>1,J=Q[U];if(0<s(J,te))Q[U]=te,Q[le]=J,le=U;else break e}}function t(Q){return Q.length===0?null:Q[0]}function r(Q){if(Q.length===0)return null;var te=Q[0],le=Q.pop();if(le!==te){Q[0]=le;e:for(var U=0,J=Q.length,pe=J>>>1;U<pe;){var Ce=2*(U+1)-1,Ae=Q[Ce],je=Ce+1,he=Q[je];if(0>s(Ae,le))je<J&&0>s(he,Ae)?(Q[U]=he,Q[je]=le,U=je):(Q[U]=Ae,Q[Ce]=le,U=Ce);else if(je<J&&0>s(he,le))Q[U]=he,Q[je]=le,U=je;else break e}}return te}function s(Q,te){var le=Q.sortIndex-te.sortIndex;return le!==0?le:Q.id-te.id}if(typeof performance=="object"&&typeof performance.now=="function"){var a=performance;n.unstable_now=function(){return a.now()}}else{var l=Date,c=l.now();n.unstable_now=function(){return l.now()-c}}var f=[],h=[],m=1,v=null,w=3,T=!1,C=!1,I=!1,b=typeof setTimeout=="function"?setTimeout:null,R=typeof clearTimeout=="function"?clearTimeout:null,D=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function j(Q){for(var te=t(h);te!==null;){if(te.callback===null)r(h);else if(te.startTime<=Q)r(h),te.sortIndex=te.expirationTime,e(f,te);else break;te=t(h)}}function z(Q){if(I=!1,j(Q),!C)if(t(f)!==null)C=!0,ce(q);else{var te=t(h);te!==null&&de(z,te.startTime-Q)}}function q(Q,te){C=!1,I&&(I=!1,R(N),N=-1),T=!0;var le=w;try{for(j(te),v=t(f);v!==null&&(!(v.expirationTime>te)||Q&&!F());){var U=v.callback;if(typeof U=="function"){v.callback=null,w=v.priorityLevel;var J=U(v.expirationTime<=te);te=n.unstable_now(),typeof J=="function"?v.callback=J:v===t(f)&&r(f),j(te)}else r(f);v=t(f)}if(v!==null)var pe=!0;else{var Ce=t(h);Ce!==null&&de(z,Ce.startTime-te),pe=!1}return pe}finally{v=null,w=le,T=!1}}var Z=!1,L=null,N=-1,M=5,V=-1;function F(){return!(n.unstable_now()-V<M)}function P(){if(L!==null){var Q=n.unstable_now();V=Q;var te=!0;try{te=L(!0,Q)}finally{te?O():(Z=!1,L=null)}}else Z=!1}var O;if(typeof D=="function")O=function(){D(P)};else if(typeof MessageChannel<"u"){var ee=new MessageChannel,ie=ee.port2;ee.port1.onmessage=P,O=function(){ie.postMessage(null)}}else O=function(){b(P,0)};function ce(Q){L=Q,Z||(Z=!0,O())}function de(Q,te){N=b(function(){Q(n.unstable_now())},te)}n.unstable_IdlePriority=5,n.unstable_ImmediatePriority=1,n.unstable_LowPriority=4,n.unstable_NormalPriority=3,n.unstable_Profiling=null,n.unstable_UserBlockingPriority=2,n.unstable_cancelCallback=function(Q){Q.callback=null},n.unstable_continueExecution=function(){C||T||(C=!0,ce(q))},n.unstable_forceFrameRate=function(Q){0>Q||125<Q?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):M=0<Q?Math.floor(1e3/Q):5},n.unstable_getCurrentPriorityLevel=function(){return w},n.unstable_getFirstCallbackNode=function(){return t(f)},n.unstable_next=function(Q){switch(w){case 1:case 2:case 3:var te=3;break;default:te=w}var le=w;w=te;try{return Q()}finally{w=le}},n.unstable_pauseExecution=function(){},n.unstable_requestPaint=function(){},n.unstable_runWithPriority=function(Q,te){switch(Q){case 1:case 2:case 3:case 4:case 5:break;default:Q=3}var le=w;w=Q;try{return te()}finally{w=le}},n.unstable_scheduleCallback=function(Q,te,le){var U=n.unstable_now();switch(typeof le=="object"&&le!==null?(le=le.delay,le=typeof le=="number"&&0<le?U+le:U):le=U,Q){case 1:var J=-1;break;case 2:J=250;break;case 5:J=1073741823;break;case 4:J=1e4;break;default:J=5e3}return J=le+J,Q={id:m++,callback:te,priorityLevel:Q,startTime:le,expirationTime:J,sortIndex:-1},le>U?(Q.sortIndex=le,e(h,Q),t(f)===null&&Q===t(h)&&(I?(R(N),N=-1):I=!0,de(z,le-U))):(Q.sortIndex=J,e(f,Q),C||T||(C=!0,ce(q))),Q},n.unstable_shouldYield=F,n.unstable_wrapCallback=function(Q){var te=w;return function(){var le=w;w=te;try{return Q.apply(this,arguments)}finally{w=le}}}}(Gh)),Gh}var xw;function jI(){return xw||(xw=1,qh.exports=LI()),qh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Ew;function VI(){if(Ew)return mn;Ew=1;var n=Mm(),e=jI();function t(i){for(var o="https://reactjs.org/docs/error-decoder.html?invariant="+i,u=1;u<arguments.length;u++)o+="&args[]="+encodeURIComponent(arguments[u]);return"Minified React error #"+i+"; visit "+o+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var r=new Set,s={};function a(i,o){l(i,o),l(i+"Capture",o)}function l(i,o){for(s[i]=o,i=0;i<o.length;i++)r.add(o[i])}var c=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),f=Object.prototype.hasOwnProperty,h=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,m={},v={};function w(i){return f.call(v,i)?!0:f.call(m,i)?!1:h.test(i)?v[i]=!0:(m[i]=!0,!1)}function T(i,o,u,p){if(u!==null&&u.type===0)return!1;switch(typeof o){case"function":case"symbol":return!0;case"boolean":return p?!1:u!==null?!u.acceptsBooleans:(i=i.toLowerCase().slice(0,5),i!=="data-"&&i!=="aria-");default:return!1}}function C(i,o,u,p){if(o===null||typeof o>"u"||T(i,o,u,p))return!0;if(p)return!1;if(u!==null)switch(u.type){case 3:return!o;case 4:return o===!1;case 5:return isNaN(o);case 6:return isNaN(o)||1>o}return!1}function I(i,o,u,p,g,x,A){this.acceptsBooleans=o===2||o===3||o===4,this.attributeName=p,this.attributeNamespace=g,this.mustUseProperty=u,this.propertyName=i,this.type=o,this.sanitizeURL=x,this.removeEmptyString=A}var b={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(i){b[i]=new I(i,0,!1,i,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(i){var o=i[0];b[o]=new I(o,1,!1,i[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(i){b[i]=new I(i,2,!1,i.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(i){b[i]=new I(i,2,!1,i,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(i){b[i]=new I(i,3,!1,i.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(i){b[i]=new I(i,3,!0,i,null,!1,!1)}),["capture","download"].forEach(function(i){b[i]=new I(i,4,!1,i,null,!1,!1)}),["cols","rows","size","span"].forEach(function(i){b[i]=new I(i,6,!1,i,null,!1,!1)}),["rowSpan","start"].forEach(function(i){b[i]=new I(i,5,!1,i.toLowerCase(),null,!1,!1)});var R=/[\-:]([a-z])/g;function D(i){return i[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(i){var o=i.replace(R,D);b[o]=new I(o,1,!1,i,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(i){var o=i.replace(R,D);b[o]=new I(o,1,!1,i,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(i){var o=i.replace(R,D);b[o]=new I(o,1,!1,i,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(i){b[i]=new I(i,1,!1,i.toLowerCase(),null,!1,!1)}),b.xlinkHref=new I("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(i){b[i]=new I(i,1,!1,i.toLowerCase(),null,!0,!0)});function j(i,o,u,p){var g=b.hasOwnProperty(o)?b[o]:null;(g!==null?g.type!==0:p||!(2<o.length)||o[0]!=="o"&&o[0]!=="O"||o[1]!=="n"&&o[1]!=="N")&&(C(o,u,g,p)&&(u=null),p||g===null?w(o)&&(u===null?i.removeAttribute(o):i.setAttribute(o,""+u)):g.mustUseProperty?i[g.propertyName]=u===null?g.type===3?!1:"":u:(o=g.attributeName,p=g.attributeNamespace,u===null?i.removeAttribute(o):(g=g.type,u=g===3||g===4&&u===!0?"":""+u,p?i.setAttributeNS(p,o,u):i.setAttribute(o,u))))}var z=n.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,q=Symbol.for("react.element"),Z=Symbol.for("react.portal"),L=Symbol.for("react.fragment"),N=Symbol.for("react.strict_mode"),M=Symbol.for("react.profiler"),V=Symbol.for("react.provider"),F=Symbol.for("react.context"),P=Symbol.for("react.forward_ref"),O=Symbol.for("react.suspense"),ee=Symbol.for("react.suspense_list"),ie=Symbol.for("react.memo"),ce=Symbol.for("react.lazy"),de=Symbol.for("react.offscreen"),Q=Symbol.iterator;function te(i){return i===null||typeof i!="object"?null:(i=Q&&i[Q]||i["@@iterator"],typeof i=="function"?i:null)}var le=Object.assign,U;function J(i){if(U===void 0)try{throw Error()}catch(u){var o=u.stack.trim().match(/\n( *(at )?)/);U=o&&o[1]||""}return`
`+U+i}var pe=!1;function Ce(i,o){if(!i||pe)return"";pe=!0;var u=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(o)if(o=function(){throw Error()},Object.defineProperty(o.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(o,[])}catch(Y){var p=Y}Reflect.construct(i,[],o)}else{try{o.call()}catch(Y){p=Y}i.call(o.prototype)}else{try{throw Error()}catch(Y){p=Y}i()}}catch(Y){if(Y&&p&&typeof Y.stack=="string"){for(var g=Y.stack.split(`
`),x=p.stack.split(`
`),A=g.length-1,$=x.length-1;1<=A&&0<=$&&g[A]!==x[$];)$--;for(;1<=A&&0<=$;A--,$--)if(g[A]!==x[$]){if(A!==1||$!==1)do if(A--,$--,0>$||g[A]!==x[$]){var B=`
`+g[A].replace(" at new "," at ");return i.displayName&&B.includes("<anonymous>")&&(B=B.replace("<anonymous>",i.displayName)),B}while(1<=A&&0<=$);break}}}finally{pe=!1,Error.prepareStackTrace=u}return(i=i?i.displayName||i.name:"")?J(i):""}function Ae(i){switch(i.tag){case 5:return J(i.type);case 16:return J("Lazy");case 13:return J("Suspense");case 19:return J("SuspenseList");case 0:case 2:case 15:return i=Ce(i.type,!1),i;case 11:return i=Ce(i.type.render,!1),i;case 1:return i=Ce(i.type,!0),i;default:return""}}function je(i){if(i==null)return null;if(typeof i=="function")return i.displayName||i.name||null;if(typeof i=="string")return i;switch(i){case L:return"Fragment";case Z:return"Portal";case M:return"Profiler";case N:return"StrictMode";case O:return"Suspense";case ee:return"SuspenseList"}if(typeof i=="object")switch(i.$$typeof){case F:return(i.displayName||"Context")+".Consumer";case V:return(i._context.displayName||"Context")+".Provider";case P:var o=i.render;return i=i.displayName,i||(i=o.displayName||o.name||"",i=i!==""?"ForwardRef("+i+")":"ForwardRef"),i;case ie:return o=i.displayName||null,o!==null?o:je(i.type)||"Memo";case ce:o=i._payload,i=i._init;try{return je(i(o))}catch{}}return null}function he(i){var o=i.type;switch(i.tag){case 24:return"Cache";case 9:return(o.displayName||"Context")+".Consumer";case 10:return(o._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return i=o.render,i=i.displayName||i.name||"",o.displayName||(i!==""?"ForwardRef("+i+")":"ForwardRef");case 7:return"Fragment";case 5:return o;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return je(o);case 8:return o===N?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof o=="function")return o.displayName||o.name||null;if(typeof o=="string")return o}return null}function Ee(i){switch(typeof i){case"boolean":case"number":case"string":case"undefined":return i;case"object":return i;default:return""}}function Le(i){var o=i.type;return(i=i.nodeName)&&i.toLowerCase()==="input"&&(o==="checkbox"||o==="radio")}function ke(i){var o=Le(i)?"checked":"value",u=Object.getOwnPropertyDescriptor(i.constructor.prototype,o),p=""+i[o];if(!i.hasOwnProperty(o)&&typeof u<"u"&&typeof u.get=="function"&&typeof u.set=="function"){var g=u.get,x=u.set;return Object.defineProperty(i,o,{configurable:!0,get:function(){return g.call(this)},set:function(A){p=""+A,x.call(this,A)}}),Object.defineProperty(i,o,{enumerable:u.enumerable}),{getValue:function(){return p},setValue:function(A){p=""+A},stopTracking:function(){i._valueTracker=null,delete i[o]}}}}function ze(i){i._valueTracker||(i._valueTracker=ke(i))}function Ke(i){if(!i)return!1;var o=i._valueTracker;if(!o)return!0;var u=o.getValue(),p="";return i&&(p=Le(i)?i.checked?"true":"false":i.value),i=p,i!==u?(o.setValue(i),!0):!1}function yt(i){if(i=i||(typeof document<"u"?document:void 0),typeof i>"u")return null;try{return i.activeElement||i.body}catch{return i.body}}function Mt(i,o){var u=o.checked;return le({},o,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:u??i._wrapperState.initialChecked})}function An(i,o){var u=o.defaultValue==null?"":o.defaultValue,p=o.checked!=null?o.checked:o.defaultChecked;u=Ee(o.value!=null?o.value:u),i._wrapperState={initialChecked:p,initialValue:u,controlled:o.type==="checkbox"||o.type==="radio"?o.checked!=null:o.value!=null}}function Un(i,o){o=o.checked,o!=null&&j(i,"checked",o,!1)}function Bn(i,o){Un(i,o);var u=Ee(o.value),p=o.type;if(u!=null)p==="number"?(u===0&&i.value===""||i.value!=u)&&(i.value=""+u):i.value!==""+u&&(i.value=""+u);else if(p==="submit"||p==="reset"){i.removeAttribute("value");return}o.hasOwnProperty("value")?Hn(i,o.type,u):o.hasOwnProperty("defaultValue")&&Hn(i,o.type,Ee(o.defaultValue)),o.checked==null&&o.defaultChecked!=null&&(i.defaultChecked=!!o.defaultChecked)}function to(i,o,u){if(o.hasOwnProperty("value")||o.hasOwnProperty("defaultValue")){var p=o.type;if(!(p!=="submit"&&p!=="reset"||o.value!==void 0&&o.value!==null))return;o=""+i._wrapperState.initialValue,u||o===i.value||(i.value=o),i.defaultValue=o}u=i.name,u!==""&&(i.name=""),i.defaultChecked=!!i._wrapperState.initialChecked,u!==""&&(i.name=u)}function Hn(i,o,u){(o!=="number"||yt(i.ownerDocument)!==i)&&(u==null?i.defaultValue=""+i._wrapperState.initialValue:i.defaultValue!==""+u&&(i.defaultValue=""+u))}var zr=Array.isArray;function Ur(i,o,u,p){if(i=i.options,o){o={};for(var g=0;g<u.length;g++)o["$"+u[g]]=!0;for(u=0;u<i.length;u++)g=o.hasOwnProperty("$"+i[u].value),i[u].selected!==g&&(i[u].selected=g),g&&p&&(i[u].defaultSelected=!0)}else{for(u=""+Ee(u),o=null,g=0;g<i.length;g++){if(i[g].value===u){i[g].selected=!0,p&&(i[g].defaultSelected=!0);return}o!==null||i[g].disabled||(o=i[g])}o!==null&&(o.selected=!0)}}function Pa(i,o){if(o.dangerouslySetInnerHTML!=null)throw Error(t(91));return le({},o,{value:void 0,defaultValue:void 0,children:""+i._wrapperState.initialValue})}function no(i,o){var u=o.value;if(u==null){if(u=o.children,o=o.defaultValue,u!=null){if(o!=null)throw Error(t(92));if(zr(u)){if(1<u.length)throw Error(t(93));u=u[0]}o=u}o==null&&(o=""),u=o}i._wrapperState={initialValue:Ee(u)}}function ro(i,o){var u=Ee(o.value),p=Ee(o.defaultValue);u!=null&&(u=""+u,u!==i.value&&(i.value=u),o.defaultValue==null&&i.defaultValue!==u&&(i.defaultValue=u)),p!=null&&(i.defaultValue=""+p)}function ka(i){var o=i.textContent;o===i._wrapperState.initialValue&&o!==""&&o!==null&&(i.value=o)}function Rt(i){switch(i){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function At(i,o){return i==null||i==="http://www.w3.org/1999/xhtml"?Rt(o):i==="http://www.w3.org/2000/svg"&&o==="foreignObject"?"http://www.w3.org/1999/xhtml":i}var Br,Da=function(i){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(o,u,p,g){MSApp.execUnsafeLocalFunction(function(){return i(o,u,p,g)})}:i}(function(i,o){if(i.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in i)i.innerHTML=o;else{for(Br=Br||document.createElement("div"),Br.innerHTML="<svg>"+o.valueOf().toString()+"</svg>",o=Br.firstChild;i.firstChild;)i.removeChild(i.firstChild);for(;o.firstChild;)i.appendChild(o.firstChild)}});function pi(i,o){if(o){var u=i.firstChild;if(u&&u===i.lastChild&&u.nodeType===3){u.nodeValue=o;return}}i.textContent=o}var fs={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},hs=["Webkit","ms","Moz","O"];Object.keys(fs).forEach(function(i){hs.forEach(function(o){o=o+i.charAt(0).toUpperCase()+i.substring(1),fs[o]=fs[i]})});function Ma(i,o,u){return o==null||typeof o=="boolean"||o===""?"":u||typeof o!="number"||o===0||fs.hasOwnProperty(i)&&fs[i]?(""+o).trim():o+"px"}function Oa(i,o){i=i.style;for(var u in o)if(o.hasOwnProperty(u)){var p=u.indexOf("--")===0,g=Ma(u,o[u],p);u==="float"&&(u="cssFloat"),p?i.setProperty(u,g):i[u]=g}}var La=le({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ja(i,o){if(o){if(La[i]&&(o.children!=null||o.dangerouslySetInnerHTML!=null))throw Error(t(137,i));if(o.dangerouslySetInnerHTML!=null){if(o.children!=null)throw Error(t(60));if(typeof o.dangerouslySetInnerHTML!="object"||!("__html"in o.dangerouslySetInnerHTML))throw Error(t(61))}if(o.style!=null&&typeof o.style!="object")throw Error(t(62))}}function Va(i,o){if(i.indexOf("-")===-1)return typeof o.is=="string";switch(i){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ps=null;function io(i){return i=i.target||i.srcElement||window,i.correspondingUseElement&&(i=i.correspondingUseElement),i.nodeType===3?i.parentNode:i}var so=null,Nn=null,gr=null;function oo(i){if(i=ll(i)){if(typeof so!="function")throw Error(t(280));var o=i.stateNode;o&&(o=Qu(o),so(i.stateNode,i.type,o))}}function yr(i){Nn?gr?gr.push(i):gr=[i]:Nn=i}function Fa(){if(Nn){var i=Nn,o=gr;if(gr=Nn=null,oo(i),o)for(i=0;i<o.length;i++)oo(o[i])}}function ms(i,o){return i(o)}function $a(){}var Hr=!1;function za(i,o,u){if(Hr)return i(o,u);Hr=!0;try{return ms(i,o,u)}finally{Hr=!1,(Nn!==null||gr!==null)&&($a(),Fa())}}function _t(i,o){var u=i.stateNode;if(u===null)return null;var p=Qu(u);if(p===null)return null;u=p[o];e:switch(o){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(p=!p.disabled)||(i=i.type,p=!(i==="button"||i==="input"||i==="select"||i==="textarea")),i=!p;break e;default:i=!1}if(i)return null;if(u&&typeof u!="function")throw Error(t(231,o,typeof u));return u}var ao=!1;if(c)try{var Wn={};Object.defineProperty(Wn,"passive",{get:function(){ao=!0}}),window.addEventListener("test",Wn,Wn),window.removeEventListener("test",Wn,Wn)}catch{ao=!1}function gs(i,o,u,p,g,x,A,$,B){var Y=Array.prototype.slice.call(arguments,3);try{o.apply(u,Y)}catch(oe){this.onError(oe)}}var ys=!1,lo=null,Kn=!1,Ua=null,vf={onError:function(i){ys=!0,lo=i}};function uo(i,o,u,p,g,x,A,$,B){ys=!1,lo=null,gs.apply(vf,arguments)}function _u(i,o,u,p,g,x,A,$,B){if(uo.apply(this,arguments),ys){if(ys){var Y=lo;ys=!1,lo=null}else throw Error(t(198));Kn||(Kn=!0,Ua=Y)}}function qn(i){var o=i,u=i;if(i.alternate)for(;o.return;)o=o.return;else{i=o;do o=i,(o.flags&4098)!==0&&(u=o.return),i=o.return;while(i)}return o.tag===3?u:null}function vs(i){if(i.tag===13){var o=i.memoizedState;if(o===null&&(i=i.alternate,i!==null&&(o=i.memoizedState)),o!==null)return o.dehydrated}return null}function Gn(i){if(qn(i)!==i)throw Error(t(188))}function xu(i){var o=i.alternate;if(!o){if(o=qn(i),o===null)throw Error(t(188));return o!==i?null:i}for(var u=i,p=o;;){var g=u.return;if(g===null)break;var x=g.alternate;if(x===null){if(p=g.return,p!==null){u=p;continue}break}if(g.child===x.child){for(x=g.child;x;){if(x===u)return Gn(g),i;if(x===p)return Gn(g),o;x=x.sibling}throw Error(t(188))}if(u.return!==p.return)u=g,p=x;else{for(var A=!1,$=g.child;$;){if($===u){A=!0,u=g,p=x;break}if($===p){A=!0,p=g,u=x;break}$=$.sibling}if(!A){for($=x.child;$;){if($===u){A=!0,u=x,p=g;break}if($===p){A=!0,p=x,u=g;break}$=$.sibling}if(!A)throw Error(t(189))}}if(u.alternate!==p)throw Error(t(190))}if(u.tag!==3)throw Error(t(188));return u.stateNode.current===u?i:o}function Ba(i){return i=xu(i),i!==null?co(i):null}function co(i){if(i.tag===5||i.tag===6)return i;for(i=i.child;i!==null;){var o=co(i);if(o!==null)return o;i=i.sibling}return null}var fo=e.unstable_scheduleCallback,Ha=e.unstable_cancelCallback,Eu=e.unstable_shouldYield,wf=e.unstable_requestPaint,rt=e.unstable_now,Cu=e.unstable_getCurrentPriorityLevel,ws=e.unstable_ImmediatePriority,mi=e.unstable_UserBlockingPriority,Pn=e.unstable_NormalPriority,Wa=e.unstable_LowPriority,Su=e.unstable_IdlePriority,_s=null,wn=null;function Tu(i){if(wn&&typeof wn.onCommitFiberRoot=="function")try{wn.onCommitFiberRoot(_s,i,void 0,(i.current.flags&128)===128)}catch{}}var rn=Math.clz32?Math.clz32:bu,Ka=Math.log,Iu=Math.LN2;function bu(i){return i>>>=0,i===0?32:31-(Ka(i)/Iu|0)|0}var ho=64,po=4194304;function gi(i){switch(i&-i){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return i&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return i&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return i}}function xs(i,o){var u=i.pendingLanes;if(u===0)return 0;var p=0,g=i.suspendedLanes,x=i.pingedLanes,A=u&268435455;if(A!==0){var $=A&~g;$!==0?p=gi($):(x&=A,x!==0&&(p=gi(x)))}else A=u&~g,A!==0?p=gi(A):x!==0&&(p=gi(x));if(p===0)return 0;if(o!==0&&o!==p&&(o&g)===0&&(g=p&-p,x=o&-o,g>=x||g===16&&(x&4194240)!==0))return o;if((p&4)!==0&&(p|=u&16),o=i.entangledLanes,o!==0)for(i=i.entanglements,o&=p;0<o;)u=31-rn(o),g=1<<u,p|=i[u],o&=~g;return p}function _f(i,o){switch(i){case 1:case 2:case 4:return o+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return o+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function Wr(i,o){for(var u=i.suspendedLanes,p=i.pingedLanes,g=i.expirationTimes,x=i.pendingLanes;0<x;){var A=31-rn(x),$=1<<A,B=g[A];B===-1?(($&u)===0||($&p)!==0)&&(g[A]=_f($,o)):B<=o&&(i.expiredLanes|=$),x&=~$}}function _n(i){return i=i.pendingLanes&-1073741825,i!==0?i:i&1073741824?1073741824:0}function Es(){var i=ho;return ho<<=1,(ho&4194240)===0&&(ho=64),i}function yi(i){for(var o=[],u=0;31>u;u++)o.push(i);return o}function vi(i,o,u){i.pendingLanes|=o,o!==536870912&&(i.suspendedLanes=0,i.pingedLanes=0),i=i.eventTimes,o=31-rn(o),i[o]=u}function tt(i,o){var u=i.pendingLanes&~o;i.pendingLanes=o,i.suspendedLanes=0,i.pingedLanes=0,i.expiredLanes&=o,i.mutableReadLanes&=o,i.entangledLanes&=o,o=i.entanglements;var p=i.eventTimes;for(i=i.expirationTimes;0<u;){var g=31-rn(u),x=1<<g;o[g]=0,p[g]=-1,i[g]=-1,u&=~x}}function wi(i,o){var u=i.entangledLanes|=o;for(i=i.entanglements;u;){var p=31-rn(u),g=1<<p;g&o|i[p]&o&&(i[p]|=o),u&=~g}}var qe=0;function _i(i){return i&=-i,1<i?4<i?(i&268435455)!==0?16:536870912:4:1}var Ru,mo,Au,Nu,Pu,qa=!1,vr=[],$t=null,Qn=null,Yn=null,xi=new Map,kn=new Map,wr=[],xf="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function ku(i,o){switch(i){case"focusin":case"focusout":$t=null;break;case"dragenter":case"dragleave":Qn=null;break;case"mouseover":case"mouseout":Yn=null;break;case"pointerover":case"pointerout":xi.delete(o.pointerId);break;case"gotpointercapture":case"lostpointercapture":kn.delete(o.pointerId)}}function ln(i,o,u,p,g,x){return i===null||i.nativeEvent!==x?(i={blockedOn:o,domEventName:u,eventSystemFlags:p,nativeEvent:x,targetContainers:[g]},o!==null&&(o=ll(o),o!==null&&mo(o)),i):(i.eventSystemFlags|=p,o=i.targetContainers,g!==null&&o.indexOf(g)===-1&&o.push(g),i)}function Ef(i,o,u,p,g){switch(o){case"focusin":return $t=ln($t,i,o,u,p,g),!0;case"dragenter":return Qn=ln(Qn,i,o,u,p,g),!0;case"mouseover":return Yn=ln(Yn,i,o,u,p,g),!0;case"pointerover":var x=g.pointerId;return xi.set(x,ln(xi.get(x)||null,i,o,u,p,g)),!0;case"gotpointercapture":return x=g.pointerId,kn.set(x,ln(kn.get(x)||null,i,o,u,p,g)),!0}return!1}function Du(i){var o=bs(i.target);if(o!==null){var u=qn(o);if(u!==null){if(o=u.tag,o===13){if(o=vs(u),o!==null){i.blockedOn=o,Pu(i.priority,function(){Au(u)});return}}else if(o===3&&u.stateNode.current.memoizedState.isDehydrated){i.blockedOn=u.tag===3?u.stateNode.containerInfo:null;return}}}i.blockedOn=null}function Kr(i){if(i.blockedOn!==null)return!1;for(var o=i.targetContainers;0<o.length;){var u=go(i.domEventName,i.eventSystemFlags,o[0],i.nativeEvent);if(u===null){u=i.nativeEvent;var p=new u.constructor(u.type,u);ps=p,u.target.dispatchEvent(p),ps=null}else return o=ll(u),o!==null&&mo(o),i.blockedOn=u,!1;o.shift()}return!0}function Cs(i,o,u){Kr(i)&&u.delete(o)}function Mu(){qa=!1,$t!==null&&Kr($t)&&($t=null),Qn!==null&&Kr(Qn)&&(Qn=null),Yn!==null&&Kr(Yn)&&(Yn=null),xi.forEach(Cs),kn.forEach(Cs)}function Xn(i,o){i.blockedOn===o&&(i.blockedOn=null,qa||(qa=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Mu)))}function Jn(i){function o(g){return Xn(g,i)}if(0<vr.length){Xn(vr[0],i);for(var u=1;u<vr.length;u++){var p=vr[u];p.blockedOn===i&&(p.blockedOn=null)}}for($t!==null&&Xn($t,i),Qn!==null&&Xn(Qn,i),Yn!==null&&Xn(Yn,i),xi.forEach(o),kn.forEach(o),u=0;u<wr.length;u++)p=wr[u],p.blockedOn===i&&(p.blockedOn=null);for(;0<wr.length&&(u=wr[0],u.blockedOn===null);)Du(u),u.blockedOn===null&&wr.shift()}var qr=z.ReactCurrentBatchConfig,Ei=!0;function dt(i,o,u,p){var g=qe,x=qr.transition;qr.transition=null;try{qe=1,Ga(i,o,u,p)}finally{qe=g,qr.transition=x}}function Cf(i,o,u,p){var g=qe,x=qr.transition;qr.transition=null;try{qe=4,Ga(i,o,u,p)}finally{qe=g,qr.transition=x}}function Ga(i,o,u,p){if(Ei){var g=go(i,o,u,p);if(g===null)Mf(i,o,p,Ss,u),ku(i,p);else if(Ef(g,i,o,u,p))p.stopPropagation();else if(ku(i,p),o&4&&-1<xf.indexOf(i)){for(;g!==null;){var x=ll(g);if(x!==null&&Ru(x),x=go(i,o,u,p),x===null&&Mf(i,o,p,Ss,u),x===g)break;g=x}g!==null&&p.stopPropagation()}else Mf(i,o,p,null,u)}}var Ss=null;function go(i,o,u,p){if(Ss=null,i=io(p),i=bs(i),i!==null)if(o=qn(i),o===null)i=null;else if(u=o.tag,u===13){if(i=vs(o),i!==null)return i;i=null}else if(u===3){if(o.stateNode.current.memoizedState.isDehydrated)return o.tag===3?o.stateNode.containerInfo:null;i=null}else o!==i&&(i=null);return Ss=i,null}function Qa(i){switch(i){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Cu()){case ws:return 1;case mi:return 4;case Pn:case Wa:return 16;case Su:return 536870912;default:return 16}default:return 16}}var xn=null,yo=null,un=null;function Ya(){if(un)return un;var i,o=yo,u=o.length,p,g="value"in xn?xn.value:xn.textContent,x=g.length;for(i=0;i<u&&o[i]===g[i];i++);var A=u-i;for(p=1;p<=A&&o[u-p]===g[x-p];p++);return un=g.slice(i,1<p?1-p:void 0)}function vo(i){var o=i.keyCode;return"charCode"in i?(i=i.charCode,i===0&&o===13&&(i=13)):i=o,i===10&&(i=13),32<=i||i===13?i:0}function _r(){return!0}function Xa(){return!1}function zt(i){function o(u,p,g,x,A){this._reactName=u,this._targetInst=g,this.type=p,this.nativeEvent=x,this.target=A,this.currentTarget=null;for(var $ in i)i.hasOwnProperty($)&&(u=i[$],this[$]=u?u(x):x[$]);return this.isDefaultPrevented=(x.defaultPrevented!=null?x.defaultPrevented:x.returnValue===!1)?_r:Xa,this.isPropagationStopped=Xa,this}return le(o.prototype,{preventDefault:function(){this.defaultPrevented=!0;var u=this.nativeEvent;u&&(u.preventDefault?u.preventDefault():typeof u.returnValue!="unknown"&&(u.returnValue=!1),this.isDefaultPrevented=_r)},stopPropagation:function(){var u=this.nativeEvent;u&&(u.stopPropagation?u.stopPropagation():typeof u.cancelBubble!="unknown"&&(u.cancelBubble=!0),this.isPropagationStopped=_r)},persist:function(){},isPersistent:_r}),o}var Zn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(i){return i.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},wo=zt(Zn),xr=le({},Zn,{view:0,detail:0}),Sf=zt(xr),_o,Gr,Ci,Ts=le({},xr,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Er,button:0,buttons:0,relatedTarget:function(i){return i.relatedTarget===void 0?i.fromElement===i.srcElement?i.toElement:i.fromElement:i.relatedTarget},movementX:function(i){return"movementX"in i?i.movementX:(i!==Ci&&(Ci&&i.type==="mousemove"?(_o=i.screenX-Ci.screenX,Gr=i.screenY-Ci.screenY):Gr=_o=0,Ci=i),_o)},movementY:function(i){return"movementY"in i?i.movementY:Gr}}),xo=zt(Ts),Ja=le({},Ts,{dataTransfer:0}),Ou=zt(Ja),Eo=le({},xr,{relatedTarget:0}),Co=zt(Eo),Lu=le({},Zn,{animationName:0,elapsedTime:0,pseudoElement:0}),Qr=zt(Lu),ju=le({},Zn,{clipboardData:function(i){return"clipboardData"in i?i.clipboardData:window.clipboardData}}),Vu=zt(ju),Fu=le({},Zn,{data:0}),Za=zt(Fu),So={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},$u={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function zu(i){var o=this.nativeEvent;return o.getModifierState?o.getModifierState(i):(i=$u[i])?!!o[i]:!1}function Er(){return zu}var d=le({},xr,{key:function(i){if(i.key){var o=So[i.key]||i.key;if(o!=="Unidentified")return o}return i.type==="keypress"?(i=vo(i),i===13?"Enter":String.fromCharCode(i)):i.type==="keydown"||i.type==="keyup"?sn[i.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Er,charCode:function(i){return i.type==="keypress"?vo(i):0},keyCode:function(i){return i.type==="keydown"||i.type==="keyup"?i.keyCode:0},which:function(i){return i.type==="keypress"?vo(i):i.type==="keydown"||i.type==="keyup"?i.keyCode:0}}),_=zt(d),S=le({},Ts,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),k=zt(S),W=le({},xr,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Er}),X=zt(W),fe=le({},Zn,{propertyName:0,elapsedTime:0,pseudoElement:0}),et=zt(fe),Nt=le({},Ts,{deltaX:function(i){return"deltaX"in i?i.deltaX:"wheelDeltaX"in i?-i.wheelDeltaX:0},deltaY:function(i){return"deltaY"in i?i.deltaY:"wheelDeltaY"in i?-i.wheelDeltaY:"wheelDelta"in i?-i.wheelDelta:0},deltaZ:0,deltaMode:0}),Ge=zt(Nt),Ot=[9,13,27,32],St=c&&"CompositionEvent"in window,Dn=null;c&&"documentMode"in document&&(Dn=document.documentMode);var En=c&&"TextEvent"in window&&!Dn,Is=c&&(!St||Dn&&8<Dn&&11>=Dn),To=" ",cy=!1;function dy(i,o){switch(i){case"keyup":return Ot.indexOf(o.keyCode)!==-1;case"keydown":return o.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function fy(i){return i=i.detail,typeof i=="object"&&"data"in i?i.data:null}var Io=!1;function AT(i,o){switch(i){case"compositionend":return fy(o);case"keypress":return o.which!==32?null:(cy=!0,To);case"textInput":return i=o.data,i===To&&cy?null:i;default:return null}}function NT(i,o){if(Io)return i==="compositionend"||!St&&dy(i,o)?(i=Ya(),un=yo=xn=null,Io=!1,i):null;switch(i){case"paste":return null;case"keypress":if(!(o.ctrlKey||o.altKey||o.metaKey)||o.ctrlKey&&o.altKey){if(o.char&&1<o.char.length)return o.char;if(o.which)return String.fromCharCode(o.which)}return null;case"compositionend":return Is&&o.locale!=="ko"?null:o.data;default:return null}}var PT={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function hy(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o==="input"?!!PT[i.type]:o==="textarea"}function py(i,o,u,p){yr(p),o=Ku(o,"onChange"),0<o.length&&(u=new wo("onChange","change",null,u,p),i.push({event:u,listeners:o}))}var el=null,tl=null;function kT(i){ky(i,0)}function Uu(i){var o=Po(i);if(Ke(o))return i}function DT(i,o){if(i==="change")return o}var my=!1;if(c){var Tf;if(c){var If="oninput"in document;if(!If){var gy=document.createElement("div");gy.setAttribute("oninput","return;"),If=typeof gy.oninput=="function"}Tf=If}else Tf=!1;my=Tf&&(!document.documentMode||9<document.documentMode)}function yy(){el&&(el.detachEvent("onpropertychange",vy),tl=el=null)}function vy(i){if(i.propertyName==="value"&&Uu(tl)){var o=[];py(o,tl,i,io(i)),za(kT,o)}}function MT(i,o,u){i==="focusin"?(yy(),el=o,tl=u,el.attachEvent("onpropertychange",vy)):i==="focusout"&&yy()}function OT(i){if(i==="selectionchange"||i==="keyup"||i==="keydown")return Uu(tl)}function LT(i,o){if(i==="click")return Uu(o)}function jT(i,o){if(i==="input"||i==="change")return Uu(o)}function VT(i,o){return i===o&&(i!==0||1/i===1/o)||i!==i&&o!==o}var er=typeof Object.is=="function"?Object.is:VT;function nl(i,o){if(er(i,o))return!0;if(typeof i!="object"||i===null||typeof o!="object"||o===null)return!1;var u=Object.keys(i),p=Object.keys(o);if(u.length!==p.length)return!1;for(p=0;p<u.length;p++){var g=u[p];if(!f.call(o,g)||!er(i[g],o[g]))return!1}return!0}function wy(i){for(;i&&i.firstChild;)i=i.firstChild;return i}function _y(i,o){var u=wy(i);i=0;for(var p;u;){if(u.nodeType===3){if(p=i+u.textContent.length,i<=o&&p>=o)return{node:u,offset:o-i};i=p}e:{for(;u;){if(u.nextSibling){u=u.nextSibling;break e}u=u.parentNode}u=void 0}u=wy(u)}}function xy(i,o){return i&&o?i===o?!0:i&&i.nodeType===3?!1:o&&o.nodeType===3?xy(i,o.parentNode):"contains"in i?i.contains(o):i.compareDocumentPosition?!!(i.compareDocumentPosition(o)&16):!1:!1}function Ey(){for(var i=window,o=yt();o instanceof i.HTMLIFrameElement;){try{var u=typeof o.contentWindow.location.href=="string"}catch{u=!1}if(u)i=o.contentWindow;else break;o=yt(i.document)}return o}function bf(i){var o=i&&i.nodeName&&i.nodeName.toLowerCase();return o&&(o==="input"&&(i.type==="text"||i.type==="search"||i.type==="tel"||i.type==="url"||i.type==="password")||o==="textarea"||i.contentEditable==="true")}function FT(i){var o=Ey(),u=i.focusedElem,p=i.selectionRange;if(o!==u&&u&&u.ownerDocument&&xy(u.ownerDocument.documentElement,u)){if(p!==null&&bf(u)){if(o=p.start,i=p.end,i===void 0&&(i=o),"selectionStart"in u)u.selectionStart=o,u.selectionEnd=Math.min(i,u.value.length);else if(i=(o=u.ownerDocument||document)&&o.defaultView||window,i.getSelection){i=i.getSelection();var g=u.textContent.length,x=Math.min(p.start,g);p=p.end===void 0?x:Math.min(p.end,g),!i.extend&&x>p&&(g=p,p=x,x=g),g=_y(u,x);var A=_y(u,p);g&&A&&(i.rangeCount!==1||i.anchorNode!==g.node||i.anchorOffset!==g.offset||i.focusNode!==A.node||i.focusOffset!==A.offset)&&(o=o.createRange(),o.setStart(g.node,g.offset),i.removeAllRanges(),x>p?(i.addRange(o),i.extend(A.node,A.offset)):(o.setEnd(A.node,A.offset),i.addRange(o)))}}for(o=[],i=u;i=i.parentNode;)i.nodeType===1&&o.push({element:i,left:i.scrollLeft,top:i.scrollTop});for(typeof u.focus=="function"&&u.focus(),u=0;u<o.length;u++)i=o[u],i.element.scrollLeft=i.left,i.element.scrollTop=i.top}}var $T=c&&"documentMode"in document&&11>=document.documentMode,bo=null,Rf=null,rl=null,Af=!1;function Cy(i,o,u){var p=u.window===u?u.document:u.nodeType===9?u:u.ownerDocument;Af||bo==null||bo!==yt(p)||(p=bo,"selectionStart"in p&&bf(p)?p={start:p.selectionStart,end:p.selectionEnd}:(p=(p.ownerDocument&&p.ownerDocument.defaultView||window).getSelection(),p={anchorNode:p.anchorNode,anchorOffset:p.anchorOffset,focusNode:p.focusNode,focusOffset:p.focusOffset}),rl&&nl(rl,p)||(rl=p,p=Ku(Rf,"onSelect"),0<p.length&&(o=new wo("onSelect","select",null,o,u),i.push({event:o,listeners:p}),o.target=bo)))}function Bu(i,o){var u={};return u[i.toLowerCase()]=o.toLowerCase(),u["Webkit"+i]="webkit"+o,u["Moz"+i]="moz"+o,u}var Ro={animationend:Bu("Animation","AnimationEnd"),animationiteration:Bu("Animation","AnimationIteration"),animationstart:Bu("Animation","AnimationStart"),transitionend:Bu("Transition","TransitionEnd")},Nf={},Sy={};c&&(Sy=document.createElement("div").style,"AnimationEvent"in window||(delete Ro.animationend.animation,delete Ro.animationiteration.animation,delete Ro.animationstart.animation),"TransitionEvent"in window||delete Ro.transitionend.transition);function Hu(i){if(Nf[i])return Nf[i];if(!Ro[i])return i;var o=Ro[i],u;for(u in o)if(o.hasOwnProperty(u)&&u in Sy)return Nf[i]=o[u];return i}var Ty=Hu("animationend"),Iy=Hu("animationiteration"),by=Hu("animationstart"),Ry=Hu("transitionend"),Ay=new Map,Ny="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Si(i,o){Ay.set(i,o),a(o,[i])}for(var Pf=0;Pf<Ny.length;Pf++){var kf=Ny[Pf],zT=kf.toLowerCase(),UT=kf[0].toUpperCase()+kf.slice(1);Si(zT,"on"+UT)}Si(Ty,"onAnimationEnd"),Si(Iy,"onAnimationIteration"),Si(by,"onAnimationStart"),Si("dblclick","onDoubleClick"),Si("focusin","onFocus"),Si("focusout","onBlur"),Si(Ry,"onTransitionEnd"),l("onMouseEnter",["mouseout","mouseover"]),l("onMouseLeave",["mouseout","mouseover"]),l("onPointerEnter",["pointerout","pointerover"]),l("onPointerLeave",["pointerout","pointerover"]),a("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),a("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),a("onBeforeInput",["compositionend","keypress","textInput","paste"]),a("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),a("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var il="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),BT=new Set("cancel close invalid load scroll toggle".split(" ").concat(il));function Py(i,o,u){var p=i.type||"unknown-event";i.currentTarget=u,_u(p,o,void 0,i),i.currentTarget=null}function ky(i,o){o=(o&4)!==0;for(var u=0;u<i.length;u++){var p=i[u],g=p.event;p=p.listeners;e:{var x=void 0;if(o)for(var A=p.length-1;0<=A;A--){var $=p[A],B=$.instance,Y=$.currentTarget;if($=$.listener,B!==x&&g.isPropagationStopped())break e;Py(g,$,Y),x=B}else for(A=0;A<p.length;A++){if($=p[A],B=$.instance,Y=$.currentTarget,$=$.listener,B!==x&&g.isPropagationStopped())break e;Py(g,$,Y),x=B}}}if(Kn)throw i=Ua,Kn=!1,Ua=null,i}function ot(i,o){var u=o[$f];u===void 0&&(u=o[$f]=new Set);var p=i+"__bubble";u.has(p)||(Dy(o,i,2,!1),u.add(p))}function Df(i,o,u){var p=0;o&&(p|=4),Dy(u,i,p,o)}var Wu="_reactListening"+Math.random().toString(36).slice(2);function sl(i){if(!i[Wu]){i[Wu]=!0,r.forEach(function(u){u!=="selectionchange"&&(BT.has(u)||Df(u,!1,i),Df(u,!0,i))});var o=i.nodeType===9?i:i.ownerDocument;o===null||o[Wu]||(o[Wu]=!0,Df("selectionchange",!1,o))}}function Dy(i,o,u,p){switch(Qa(o)){case 1:var g=dt;break;case 4:g=Cf;break;default:g=Ga}u=g.bind(null,o,u,i),g=void 0,!ao||o!=="touchstart"&&o!=="touchmove"&&o!=="wheel"||(g=!0),p?g!==void 0?i.addEventListener(o,u,{capture:!0,passive:g}):i.addEventListener(o,u,!0):g!==void 0?i.addEventListener(o,u,{passive:g}):i.addEventListener(o,u,!1)}function Mf(i,o,u,p,g){var x=p;if((o&1)===0&&(o&2)===0&&p!==null)e:for(;;){if(p===null)return;var A=p.tag;if(A===3||A===4){var $=p.stateNode.containerInfo;if($===g||$.nodeType===8&&$.parentNode===g)break;if(A===4)for(A=p.return;A!==null;){var B=A.tag;if((B===3||B===4)&&(B=A.stateNode.containerInfo,B===g||B.nodeType===8&&B.parentNode===g))return;A=A.return}for(;$!==null;){if(A=bs($),A===null)return;if(B=A.tag,B===5||B===6){p=x=A;continue e}$=$.parentNode}}p=p.return}za(function(){var Y=x,oe=io(u),ae=[];e:{var se=Ay.get(i);if(se!==void 0){var me=wo,we=i;switch(i){case"keypress":if(vo(u)===0)break e;case"keydown":case"keyup":me=_;break;case"focusin":we="focus",me=Co;break;case"focusout":we="blur",me=Co;break;case"beforeblur":case"afterblur":me=Co;break;case"click":if(u.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":me=xo;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":me=Ou;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":me=X;break;case Ty:case Iy:case by:me=Qr;break;case Ry:me=et;break;case"scroll":me=Sf;break;case"wheel":me=Ge;break;case"copy":case"cut":case"paste":me=Vu;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":me=k}var _e=(o&4)!==0,xt=!_e&&i==="scroll",K=_e?se!==null?se+"Capture":null:se;_e=[];for(var H=Y,G;H!==null;){G=H;var ue=G.stateNode;if(G.tag===5&&ue!==null&&(G=ue,K!==null&&(ue=_t(H,K),ue!=null&&_e.push(ol(H,ue,G)))),xt)break;H=H.return}0<_e.length&&(se=new me(se,we,null,u,oe),ae.push({event:se,listeners:_e}))}}if((o&7)===0){e:{if(se=i==="mouseover"||i==="pointerover",me=i==="mouseout"||i==="pointerout",se&&u!==ps&&(we=u.relatedTarget||u.fromElement)&&(bs(we)||we[Yr]))break e;if((me||se)&&(se=oe.window===oe?oe:(se=oe.ownerDocument)?se.defaultView||se.parentWindow:window,me?(we=u.relatedTarget||u.toElement,me=Y,we=we?bs(we):null,we!==null&&(xt=qn(we),we!==xt||we.tag!==5&&we.tag!==6)&&(we=null)):(me=null,we=Y),me!==we)){if(_e=xo,ue="onMouseLeave",K="onMouseEnter",H="mouse",(i==="pointerout"||i==="pointerover")&&(_e=k,ue="onPointerLeave",K="onPointerEnter",H="pointer"),xt=me==null?se:Po(me),G=we==null?se:Po(we),se=new _e(ue,H+"leave",me,u,oe),se.target=xt,se.relatedTarget=G,ue=null,bs(oe)===Y&&(_e=new _e(K,H+"enter",we,u,oe),_e.target=G,_e.relatedTarget=xt,ue=_e),xt=ue,me&&we)t:{for(_e=me,K=we,H=0,G=_e;G;G=Ao(G))H++;for(G=0,ue=K;ue;ue=Ao(ue))G++;for(;0<H-G;)_e=Ao(_e),H--;for(;0<G-H;)K=Ao(K),G--;for(;H--;){if(_e===K||K!==null&&_e===K.alternate)break t;_e=Ao(_e),K=Ao(K)}_e=null}else _e=null;me!==null&&My(ae,se,me,_e,!1),we!==null&&xt!==null&&My(ae,xt,we,_e,!0)}}e:{if(se=Y?Po(Y):window,me=se.nodeName&&se.nodeName.toLowerCase(),me==="select"||me==="input"&&se.type==="file")var xe=DT;else if(hy(se))if(my)xe=jT;else{xe=OT;var Te=MT}else(me=se.nodeName)&&me.toLowerCase()==="input"&&(se.type==="checkbox"||se.type==="radio")&&(xe=LT);if(xe&&(xe=xe(i,Y))){py(ae,xe,u,oe);break e}Te&&Te(i,se,Y),i==="focusout"&&(Te=se._wrapperState)&&Te.controlled&&se.type==="number"&&Hn(se,"number",se.value)}switch(Te=Y?Po(Y):window,i){case"focusin":(hy(Te)||Te.contentEditable==="true")&&(bo=Te,Rf=Y,rl=null);break;case"focusout":rl=Rf=bo=null;break;case"mousedown":Af=!0;break;case"contextmenu":case"mouseup":case"dragend":Af=!1,Cy(ae,u,oe);break;case"selectionchange":if($T)break;case"keydown":case"keyup":Cy(ae,u,oe)}var Ie;if(St)e:{switch(i){case"compositionstart":var Ne="onCompositionStart";break e;case"compositionend":Ne="onCompositionEnd";break e;case"compositionupdate":Ne="onCompositionUpdate";break e}Ne=void 0}else Io?dy(i,u)&&(Ne="onCompositionEnd"):i==="keydown"&&u.keyCode===229&&(Ne="onCompositionStart");Ne&&(Is&&u.locale!=="ko"&&(Io||Ne!=="onCompositionStart"?Ne==="onCompositionEnd"&&Io&&(Ie=Ya()):(xn=oe,yo="value"in xn?xn.value:xn.textContent,Io=!0)),Te=Ku(Y,Ne),0<Te.length&&(Ne=new Za(Ne,i,null,u,oe),ae.push({event:Ne,listeners:Te}),Ie?Ne.data=Ie:(Ie=fy(u),Ie!==null&&(Ne.data=Ie)))),(Ie=En?AT(i,u):NT(i,u))&&(Y=Ku(Y,"onBeforeInput"),0<Y.length&&(oe=new Za("onBeforeInput","beforeinput",null,u,oe),ae.push({event:oe,listeners:Y}),oe.data=Ie))}ky(ae,o)})}function ol(i,o,u){return{instance:i,listener:o,currentTarget:u}}function Ku(i,o){for(var u=o+"Capture",p=[];i!==null;){var g=i,x=g.stateNode;g.tag===5&&x!==null&&(g=x,x=_t(i,u),x!=null&&p.unshift(ol(i,x,g)),x=_t(i,o),x!=null&&p.push(ol(i,x,g))),i=i.return}return p}function Ao(i){if(i===null)return null;do i=i.return;while(i&&i.tag!==5);return i||null}function My(i,o,u,p,g){for(var x=o._reactName,A=[];u!==null&&u!==p;){var $=u,B=$.alternate,Y=$.stateNode;if(B!==null&&B===p)break;$.tag===5&&Y!==null&&($=Y,g?(B=_t(u,x),B!=null&&A.unshift(ol(u,B,$))):g||(B=_t(u,x),B!=null&&A.push(ol(u,B,$)))),u=u.return}A.length!==0&&i.push({event:o,listeners:A})}var HT=/\r\n?/g,WT=/\u0000|\uFFFD/g;function Oy(i){return(typeof i=="string"?i:""+i).replace(HT,`
`).replace(WT,"")}function qu(i,o,u){if(o=Oy(o),Oy(i)!==o&&u)throw Error(t(425))}function Gu(){}var Of=null,Lf=null;function jf(i,o){return i==="textarea"||i==="noscript"||typeof o.children=="string"||typeof o.children=="number"||typeof o.dangerouslySetInnerHTML=="object"&&o.dangerouslySetInnerHTML!==null&&o.dangerouslySetInnerHTML.__html!=null}var Vf=typeof setTimeout=="function"?setTimeout:void 0,KT=typeof clearTimeout=="function"?clearTimeout:void 0,Ly=typeof Promise=="function"?Promise:void 0,qT=typeof queueMicrotask=="function"?queueMicrotask:typeof Ly<"u"?function(i){return Ly.resolve(null).then(i).catch(GT)}:Vf;function GT(i){setTimeout(function(){throw i})}function Ff(i,o){var u=o,p=0;do{var g=u.nextSibling;if(i.removeChild(u),g&&g.nodeType===8)if(u=g.data,u==="/$"){if(p===0){i.removeChild(g),Jn(o);return}p--}else u!=="$"&&u!=="$?"&&u!=="$!"||p++;u=g}while(u);Jn(o)}function Ti(i){for(;i!=null;i=i.nextSibling){var o=i.nodeType;if(o===1||o===3)break;if(o===8){if(o=i.data,o==="$"||o==="$!"||o==="$?")break;if(o==="/$")return null}}return i}function jy(i){i=i.previousSibling;for(var o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="$"||u==="$!"||u==="$?"){if(o===0)return i;o--}else u==="/$"&&o++}i=i.previousSibling}return null}var No=Math.random().toString(36).slice(2),Cr="__reactFiber$"+No,al="__reactProps$"+No,Yr="__reactContainer$"+No,$f="__reactEvents$"+No,QT="__reactListeners$"+No,YT="__reactHandles$"+No;function bs(i){var o=i[Cr];if(o)return o;for(var u=i.parentNode;u;){if(o=u[Yr]||u[Cr]){if(u=o.alternate,o.child!==null||u!==null&&u.child!==null)for(i=jy(i);i!==null;){if(u=i[Cr])return u;i=jy(i)}return o}i=u,u=i.parentNode}return null}function ll(i){return i=i[Cr]||i[Yr],!i||i.tag!==5&&i.tag!==6&&i.tag!==13&&i.tag!==3?null:i}function Po(i){if(i.tag===5||i.tag===6)return i.stateNode;throw Error(t(33))}function Qu(i){return i[al]||null}var zf=[],ko=-1;function Ii(i){return{current:i}}function at(i){0>ko||(i.current=zf[ko],zf[ko]=null,ko--)}function it(i,o){ko++,zf[ko]=i.current,i.current=o}var bi={},Qt=Ii(bi),cn=Ii(!1),Rs=bi;function Do(i,o){var u=i.type.contextTypes;if(!u)return bi;var p=i.stateNode;if(p&&p.__reactInternalMemoizedUnmaskedChildContext===o)return p.__reactInternalMemoizedMaskedChildContext;var g={},x;for(x in u)g[x]=o[x];return p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=o,i.__reactInternalMemoizedMaskedChildContext=g),g}function dn(i){return i=i.childContextTypes,i!=null}function Yu(){at(cn),at(Qt)}function Vy(i,o,u){if(Qt.current!==bi)throw Error(t(168));it(Qt,o),it(cn,u)}function Fy(i,o,u){var p=i.stateNode;if(o=o.childContextTypes,typeof p.getChildContext!="function")return u;p=p.getChildContext();for(var g in p)if(!(g in o))throw Error(t(108,he(i)||"Unknown",g));return le({},u,p)}function Xu(i){return i=(i=i.stateNode)&&i.__reactInternalMemoizedMergedChildContext||bi,Rs=Qt.current,it(Qt,i),it(cn,cn.current),!0}function $y(i,o,u){var p=i.stateNode;if(!p)throw Error(t(169));u?(i=Fy(i,o,Rs),p.__reactInternalMemoizedMergedChildContext=i,at(cn),at(Qt),it(Qt,i)):at(cn),it(cn,u)}var Xr=null,Ju=!1,Uf=!1;function zy(i){Xr===null?Xr=[i]:Xr.push(i)}function XT(i){Ju=!0,zy(i)}function Ri(){if(!Uf&&Xr!==null){Uf=!0;var i=0,o=qe;try{var u=Xr;for(qe=1;i<u.length;i++){var p=u[i];do p=p(!0);while(p!==null)}Xr=null,Ju=!1}catch(g){throw Xr!==null&&(Xr=Xr.slice(i+1)),fo(ws,Ri),g}finally{qe=o,Uf=!1}}return null}var Mo=[],Oo=0,Zu=null,ec=0,Mn=[],On=0,As=null,Jr=1,Zr="";function Ns(i,o){Mo[Oo++]=ec,Mo[Oo++]=Zu,Zu=i,ec=o}function Uy(i,o,u){Mn[On++]=Jr,Mn[On++]=Zr,Mn[On++]=As,As=i;var p=Jr;i=Zr;var g=32-rn(p)-1;p&=~(1<<g),u+=1;var x=32-rn(o)+g;if(30<x){var A=g-g%5;x=(p&(1<<A)-1).toString(32),p>>=A,g-=A,Jr=1<<32-rn(o)+g|u<<g|p,Zr=x+i}else Jr=1<<x|u<<g|p,Zr=i}function Bf(i){i.return!==null&&(Ns(i,1),Uy(i,1,0))}function Hf(i){for(;i===Zu;)Zu=Mo[--Oo],Mo[Oo]=null,ec=Mo[--Oo],Mo[Oo]=null;for(;i===As;)As=Mn[--On],Mn[On]=null,Zr=Mn[--On],Mn[On]=null,Jr=Mn[--On],Mn[On]=null}var Cn=null,Sn=null,ft=!1,tr=null;function By(i,o){var u=Fn(5,null,null,0);u.elementType="DELETED",u.stateNode=o,u.return=i,o=i.deletions,o===null?(i.deletions=[u],i.flags|=16):o.push(u)}function Hy(i,o){switch(i.tag){case 5:var u=i.type;return o=o.nodeType!==1||u.toLowerCase()!==o.nodeName.toLowerCase()?null:o,o!==null?(i.stateNode=o,Cn=i,Sn=Ti(o.firstChild),!0):!1;case 6:return o=i.pendingProps===""||o.nodeType!==3?null:o,o!==null?(i.stateNode=o,Cn=i,Sn=null,!0):!1;case 13:return o=o.nodeType!==8?null:o,o!==null?(u=As!==null?{id:Jr,overflow:Zr}:null,i.memoizedState={dehydrated:o,treeContext:u,retryLane:1073741824},u=Fn(18,null,null,0),u.stateNode=o,u.return=i,i.child=u,Cn=i,Sn=null,!0):!1;default:return!1}}function Wf(i){return(i.mode&1)!==0&&(i.flags&128)===0}function Kf(i){if(ft){var o=Sn;if(o){var u=o;if(!Hy(i,o)){if(Wf(i))throw Error(t(418));o=Ti(u.nextSibling);var p=Cn;o&&Hy(i,o)?By(p,u):(i.flags=i.flags&-4097|2,ft=!1,Cn=i)}}else{if(Wf(i))throw Error(t(418));i.flags=i.flags&-4097|2,ft=!1,Cn=i}}}function Wy(i){for(i=i.return;i!==null&&i.tag!==5&&i.tag!==3&&i.tag!==13;)i=i.return;Cn=i}function tc(i){if(i!==Cn)return!1;if(!ft)return Wy(i),ft=!0,!1;var o;if((o=i.tag!==3)&&!(o=i.tag!==5)&&(o=i.type,o=o!=="head"&&o!=="body"&&!jf(i.type,i.memoizedProps)),o&&(o=Sn)){if(Wf(i))throw Ky(),Error(t(418));for(;o;)By(i,o),o=Ti(o.nextSibling)}if(Wy(i),i.tag===13){if(i=i.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(t(317));e:{for(i=i.nextSibling,o=0;i;){if(i.nodeType===8){var u=i.data;if(u==="/$"){if(o===0){Sn=Ti(i.nextSibling);break e}o--}else u!=="$"&&u!=="$!"&&u!=="$?"||o++}i=i.nextSibling}Sn=null}}else Sn=Cn?Ti(i.stateNode.nextSibling):null;return!0}function Ky(){for(var i=Sn;i;)i=Ti(i.nextSibling)}function Lo(){Sn=Cn=null,ft=!1}function qf(i){tr===null?tr=[i]:tr.push(i)}var JT=z.ReactCurrentBatchConfig;function ul(i,o,u){if(i=u.ref,i!==null&&typeof i!="function"&&typeof i!="object"){if(u._owner){if(u=u._owner,u){if(u.tag!==1)throw Error(t(309));var p=u.stateNode}if(!p)throw Error(t(147,i));var g=p,x=""+i;return o!==null&&o.ref!==null&&typeof o.ref=="function"&&o.ref._stringRef===x?o.ref:(o=function(A){var $=g.refs;A===null?delete $[x]:$[x]=A},o._stringRef=x,o)}if(typeof i!="string")throw Error(t(284));if(!u._owner)throw Error(t(290,i))}return i}function nc(i,o){throw i=Object.prototype.toString.call(o),Error(t(31,i==="[object Object]"?"object with keys {"+Object.keys(o).join(", ")+"}":i))}function qy(i){var o=i._init;return o(i._payload)}function Gy(i){function o(K,H){if(i){var G=K.deletions;G===null?(K.deletions=[H],K.flags|=16):G.push(H)}}function u(K,H){if(!i)return null;for(;H!==null;)o(K,H),H=H.sibling;return null}function p(K,H){for(K=new Map;H!==null;)H.key!==null?K.set(H.key,H):K.set(H.index,H),H=H.sibling;return K}function g(K,H){return K=Li(K,H),K.index=0,K.sibling=null,K}function x(K,H,G){return K.index=G,i?(G=K.alternate,G!==null?(G=G.index,G<H?(K.flags|=2,H):G):(K.flags|=2,H)):(K.flags|=1048576,H)}function A(K){return i&&K.alternate===null&&(K.flags|=2),K}function $(K,H,G,ue){return H===null||H.tag!==6?(H=Vh(G,K.mode,ue),H.return=K,H):(H=g(H,G),H.return=K,H)}function B(K,H,G,ue){var xe=G.type;return xe===L?oe(K,H,G.props.children,ue,G.key):H!==null&&(H.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&qy(xe)===H.type)?(ue=g(H,G.props),ue.ref=ul(K,H,G),ue.return=K,ue):(ue=Ic(G.type,G.key,G.props,null,K.mode,ue),ue.ref=ul(K,H,G),ue.return=K,ue)}function Y(K,H,G,ue){return H===null||H.tag!==4||H.stateNode.containerInfo!==G.containerInfo||H.stateNode.implementation!==G.implementation?(H=Fh(G,K.mode,ue),H.return=K,H):(H=g(H,G.children||[]),H.return=K,H)}function oe(K,H,G,ue,xe){return H===null||H.tag!==7?(H=Vs(G,K.mode,ue,xe),H.return=K,H):(H=g(H,G),H.return=K,H)}function ae(K,H,G){if(typeof H=="string"&&H!==""||typeof H=="number")return H=Vh(""+H,K.mode,G),H.return=K,H;if(typeof H=="object"&&H!==null){switch(H.$$typeof){case q:return G=Ic(H.type,H.key,H.props,null,K.mode,G),G.ref=ul(K,null,H),G.return=K,G;case Z:return H=Fh(H,K.mode,G),H.return=K,H;case ce:var ue=H._init;return ae(K,ue(H._payload),G)}if(zr(H)||te(H))return H=Vs(H,K.mode,G,null),H.return=K,H;nc(K,H)}return null}function se(K,H,G,ue){var xe=H!==null?H.key:null;if(typeof G=="string"&&G!==""||typeof G=="number")return xe!==null?null:$(K,H,""+G,ue);if(typeof G=="object"&&G!==null){switch(G.$$typeof){case q:return G.key===xe?B(K,H,G,ue):null;case Z:return G.key===xe?Y(K,H,G,ue):null;case ce:return xe=G._init,se(K,H,xe(G._payload),ue)}if(zr(G)||te(G))return xe!==null?null:oe(K,H,G,ue,null);nc(K,G)}return null}function me(K,H,G,ue,xe){if(typeof ue=="string"&&ue!==""||typeof ue=="number")return K=K.get(G)||null,$(H,K,""+ue,xe);if(typeof ue=="object"&&ue!==null){switch(ue.$$typeof){case q:return K=K.get(ue.key===null?G:ue.key)||null,B(H,K,ue,xe);case Z:return K=K.get(ue.key===null?G:ue.key)||null,Y(H,K,ue,xe);case ce:var Te=ue._init;return me(K,H,G,Te(ue._payload),xe)}if(zr(ue)||te(ue))return K=K.get(G)||null,oe(H,K,ue,xe,null);nc(H,ue)}return null}function we(K,H,G,ue){for(var xe=null,Te=null,Ie=H,Ne=H=0,Vt=null;Ie!==null&&Ne<G.length;Ne++){Ie.index>Ne?(Vt=Ie,Ie=null):Vt=Ie.sibling;var Je=se(K,Ie,G[Ne],ue);if(Je===null){Ie===null&&(Ie=Vt);break}i&&Ie&&Je.alternate===null&&o(K,Ie),H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je,Ie=Vt}if(Ne===G.length)return u(K,Ie),ft&&Ns(K,Ne),xe;if(Ie===null){for(;Ne<G.length;Ne++)Ie=ae(K,G[Ne],ue),Ie!==null&&(H=x(Ie,H,Ne),Te===null?xe=Ie:Te.sibling=Ie,Te=Ie);return ft&&Ns(K,Ne),xe}for(Ie=p(K,Ie);Ne<G.length;Ne++)Vt=me(Ie,K,Ne,G[Ne],ue),Vt!==null&&(i&&Vt.alternate!==null&&Ie.delete(Vt.key===null?Ne:Vt.key),H=x(Vt,H,Ne),Te===null?xe=Vt:Te.sibling=Vt,Te=Vt);return i&&Ie.forEach(function(ji){return o(K,ji)}),ft&&Ns(K,Ne),xe}function _e(K,H,G,ue){var xe=te(G);if(typeof xe!="function")throw Error(t(150));if(G=xe.call(G),G==null)throw Error(t(151));for(var Te=xe=null,Ie=H,Ne=H=0,Vt=null,Je=G.next();Ie!==null&&!Je.done;Ne++,Je=G.next()){Ie.index>Ne?(Vt=Ie,Ie=null):Vt=Ie.sibling;var ji=se(K,Ie,Je.value,ue);if(ji===null){Ie===null&&(Ie=Vt);break}i&&Ie&&ji.alternate===null&&o(K,Ie),H=x(ji,H,Ne),Te===null?xe=ji:Te.sibling=ji,Te=ji,Ie=Vt}if(Je.done)return u(K,Ie),ft&&Ns(K,Ne),xe;if(Ie===null){for(;!Je.done;Ne++,Je=G.next())Je=ae(K,Je.value,ue),Je!==null&&(H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je);return ft&&Ns(K,Ne),xe}for(Ie=p(K,Ie);!Je.done;Ne++,Je=G.next())Je=me(Ie,K,Ne,Je.value,ue),Je!==null&&(i&&Je.alternate!==null&&Ie.delete(Je.key===null?Ne:Je.key),H=x(Je,H,Ne),Te===null?xe=Je:Te.sibling=Je,Te=Je);return i&&Ie.forEach(function(PI){return o(K,PI)}),ft&&Ns(K,Ne),xe}function xt(K,H,G,ue){if(typeof G=="object"&&G!==null&&G.type===L&&G.key===null&&(G=G.props.children),typeof G=="object"&&G!==null){switch(G.$$typeof){case q:e:{for(var xe=G.key,Te=H;Te!==null;){if(Te.key===xe){if(xe=G.type,xe===L){if(Te.tag===7){u(K,Te.sibling),H=g(Te,G.props.children),H.return=K,K=H;break e}}else if(Te.elementType===xe||typeof xe=="object"&&xe!==null&&xe.$$typeof===ce&&qy(xe)===Te.type){u(K,Te.sibling),H=g(Te,G.props),H.ref=ul(K,Te,G),H.return=K,K=H;break e}u(K,Te);break}else o(K,Te);Te=Te.sibling}G.type===L?(H=Vs(G.props.children,K.mode,ue,G.key),H.return=K,K=H):(ue=Ic(G.type,G.key,G.props,null,K.mode,ue),ue.ref=ul(K,H,G),ue.return=K,K=ue)}return A(K);case Z:e:{for(Te=G.key;H!==null;){if(H.key===Te)if(H.tag===4&&H.stateNode.containerInfo===G.containerInfo&&H.stateNode.implementation===G.implementation){u(K,H.sibling),H=g(H,G.children||[]),H.return=K,K=H;break e}else{u(K,H);break}else o(K,H);H=H.sibling}H=Fh(G,K.mode,ue),H.return=K,K=H}return A(K);case ce:return Te=G._init,xt(K,H,Te(G._payload),ue)}if(zr(G))return we(K,H,G,ue);if(te(G))return _e(K,H,G,ue);nc(K,G)}return typeof G=="string"&&G!==""||typeof G=="number"?(G=""+G,H!==null&&H.tag===6?(u(K,H.sibling),H=g(H,G),H.return=K,K=H):(u(K,H),H=Vh(G,K.mode,ue),H.return=K,K=H),A(K)):u(K,H)}return xt}var jo=Gy(!0),Qy=Gy(!1),rc=Ii(null),ic=null,Vo=null,Gf=null;function Qf(){Gf=Vo=ic=null}function Yf(i){var o=rc.current;at(rc),i._currentValue=o}function Xf(i,o,u){for(;i!==null;){var p=i.alternate;if((i.childLanes&o)!==o?(i.childLanes|=o,p!==null&&(p.childLanes|=o)):p!==null&&(p.childLanes&o)!==o&&(p.childLanes|=o),i===u)break;i=i.return}}function Fo(i,o){ic=i,Gf=Vo=null,i=i.dependencies,i!==null&&i.firstContext!==null&&((i.lanes&o)!==0&&(fn=!0),i.firstContext=null)}function Ln(i){var o=i._currentValue;if(Gf!==i)if(i={context:i,memoizedValue:o,next:null},Vo===null){if(ic===null)throw Error(t(308));Vo=i,ic.dependencies={lanes:0,firstContext:i}}else Vo=Vo.next=i;return o}var Ps=null;function Jf(i){Ps===null?Ps=[i]:Ps.push(i)}function Yy(i,o,u,p){var g=o.interleaved;return g===null?(u.next=u,Jf(o)):(u.next=g.next,g.next=u),o.interleaved=u,ei(i,p)}function ei(i,o){i.lanes|=o;var u=i.alternate;for(u!==null&&(u.lanes|=o),u=i,i=i.return;i!==null;)i.childLanes|=o,u=i.alternate,u!==null&&(u.childLanes|=o),u=i,i=i.return;return u.tag===3?u.stateNode:null}var Ai=!1;function Zf(i){i.updateQueue={baseState:i.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Xy(i,o){i=i.updateQueue,o.updateQueue===i&&(o.updateQueue={baseState:i.baseState,firstBaseUpdate:i.firstBaseUpdate,lastBaseUpdate:i.lastBaseUpdate,shared:i.shared,effects:i.effects})}function ti(i,o){return{eventTime:i,lane:o,tag:0,payload:null,callback:null,next:null}}function Ni(i,o,u){var p=i.updateQueue;if(p===null)return null;if(p=p.shared,(Xe&2)!==0){var g=p.pending;return g===null?o.next=o:(o.next=g.next,g.next=o),p.pending=o,ei(i,u)}return g=p.interleaved,g===null?(o.next=o,Jf(p)):(o.next=g.next,g.next=o),p.interleaved=o,ei(i,u)}function sc(i,o,u){if(o=o.updateQueue,o!==null&&(o=o.shared,(u&4194240)!==0)){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,wi(i,u)}}function Jy(i,o){var u=i.updateQueue,p=i.alternate;if(p!==null&&(p=p.updateQueue,u===p)){var g=null,x=null;if(u=u.firstBaseUpdate,u!==null){do{var A={eventTime:u.eventTime,lane:u.lane,tag:u.tag,payload:u.payload,callback:u.callback,next:null};x===null?g=x=A:x=x.next=A,u=u.next}while(u!==null);x===null?g=x=o:x=x.next=o}else g=x=o;u={baseState:p.baseState,firstBaseUpdate:g,lastBaseUpdate:x,shared:p.shared,effects:p.effects},i.updateQueue=u;return}i=u.lastBaseUpdate,i===null?u.firstBaseUpdate=o:i.next=o,u.lastBaseUpdate=o}function oc(i,o,u,p){var g=i.updateQueue;Ai=!1;var x=g.firstBaseUpdate,A=g.lastBaseUpdate,$=g.shared.pending;if($!==null){g.shared.pending=null;var B=$,Y=B.next;B.next=null,A===null?x=Y:A.next=Y,A=B;var oe=i.alternate;oe!==null&&(oe=oe.updateQueue,$=oe.lastBaseUpdate,$!==A&&($===null?oe.firstBaseUpdate=Y:$.next=Y,oe.lastBaseUpdate=B))}if(x!==null){var ae=g.baseState;A=0,oe=Y=B=null,$=x;do{var se=$.lane,me=$.eventTime;if((p&se)===se){oe!==null&&(oe=oe.next={eventTime:me,lane:0,tag:$.tag,payload:$.payload,callback:$.callback,next:null});e:{var we=i,_e=$;switch(se=o,me=u,_e.tag){case 1:if(we=_e.payload,typeof we=="function"){ae=we.call(me,ae,se);break e}ae=we;break e;case 3:we.flags=we.flags&-65537|128;case 0:if(we=_e.payload,se=typeof we=="function"?we.call(me,ae,se):we,se==null)break e;ae=le({},ae,se);break e;case 2:Ai=!0}}$.callback!==null&&$.lane!==0&&(i.flags|=64,se=g.effects,se===null?g.effects=[$]:se.push($))}else me={eventTime:me,lane:se,tag:$.tag,payload:$.payload,callback:$.callback,next:null},oe===null?(Y=oe=me,B=ae):oe=oe.next=me,A|=se;if($=$.next,$===null){if($=g.shared.pending,$===null)break;se=$,$=se.next,se.next=null,g.lastBaseUpdate=se,g.shared.pending=null}}while(!0);if(oe===null&&(B=ae),g.baseState=B,g.firstBaseUpdate=Y,g.lastBaseUpdate=oe,o=g.shared.interleaved,o!==null){g=o;do A|=g.lane,g=g.next;while(g!==o)}else x===null&&(g.shared.lanes=0);Ms|=A,i.lanes=A,i.memoizedState=ae}}function Zy(i,o,u){if(i=o.effects,o.effects=null,i!==null)for(o=0;o<i.length;o++){var p=i[o],g=p.callback;if(g!==null){if(p.callback=null,p=u,typeof g!="function")throw Error(t(191,g));g.call(p)}}}var cl={},Sr=Ii(cl),dl=Ii(cl),fl=Ii(cl);function ks(i){if(i===cl)throw Error(t(174));return i}function eh(i,o){switch(it(fl,o),it(dl,i),it(Sr,cl),i=o.nodeType,i){case 9:case 11:o=(o=o.documentElement)?o.namespaceURI:At(null,"");break;default:i=i===8?o.parentNode:o,o=i.namespaceURI||null,i=i.tagName,o=At(o,i)}at(Sr),it(Sr,o)}function $o(){at(Sr),at(dl),at(fl)}function ev(i){ks(fl.current);var o=ks(Sr.current),u=At(o,i.type);o!==u&&(it(dl,i),it(Sr,u))}function th(i){dl.current===i&&(at(Sr),at(dl))}var pt=Ii(0);function ac(i){for(var o=i;o!==null;){if(o.tag===13){var u=o.memoizedState;if(u!==null&&(u=u.dehydrated,u===null||u.data==="$?"||u.data==="$!"))return o}else if(o.tag===19&&o.memoizedProps.revealOrder!==void 0){if((o.flags&128)!==0)return o}else if(o.child!==null){o.child.return=o,o=o.child;continue}if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return null;o=o.return}o.sibling.return=o.return,o=o.sibling}return null}var nh=[];function rh(){for(var i=0;i<nh.length;i++)nh[i]._workInProgressVersionPrimary=null;nh.length=0}var lc=z.ReactCurrentDispatcher,ih=z.ReactCurrentBatchConfig,Ds=0,mt=null,Pt=null,Lt=null,uc=!1,hl=!1,pl=0,ZT=0;function Yt(){throw Error(t(321))}function sh(i,o){if(o===null)return!1;for(var u=0;u<o.length&&u<i.length;u++)if(!er(i[u],o[u]))return!1;return!0}function oh(i,o,u,p,g,x){if(Ds=x,mt=o,o.memoizedState=null,o.updateQueue=null,o.lanes=0,lc.current=i===null||i.memoizedState===null?rI:iI,i=u(p,g),hl){x=0;do{if(hl=!1,pl=0,25<=x)throw Error(t(301));x+=1,Lt=Pt=null,o.updateQueue=null,lc.current=sI,i=u(p,g)}while(hl)}if(lc.current=fc,o=Pt!==null&&Pt.next!==null,Ds=0,Lt=Pt=mt=null,uc=!1,o)throw Error(t(300));return i}function ah(){var i=pl!==0;return pl=0,i}function Tr(){var i={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return Lt===null?mt.memoizedState=Lt=i:Lt=Lt.next=i,Lt}function jn(){if(Pt===null){var i=mt.alternate;i=i!==null?i.memoizedState:null}else i=Pt.next;var o=Lt===null?mt.memoizedState:Lt.next;if(o!==null)Lt=o,Pt=i;else{if(i===null)throw Error(t(310));Pt=i,i={memoizedState:Pt.memoizedState,baseState:Pt.baseState,baseQueue:Pt.baseQueue,queue:Pt.queue,next:null},Lt===null?mt.memoizedState=Lt=i:Lt=Lt.next=i}return Lt}function ml(i,o){return typeof o=="function"?o(i):o}function lh(i){var o=jn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=Pt,g=p.baseQueue,x=u.pending;if(x!==null){if(g!==null){var A=g.next;g.next=x.next,x.next=A}p.baseQueue=g=x,u.pending=null}if(g!==null){x=g.next,p=p.baseState;var $=A=null,B=null,Y=x;do{var oe=Y.lane;if((Ds&oe)===oe)B!==null&&(B=B.next={lane:0,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null}),p=Y.hasEagerState?Y.eagerState:i(p,Y.action);else{var ae={lane:oe,action:Y.action,hasEagerState:Y.hasEagerState,eagerState:Y.eagerState,next:null};B===null?($=B=ae,A=p):B=B.next=ae,mt.lanes|=oe,Ms|=oe}Y=Y.next}while(Y!==null&&Y!==x);B===null?A=p:B.next=$,er(p,o.memoizedState)||(fn=!0),o.memoizedState=p,o.baseState=A,o.baseQueue=B,u.lastRenderedState=p}if(i=u.interleaved,i!==null){g=i;do x=g.lane,mt.lanes|=x,Ms|=x,g=g.next;while(g!==i)}else g===null&&(u.lanes=0);return[o.memoizedState,u.dispatch]}function uh(i){var o=jn(),u=o.queue;if(u===null)throw Error(t(311));u.lastRenderedReducer=i;var p=u.dispatch,g=u.pending,x=o.memoizedState;if(g!==null){u.pending=null;var A=g=g.next;do x=i(x,A.action),A=A.next;while(A!==g);er(x,o.memoizedState)||(fn=!0),o.memoizedState=x,o.baseQueue===null&&(o.baseState=x),u.lastRenderedState=x}return[x,p]}function tv(){}function nv(i,o){var u=mt,p=jn(),g=o(),x=!er(p.memoizedState,g);if(x&&(p.memoizedState=g,fn=!0),p=p.queue,ch(sv.bind(null,u,p,i),[i]),p.getSnapshot!==o||x||Lt!==null&&Lt.memoizedState.tag&1){if(u.flags|=2048,gl(9,iv.bind(null,u,p,g,o),void 0,null),jt===null)throw Error(t(349));(Ds&30)!==0||rv(u,o,g)}return g}function rv(i,o,u){i.flags|=16384,i={getSnapshot:o,value:u},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.stores=[i]):(u=o.stores,u===null?o.stores=[i]:u.push(i))}function iv(i,o,u,p){o.value=u,o.getSnapshot=p,ov(o)&&av(i)}function sv(i,o,u){return u(function(){ov(o)&&av(i)})}function ov(i){var o=i.getSnapshot;i=i.value;try{var u=o();return!er(i,u)}catch{return!0}}function av(i){var o=ei(i,1);o!==null&&sr(o,i,1,-1)}function lv(i){var o=Tr();return typeof i=="function"&&(i=i()),o.memoizedState=o.baseState=i,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ml,lastRenderedState:i},o.queue=i,i=i.dispatch=nI.bind(null,mt,i),[o.memoizedState,i]}function gl(i,o,u,p){return i={tag:i,create:o,destroy:u,deps:p,next:null},o=mt.updateQueue,o===null?(o={lastEffect:null,stores:null},mt.updateQueue=o,o.lastEffect=i.next=i):(u=o.lastEffect,u===null?o.lastEffect=i.next=i:(p=u.next,u.next=i,i.next=p,o.lastEffect=i)),i}function uv(){return jn().memoizedState}function cc(i,o,u,p){var g=Tr();mt.flags|=i,g.memoizedState=gl(1|o,u,void 0,p===void 0?null:p)}function dc(i,o,u,p){var g=jn();p=p===void 0?null:p;var x=void 0;if(Pt!==null){var A=Pt.memoizedState;if(x=A.destroy,p!==null&&sh(p,A.deps)){g.memoizedState=gl(o,u,x,p);return}}mt.flags|=i,g.memoizedState=gl(1|o,u,x,p)}function cv(i,o){return cc(8390656,8,i,o)}function ch(i,o){return dc(2048,8,i,o)}function dv(i,o){return dc(4,2,i,o)}function fv(i,o){return dc(4,4,i,o)}function hv(i,o){if(typeof o=="function")return i=i(),o(i),function(){o(null)};if(o!=null)return i=i(),o.current=i,function(){o.current=null}}function pv(i,o,u){return u=u!=null?u.concat([i]):null,dc(4,4,hv.bind(null,o,i),u)}function dh(){}function mv(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&sh(o,p[1])?p[0]:(u.memoizedState=[i,o],i)}function gv(i,o){var u=jn();o=o===void 0?null:o;var p=u.memoizedState;return p!==null&&o!==null&&sh(o,p[1])?p[0]:(i=i(),u.memoizedState=[i,o],i)}function yv(i,o,u){return(Ds&21)===0?(i.baseState&&(i.baseState=!1,fn=!0),i.memoizedState=u):(er(u,o)||(u=Es(),mt.lanes|=u,Ms|=u,i.baseState=!0),o)}function eI(i,o){var u=qe;qe=u!==0&&4>u?u:4,i(!0);var p=ih.transition;ih.transition={};try{i(!1),o()}finally{qe=u,ih.transition=p}}function vv(){return jn().memoizedState}function tI(i,o,u){var p=Mi(i);if(u={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null},wv(i))_v(o,u);else if(u=Yy(i,o,u,p),u!==null){var g=an();sr(u,i,p,g),xv(u,o,p)}}function nI(i,o,u){var p=Mi(i),g={lane:p,action:u,hasEagerState:!1,eagerState:null,next:null};if(wv(i))_v(o,g);else{var x=i.alternate;if(i.lanes===0&&(x===null||x.lanes===0)&&(x=o.lastRenderedReducer,x!==null))try{var A=o.lastRenderedState,$=x(A,u);if(g.hasEagerState=!0,g.eagerState=$,er($,A)){var B=o.interleaved;B===null?(g.next=g,Jf(o)):(g.next=B.next,B.next=g),o.interleaved=g;return}}catch{}finally{}u=Yy(i,o,g,p),u!==null&&(g=an(),sr(u,i,p,g),xv(u,o,p))}}function wv(i){var o=i.alternate;return i===mt||o!==null&&o===mt}function _v(i,o){hl=uc=!0;var u=i.pending;u===null?o.next=o:(o.next=u.next,u.next=o),i.pending=o}function xv(i,o,u){if((u&4194240)!==0){var p=o.lanes;p&=i.pendingLanes,u|=p,o.lanes=u,wi(i,u)}}var fc={readContext:Ln,useCallback:Yt,useContext:Yt,useEffect:Yt,useImperativeHandle:Yt,useInsertionEffect:Yt,useLayoutEffect:Yt,useMemo:Yt,useReducer:Yt,useRef:Yt,useState:Yt,useDebugValue:Yt,useDeferredValue:Yt,useTransition:Yt,useMutableSource:Yt,useSyncExternalStore:Yt,useId:Yt,unstable_isNewReconciler:!1},rI={readContext:Ln,useCallback:function(i,o){return Tr().memoizedState=[i,o===void 0?null:o],i},useContext:Ln,useEffect:cv,useImperativeHandle:function(i,o,u){return u=u!=null?u.concat([i]):null,cc(4194308,4,hv.bind(null,o,i),u)},useLayoutEffect:function(i,o){return cc(4194308,4,i,o)},useInsertionEffect:function(i,o){return cc(4,2,i,o)},useMemo:function(i,o){var u=Tr();return o=o===void 0?null:o,i=i(),u.memoizedState=[i,o],i},useReducer:function(i,o,u){var p=Tr();return o=u!==void 0?u(o):o,p.memoizedState=p.baseState=o,i={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:i,lastRenderedState:o},p.queue=i,i=i.dispatch=tI.bind(null,mt,i),[p.memoizedState,i]},useRef:function(i){var o=Tr();return i={current:i},o.memoizedState=i},useState:lv,useDebugValue:dh,useDeferredValue:function(i){return Tr().memoizedState=i},useTransition:function(){var i=lv(!1),o=i[0];return i=eI.bind(null,i[1]),Tr().memoizedState=i,[o,i]},useMutableSource:function(){},useSyncExternalStore:function(i,o,u){var p=mt,g=Tr();if(ft){if(u===void 0)throw Error(t(407));u=u()}else{if(u=o(),jt===null)throw Error(t(349));(Ds&30)!==0||rv(p,o,u)}g.memoizedState=u;var x={value:u,getSnapshot:o};return g.queue=x,cv(sv.bind(null,p,x,i),[i]),p.flags|=2048,gl(9,iv.bind(null,p,x,u,o),void 0,null),u},useId:function(){var i=Tr(),o=jt.identifierPrefix;if(ft){var u=Zr,p=Jr;u=(p&~(1<<32-rn(p)-1)).toString(32)+u,o=":"+o+"R"+u,u=pl++,0<u&&(o+="H"+u.toString(32)),o+=":"}else u=ZT++,o=":"+o+"r"+u.toString(32)+":";return i.memoizedState=o},unstable_isNewReconciler:!1},iI={readContext:Ln,useCallback:mv,useContext:Ln,useEffect:ch,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:lh,useRef:uv,useState:function(){return lh(ml)},useDebugValue:dh,useDeferredValue:function(i){var o=jn();return yv(o,Pt.memoizedState,i)},useTransition:function(){var i=lh(ml)[0],o=jn().memoizedState;return[i,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1},sI={readContext:Ln,useCallback:mv,useContext:Ln,useEffect:ch,useImperativeHandle:pv,useInsertionEffect:dv,useLayoutEffect:fv,useMemo:gv,useReducer:uh,useRef:uv,useState:function(){return uh(ml)},useDebugValue:dh,useDeferredValue:function(i){var o=jn();return Pt===null?o.memoizedState=i:yv(o,Pt.memoizedState,i)},useTransition:function(){var i=uh(ml)[0],o=jn().memoizedState;return[i,o]},useMutableSource:tv,useSyncExternalStore:nv,useId:vv,unstable_isNewReconciler:!1};function nr(i,o){if(i&&i.defaultProps){o=le({},o),i=i.defaultProps;for(var u in i)o[u]===void 0&&(o[u]=i[u]);return o}return o}function fh(i,o,u,p){o=i.memoizedState,u=u(p,o),u=u==null?o:le({},o,u),i.memoizedState=u,i.lanes===0&&(i.updateQueue.baseState=u)}var hc={isMounted:function(i){return(i=i._reactInternals)?qn(i)===i:!1},enqueueSetState:function(i,o,u){i=i._reactInternals;var p=an(),g=Mi(i),x=ti(p,g);x.payload=o,u!=null&&(x.callback=u),o=Ni(i,x,g),o!==null&&(sr(o,i,g,p),sc(o,i,g))},enqueueReplaceState:function(i,o,u){i=i._reactInternals;var p=an(),g=Mi(i),x=ti(p,g);x.tag=1,x.payload=o,u!=null&&(x.callback=u),o=Ni(i,x,g),o!==null&&(sr(o,i,g,p),sc(o,i,g))},enqueueForceUpdate:function(i,o){i=i._reactInternals;var u=an(),p=Mi(i),g=ti(u,p);g.tag=2,o!=null&&(g.callback=o),o=Ni(i,g,p),o!==null&&(sr(o,i,p,u),sc(o,i,p))}};function Ev(i,o,u,p,g,x,A){return i=i.stateNode,typeof i.shouldComponentUpdate=="function"?i.shouldComponentUpdate(p,x,A):o.prototype&&o.prototype.isPureReactComponent?!nl(u,p)||!nl(g,x):!0}function Cv(i,o,u){var p=!1,g=bi,x=o.contextType;return typeof x=="object"&&x!==null?x=Ln(x):(g=dn(o)?Rs:Qt.current,p=o.contextTypes,x=(p=p!=null)?Do(i,g):bi),o=new o(u,x),i.memoizedState=o.state!==null&&o.state!==void 0?o.state:null,o.updater=hc,i.stateNode=o,o._reactInternals=i,p&&(i=i.stateNode,i.__reactInternalMemoizedUnmaskedChildContext=g,i.__reactInternalMemoizedMaskedChildContext=x),o}function Sv(i,o,u,p){i=o.state,typeof o.componentWillReceiveProps=="function"&&o.componentWillReceiveProps(u,p),typeof o.UNSAFE_componentWillReceiveProps=="function"&&o.UNSAFE_componentWillReceiveProps(u,p),o.state!==i&&hc.enqueueReplaceState(o,o.state,null)}function hh(i,o,u,p){var g=i.stateNode;g.props=u,g.state=i.memoizedState,g.refs={},Zf(i);var x=o.contextType;typeof x=="object"&&x!==null?g.context=Ln(x):(x=dn(o)?Rs:Qt.current,g.context=Do(i,x)),g.state=i.memoizedState,x=o.getDerivedStateFromProps,typeof x=="function"&&(fh(i,o,x,u),g.state=i.memoizedState),typeof o.getDerivedStateFromProps=="function"||typeof g.getSnapshotBeforeUpdate=="function"||typeof g.UNSAFE_componentWillMount!="function"&&typeof g.componentWillMount!="function"||(o=g.state,typeof g.componentWillMount=="function"&&g.componentWillMount(),typeof g.UNSAFE_componentWillMount=="function"&&g.UNSAFE_componentWillMount(),o!==g.state&&hc.enqueueReplaceState(g,g.state,null),oc(i,u,g,p),g.state=i.memoizedState),typeof g.componentDidMount=="function"&&(i.flags|=4194308)}function zo(i,o){try{var u="",p=o;do u+=Ae(p),p=p.return;while(p);var g=u}catch(x){g=`
Error generating stack: `+x.message+`
`+x.stack}return{value:i,source:o,stack:g,digest:null}}function ph(i,o,u){return{value:i,source:null,stack:u??null,digest:o??null}}function mh(i,o){try{console.error(o.value)}catch(u){setTimeout(function(){throw u})}}var oI=typeof WeakMap=="function"?WeakMap:Map;function Tv(i,o,u){u=ti(-1,u),u.tag=3,u.payload={element:null};var p=o.value;return u.callback=function(){_c||(_c=!0,Nh=p),mh(i,o)},u}function Iv(i,o,u){u=ti(-1,u),u.tag=3;var p=i.type.getDerivedStateFromError;if(typeof p=="function"){var g=o.value;u.payload=function(){return p(g)},u.callback=function(){mh(i,o)}}var x=i.stateNode;return x!==null&&typeof x.componentDidCatch=="function"&&(u.callback=function(){mh(i,o),typeof p!="function"&&(ki===null?ki=new Set([this]):ki.add(this));var A=o.stack;this.componentDidCatch(o.value,{componentStack:A!==null?A:""})}),u}function bv(i,o,u){var p=i.pingCache;if(p===null){p=i.pingCache=new oI;var g=new Set;p.set(o,g)}else g=p.get(o),g===void 0&&(g=new Set,p.set(o,g));g.has(u)||(g.add(u),i=_I.bind(null,i,o,u),o.then(i,i))}function Rv(i){do{var o;if((o=i.tag===13)&&(o=i.memoizedState,o=o!==null?o.dehydrated!==null:!0),o)return i;i=i.return}while(i!==null);return null}function Av(i,o,u,p,g){return(i.mode&1)===0?(i===o?i.flags|=65536:(i.flags|=128,u.flags|=131072,u.flags&=-52805,u.tag===1&&(u.alternate===null?u.tag=17:(o=ti(-1,1),o.tag=2,Ni(u,o,1))),u.lanes|=1),i):(i.flags|=65536,i.lanes=g,i)}var aI=z.ReactCurrentOwner,fn=!1;function on(i,o,u,p){o.child=i===null?Qy(o,null,u,p):jo(o,i.child,u,p)}function Nv(i,o,u,p,g){u=u.render;var x=o.ref;return Fo(o,g),p=oh(i,o,u,p,x,g),u=ah(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ni(i,o,g)):(ft&&u&&Bf(o),o.flags|=1,on(i,o,p,g),o.child)}function Pv(i,o,u,p,g){if(i===null){var x=u.type;return typeof x=="function"&&!jh(x)&&x.defaultProps===void 0&&u.compare===null&&u.defaultProps===void 0?(o.tag=15,o.type=x,kv(i,o,x,p,g)):(i=Ic(u.type,null,p,o,o.mode,g),i.ref=o.ref,i.return=o,o.child=i)}if(x=i.child,(i.lanes&g)===0){var A=x.memoizedProps;if(u=u.compare,u=u!==null?u:nl,u(A,p)&&i.ref===o.ref)return ni(i,o,g)}return o.flags|=1,i=Li(x,p),i.ref=o.ref,i.return=o,o.child=i}function kv(i,o,u,p,g){if(i!==null){var x=i.memoizedProps;if(nl(x,p)&&i.ref===o.ref)if(fn=!1,o.pendingProps=p=x,(i.lanes&g)!==0)(i.flags&131072)!==0&&(fn=!0);else return o.lanes=i.lanes,ni(i,o,g)}return gh(i,o,u,p,g)}function Dv(i,o,u){var p=o.pendingProps,g=p.children,x=i!==null?i.memoizedState:null;if(p.mode==="hidden")if((o.mode&1)===0)o.memoizedState={baseLanes:0,cachePool:null,transitions:null},it(Bo,Tn),Tn|=u;else{if((u&1073741824)===0)return i=x!==null?x.baseLanes|u:u,o.lanes=o.childLanes=1073741824,o.memoizedState={baseLanes:i,cachePool:null,transitions:null},o.updateQueue=null,it(Bo,Tn),Tn|=i,null;o.memoizedState={baseLanes:0,cachePool:null,transitions:null},p=x!==null?x.baseLanes:u,it(Bo,Tn),Tn|=p}else x!==null?(p=x.baseLanes|u,o.memoizedState=null):p=u,it(Bo,Tn),Tn|=p;return on(i,o,g,u),o.child}function Mv(i,o){var u=o.ref;(i===null&&u!==null||i!==null&&i.ref!==u)&&(o.flags|=512,o.flags|=2097152)}function gh(i,o,u,p,g){var x=dn(u)?Rs:Qt.current;return x=Do(o,x),Fo(o,g),u=oh(i,o,u,p,x,g),p=ah(),i!==null&&!fn?(o.updateQueue=i.updateQueue,o.flags&=-2053,i.lanes&=~g,ni(i,o,g)):(ft&&p&&Bf(o),o.flags|=1,on(i,o,u,g),o.child)}function Ov(i,o,u,p,g){if(dn(u)){var x=!0;Xu(o)}else x=!1;if(Fo(o,g),o.stateNode===null)mc(i,o),Cv(o,u,p),hh(o,u,p,g),p=!0;else if(i===null){var A=o.stateNode,$=o.memoizedProps;A.props=$;var B=A.context,Y=u.contextType;typeof Y=="object"&&Y!==null?Y=Ln(Y):(Y=dn(u)?Rs:Qt.current,Y=Do(o,Y));var oe=u.getDerivedStateFromProps,ae=typeof oe=="function"||typeof A.getSnapshotBeforeUpdate=="function";ae||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==p||B!==Y)&&Sv(o,A,p,Y),Ai=!1;var se=o.memoizedState;A.state=se,oc(o,p,A,g),B=o.memoizedState,$!==p||se!==B||cn.current||Ai?(typeof oe=="function"&&(fh(o,u,oe,p),B=o.memoizedState),($=Ai||Ev(o,u,$,p,se,B,Y))?(ae||typeof A.UNSAFE_componentWillMount!="function"&&typeof A.componentWillMount!="function"||(typeof A.componentWillMount=="function"&&A.componentWillMount(),typeof A.UNSAFE_componentWillMount=="function"&&A.UNSAFE_componentWillMount()),typeof A.componentDidMount=="function"&&(o.flags|=4194308)):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),o.memoizedProps=p,o.memoizedState=B),A.props=p,A.state=B,A.context=Y,p=$):(typeof A.componentDidMount=="function"&&(o.flags|=4194308),p=!1)}else{A=o.stateNode,Xy(i,o),$=o.memoizedProps,Y=o.type===o.elementType?$:nr(o.type,$),A.props=Y,ae=o.pendingProps,se=A.context,B=u.contextType,typeof B=="object"&&B!==null?B=Ln(B):(B=dn(u)?Rs:Qt.current,B=Do(o,B));var me=u.getDerivedStateFromProps;(oe=typeof me=="function"||typeof A.getSnapshotBeforeUpdate=="function")||typeof A.UNSAFE_componentWillReceiveProps!="function"&&typeof A.componentWillReceiveProps!="function"||($!==ae||se!==B)&&Sv(o,A,p,B),Ai=!1,se=o.memoizedState,A.state=se,oc(o,p,A,g);var we=o.memoizedState;$!==ae||se!==we||cn.current||Ai?(typeof me=="function"&&(fh(o,u,me,p),we=o.memoizedState),(Y=Ai||Ev(o,u,Y,p,se,we,B)||!1)?(oe||typeof A.UNSAFE_componentWillUpdate!="function"&&typeof A.componentWillUpdate!="function"||(typeof A.componentWillUpdate=="function"&&A.componentWillUpdate(p,we,B),typeof A.UNSAFE_componentWillUpdate=="function"&&A.UNSAFE_componentWillUpdate(p,we,B)),typeof A.componentDidUpdate=="function"&&(o.flags|=4),typeof A.getSnapshotBeforeUpdate=="function"&&(o.flags|=1024)):(typeof A.componentDidUpdate!="function"||$===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),o.memoizedProps=p,o.memoizedState=we),A.props=p,A.state=we,A.context=B,p=Y):(typeof A.componentDidUpdate!="function"||$===i.memoizedProps&&se===i.memoizedState||(o.flags|=4),typeof A.getSnapshotBeforeUpdate!="function"||$===i.memoizedProps&&se===i.memoizedState||(o.flags|=1024),p=!1)}return yh(i,o,u,p,x,g)}function yh(i,o,u,p,g,x){Mv(i,o);var A=(o.flags&128)!==0;if(!p&&!A)return g&&$y(o,u,!1),ni(i,o,x);p=o.stateNode,aI.current=o;var $=A&&typeof u.getDerivedStateFromError!="function"?null:p.render();return o.flags|=1,i!==null&&A?(o.child=jo(o,i.child,null,x),o.child=jo(o,null,$,x)):on(i,o,$,x),o.memoizedState=p.state,g&&$y(o,u,!0),o.child}function Lv(i){var o=i.stateNode;o.pendingContext?Vy(i,o.pendingContext,o.pendingContext!==o.context):o.context&&Vy(i,o.context,!1),eh(i,o.containerInfo)}function jv(i,o,u,p,g){return Lo(),qf(g),o.flags|=256,on(i,o,u,p),o.child}var vh={dehydrated:null,treeContext:null,retryLane:0};function wh(i){return{baseLanes:i,cachePool:null,transitions:null}}function Vv(i,o,u){var p=o.pendingProps,g=pt.current,x=!1,A=(o.flags&128)!==0,$;if(($=A)||($=i!==null&&i.memoizedState===null?!1:(g&2)!==0),$?(x=!0,o.flags&=-129):(i===null||i.memoizedState!==null)&&(g|=1),it(pt,g&1),i===null)return Kf(o),i=o.memoizedState,i!==null&&(i=i.dehydrated,i!==null)?((o.mode&1)===0?o.lanes=1:i.data==="$!"?o.lanes=8:o.lanes=1073741824,null):(A=p.children,i=p.fallback,x?(p=o.mode,x=o.child,A={mode:"hidden",children:A},(p&1)===0&&x!==null?(x.childLanes=0,x.pendingProps=A):x=bc(A,p,0,null),i=Vs(i,p,u,null),x.return=o,i.return=o,x.sibling=i,o.child=x,o.child.memoizedState=wh(u),o.memoizedState=vh,i):_h(o,A));if(g=i.memoizedState,g!==null&&($=g.dehydrated,$!==null))return lI(i,o,A,p,$,g,u);if(x){x=p.fallback,A=o.mode,g=i.child,$=g.sibling;var B={mode:"hidden",children:p.children};return(A&1)===0&&o.child!==g?(p=o.child,p.childLanes=0,p.pendingProps=B,o.deletions=null):(p=Li(g,B),p.subtreeFlags=g.subtreeFlags&14680064),$!==null?x=Li($,x):(x=Vs(x,A,u,null),x.flags|=2),x.return=o,p.return=o,p.sibling=x,o.child=p,p=x,x=o.child,A=i.child.memoizedState,A=A===null?wh(u):{baseLanes:A.baseLanes|u,cachePool:null,transitions:A.transitions},x.memoizedState=A,x.childLanes=i.childLanes&~u,o.memoizedState=vh,p}return x=i.child,i=x.sibling,p=Li(x,{mode:"visible",children:p.children}),(o.mode&1)===0&&(p.lanes=u),p.return=o,p.sibling=null,i!==null&&(u=o.deletions,u===null?(o.deletions=[i],o.flags|=16):u.push(i)),o.child=p,o.memoizedState=null,p}function _h(i,o){return o=bc({mode:"visible",children:o},i.mode,0,null),o.return=i,i.child=o}function pc(i,o,u,p){return p!==null&&qf(p),jo(o,i.child,null,u),i=_h(o,o.pendingProps.children),i.flags|=2,o.memoizedState=null,i}function lI(i,o,u,p,g,x,A){if(u)return o.flags&256?(o.flags&=-257,p=ph(Error(t(422))),pc(i,o,A,p)):o.memoizedState!==null?(o.child=i.child,o.flags|=128,null):(x=p.fallback,g=o.mode,p=bc({mode:"visible",children:p.children},g,0,null),x=Vs(x,g,A,null),x.flags|=2,p.return=o,x.return=o,p.sibling=x,o.child=p,(o.mode&1)!==0&&jo(o,i.child,null,A),o.child.memoizedState=wh(A),o.memoizedState=vh,x);if((o.mode&1)===0)return pc(i,o,A,null);if(g.data==="$!"){if(p=g.nextSibling&&g.nextSibling.dataset,p)var $=p.dgst;return p=$,x=Error(t(419)),p=ph(x,p,void 0),pc(i,o,A,p)}if($=(A&i.childLanes)!==0,fn||$){if(p=jt,p!==null){switch(A&-A){case 4:g=2;break;case 16:g=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:g=32;break;case 536870912:g=268435456;break;default:g=0}g=(g&(p.suspendedLanes|A))!==0?0:g,g!==0&&g!==x.retryLane&&(x.retryLane=g,ei(i,g),sr(p,i,g,-1))}return Lh(),p=ph(Error(t(421))),pc(i,o,A,p)}return g.data==="$?"?(o.flags|=128,o.child=i.child,o=xI.bind(null,i),g._reactRetry=o,null):(i=x.treeContext,Sn=Ti(g.nextSibling),Cn=o,ft=!0,tr=null,i!==null&&(Mn[On++]=Jr,Mn[On++]=Zr,Mn[On++]=As,Jr=i.id,Zr=i.overflow,As=o),o=_h(o,p.children),o.flags|=4096,o)}function Fv(i,o,u){i.lanes|=o;var p=i.alternate;p!==null&&(p.lanes|=o),Xf(i.return,o,u)}function xh(i,o,u,p,g){var x=i.memoizedState;x===null?i.memoizedState={isBackwards:o,rendering:null,renderingStartTime:0,last:p,tail:u,tailMode:g}:(x.isBackwards=o,x.rendering=null,x.renderingStartTime=0,x.last=p,x.tail=u,x.tailMode=g)}function $v(i,o,u){var p=o.pendingProps,g=p.revealOrder,x=p.tail;if(on(i,o,p.children,u),p=pt.current,(p&2)!==0)p=p&1|2,o.flags|=128;else{if(i!==null&&(i.flags&128)!==0)e:for(i=o.child;i!==null;){if(i.tag===13)i.memoizedState!==null&&Fv(i,u,o);else if(i.tag===19)Fv(i,u,o);else if(i.child!==null){i.child.return=i,i=i.child;continue}if(i===o)break e;for(;i.sibling===null;){if(i.return===null||i.return===o)break e;i=i.return}i.sibling.return=i.return,i=i.sibling}p&=1}if(it(pt,p),(o.mode&1)===0)o.memoizedState=null;else switch(g){case"forwards":for(u=o.child,g=null;u!==null;)i=u.alternate,i!==null&&ac(i)===null&&(g=u),u=u.sibling;u=g,u===null?(g=o.child,o.child=null):(g=u.sibling,u.sibling=null),xh(o,!1,g,u,x);break;case"backwards":for(u=null,g=o.child,o.child=null;g!==null;){if(i=g.alternate,i!==null&&ac(i)===null){o.child=g;break}i=g.sibling,g.sibling=u,u=g,g=i}xh(o,!0,u,null,x);break;case"together":xh(o,!1,null,null,void 0);break;default:o.memoizedState=null}return o.child}function mc(i,o){(o.mode&1)===0&&i!==null&&(i.alternate=null,o.alternate=null,o.flags|=2)}function ni(i,o,u){if(i!==null&&(o.dependencies=i.dependencies),Ms|=o.lanes,(u&o.childLanes)===0)return null;if(i!==null&&o.child!==i.child)throw Error(t(153));if(o.child!==null){for(i=o.child,u=Li(i,i.pendingProps),o.child=u,u.return=o;i.sibling!==null;)i=i.sibling,u=u.sibling=Li(i,i.pendingProps),u.return=o;u.sibling=null}return o.child}function uI(i,o,u){switch(o.tag){case 3:Lv(o),Lo();break;case 5:ev(o);break;case 1:dn(o.type)&&Xu(o);break;case 4:eh(o,o.stateNode.containerInfo);break;case 10:var p=o.type._context,g=o.memoizedProps.value;it(rc,p._currentValue),p._currentValue=g;break;case 13:if(p=o.memoizedState,p!==null)return p.dehydrated!==null?(it(pt,pt.current&1),o.flags|=128,null):(u&o.child.childLanes)!==0?Vv(i,o,u):(it(pt,pt.current&1),i=ni(i,o,u),i!==null?i.sibling:null);it(pt,pt.current&1);break;case 19:if(p=(u&o.childLanes)!==0,(i.flags&128)!==0){if(p)return $v(i,o,u);o.flags|=128}if(g=o.memoizedState,g!==null&&(g.rendering=null,g.tail=null,g.lastEffect=null),it(pt,pt.current),p)break;return null;case 22:case 23:return o.lanes=0,Dv(i,o,u)}return ni(i,o,u)}var zv,Eh,Uv,Bv;zv=function(i,o){for(var u=o.child;u!==null;){if(u.tag===5||u.tag===6)i.appendChild(u.stateNode);else if(u.tag!==4&&u.child!==null){u.child.return=u,u=u.child;continue}if(u===o)break;for(;u.sibling===null;){if(u.return===null||u.return===o)return;u=u.return}u.sibling.return=u.return,u=u.sibling}},Eh=function(){},Uv=function(i,o,u,p){var g=i.memoizedProps;if(g!==p){i=o.stateNode,ks(Sr.current);var x=null;switch(u){case"input":g=Mt(i,g),p=Mt(i,p),x=[];break;case"select":g=le({},g,{value:void 0}),p=le({},p,{value:void 0}),x=[];break;case"textarea":g=Pa(i,g),p=Pa(i,p),x=[];break;default:typeof g.onClick!="function"&&typeof p.onClick=="function"&&(i.onclick=Gu)}ja(u,p);var A;u=null;for(Y in g)if(!p.hasOwnProperty(Y)&&g.hasOwnProperty(Y)&&g[Y]!=null)if(Y==="style"){var $=g[Y];for(A in $)$.hasOwnProperty(A)&&(u||(u={}),u[A]="")}else Y!=="dangerouslySetInnerHTML"&&Y!=="children"&&Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&Y!=="autoFocus"&&(s.hasOwnProperty(Y)?x||(x=[]):(x=x||[]).push(Y,null));for(Y in p){var B=p[Y];if($=g!=null?g[Y]:void 0,p.hasOwnProperty(Y)&&B!==$&&(B!=null||$!=null))if(Y==="style")if($){for(A in $)!$.hasOwnProperty(A)||B&&B.hasOwnProperty(A)||(u||(u={}),u[A]="");for(A in B)B.hasOwnProperty(A)&&$[A]!==B[A]&&(u||(u={}),u[A]=B[A])}else u||(x||(x=[]),x.push(Y,u)),u=B;else Y==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,$=$?$.__html:void 0,B!=null&&$!==B&&(x=x||[]).push(Y,B)):Y==="children"?typeof B!="string"&&typeof B!="number"||(x=x||[]).push(Y,""+B):Y!=="suppressContentEditableWarning"&&Y!=="suppressHydrationWarning"&&(s.hasOwnProperty(Y)?(B!=null&&Y==="onScroll"&&ot("scroll",i),x||$===B||(x=[])):(x=x||[]).push(Y,B))}u&&(x=x||[]).push("style",u);var Y=x;(o.updateQueue=Y)&&(o.flags|=4)}},Bv=function(i,o,u,p){u!==p&&(o.flags|=4)};function yl(i,o){if(!ft)switch(i.tailMode){case"hidden":o=i.tail;for(var u=null;o!==null;)o.alternate!==null&&(u=o),o=o.sibling;u===null?i.tail=null:u.sibling=null;break;case"collapsed":u=i.tail;for(var p=null;u!==null;)u.alternate!==null&&(p=u),u=u.sibling;p===null?o||i.tail===null?i.tail=null:i.tail.sibling=null:p.sibling=null}}function Xt(i){var o=i.alternate!==null&&i.alternate.child===i.child,u=0,p=0;if(o)for(var g=i.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags&14680064,p|=g.flags&14680064,g.return=i,g=g.sibling;else for(g=i.child;g!==null;)u|=g.lanes|g.childLanes,p|=g.subtreeFlags,p|=g.flags,g.return=i,g=g.sibling;return i.subtreeFlags|=p,i.childLanes=u,o}function cI(i,o,u){var p=o.pendingProps;switch(Hf(o),o.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Xt(o),null;case 1:return dn(o.type)&&Yu(),Xt(o),null;case 3:return p=o.stateNode,$o(),at(cn),at(Qt),rh(),p.pendingContext&&(p.context=p.pendingContext,p.pendingContext=null),(i===null||i.child===null)&&(tc(o)?o.flags|=4:i===null||i.memoizedState.isDehydrated&&(o.flags&256)===0||(o.flags|=1024,tr!==null&&(Dh(tr),tr=null))),Eh(i,o),Xt(o),null;case 5:th(o);var g=ks(fl.current);if(u=o.type,i!==null&&o.stateNode!=null)Uv(i,o,u,p,g),i.ref!==o.ref&&(o.flags|=512,o.flags|=2097152);else{if(!p){if(o.stateNode===null)throw Error(t(166));return Xt(o),null}if(i=ks(Sr.current),tc(o)){p=o.stateNode,u=o.type;var x=o.memoizedProps;switch(p[Cr]=o,p[al]=x,i=(o.mode&1)!==0,u){case"dialog":ot("cancel",p),ot("close",p);break;case"iframe":case"object":case"embed":ot("load",p);break;case"video":case"audio":for(g=0;g<il.length;g++)ot(il[g],p);break;case"source":ot("error",p);break;case"img":case"image":case"link":ot("error",p),ot("load",p);break;case"details":ot("toggle",p);break;case"input":An(p,x),ot("invalid",p);break;case"select":p._wrapperState={wasMultiple:!!x.multiple},ot("invalid",p);break;case"textarea":no(p,x),ot("invalid",p)}ja(u,x),g=null;for(var A in x)if(x.hasOwnProperty(A)){var $=x[A];A==="children"?typeof $=="string"?p.textContent!==$&&(x.suppressHydrationWarning!==!0&&qu(p.textContent,$,i),g=["children",$]):typeof $=="number"&&p.textContent!==""+$&&(x.suppressHydrationWarning!==!0&&qu(p.textContent,$,i),g=["children",""+$]):s.hasOwnProperty(A)&&$!=null&&A==="onScroll"&&ot("scroll",p)}switch(u){case"input":ze(p),to(p,x,!0);break;case"textarea":ze(p),ka(p);break;case"select":case"option":break;default:typeof x.onClick=="function"&&(p.onclick=Gu)}p=g,o.updateQueue=p,p!==null&&(o.flags|=4)}else{A=g.nodeType===9?g:g.ownerDocument,i==="http://www.w3.org/1999/xhtml"&&(i=Rt(u)),i==="http://www.w3.org/1999/xhtml"?u==="script"?(i=A.createElement("div"),i.innerHTML="<script><\/script>",i=i.removeChild(i.firstChild)):typeof p.is=="string"?i=A.createElement(u,{is:p.is}):(i=A.createElement(u),u==="select"&&(A=i,p.multiple?A.multiple=!0:p.size&&(A.size=p.size))):i=A.createElementNS(i,u),i[Cr]=o,i[al]=p,zv(i,o,!1,!1),o.stateNode=i;e:{switch(A=Va(u,p),u){case"dialog":ot("cancel",i),ot("close",i),g=p;break;case"iframe":case"object":case"embed":ot("load",i),g=p;break;case"video":case"audio":for(g=0;g<il.length;g++)ot(il[g],i);g=p;break;case"source":ot("error",i),g=p;break;case"img":case"image":case"link":ot("error",i),ot("load",i),g=p;break;case"details":ot("toggle",i),g=p;break;case"input":An(i,p),g=Mt(i,p),ot("invalid",i);break;case"option":g=p;break;case"select":i._wrapperState={wasMultiple:!!p.multiple},g=le({},p,{value:void 0}),ot("invalid",i);break;case"textarea":no(i,p),g=Pa(i,p),ot("invalid",i);break;default:g=p}ja(u,g),$=g;for(x in $)if($.hasOwnProperty(x)){var B=$[x];x==="style"?Oa(i,B):x==="dangerouslySetInnerHTML"?(B=B?B.__html:void 0,B!=null&&Da(i,B)):x==="children"?typeof B=="string"?(u!=="textarea"||B!=="")&&pi(i,B):typeof B=="number"&&pi(i,""+B):x!=="suppressContentEditableWarning"&&x!=="suppressHydrationWarning"&&x!=="autoFocus"&&(s.hasOwnProperty(x)?B!=null&&x==="onScroll"&&ot("scroll",i):B!=null&&j(i,x,B,A))}switch(u){case"input":ze(i),to(i,p,!1);break;case"textarea":ze(i),ka(i);break;case"option":p.value!=null&&i.setAttribute("value",""+Ee(p.value));break;case"select":i.multiple=!!p.multiple,x=p.value,x!=null?Ur(i,!!p.multiple,x,!1):p.defaultValue!=null&&Ur(i,!!p.multiple,p.defaultValue,!0);break;default:typeof g.onClick=="function"&&(i.onclick=Gu)}switch(u){case"button":case"input":case"select":case"textarea":p=!!p.autoFocus;break e;case"img":p=!0;break e;default:p=!1}}p&&(o.flags|=4)}o.ref!==null&&(o.flags|=512,o.flags|=2097152)}return Xt(o),null;case 6:if(i&&o.stateNode!=null)Bv(i,o,i.memoizedProps,p);else{if(typeof p!="string"&&o.stateNode===null)throw Error(t(166));if(u=ks(fl.current),ks(Sr.current),tc(o)){if(p=o.stateNode,u=o.memoizedProps,p[Cr]=o,(x=p.nodeValue!==u)&&(i=Cn,i!==null))switch(i.tag){case 3:qu(p.nodeValue,u,(i.mode&1)!==0);break;case 5:i.memoizedProps.suppressHydrationWarning!==!0&&qu(p.nodeValue,u,(i.mode&1)!==0)}x&&(o.flags|=4)}else p=(u.nodeType===9?u:u.ownerDocument).createTextNode(p),p[Cr]=o,o.stateNode=p}return Xt(o),null;case 13:if(at(pt),p=o.memoizedState,i===null||i.memoizedState!==null&&i.memoizedState.dehydrated!==null){if(ft&&Sn!==null&&(o.mode&1)!==0&&(o.flags&128)===0)Ky(),Lo(),o.flags|=98560,x=!1;else if(x=tc(o),p!==null&&p.dehydrated!==null){if(i===null){if(!x)throw Error(t(318));if(x=o.memoizedState,x=x!==null?x.dehydrated:null,!x)throw Error(t(317));x[Cr]=o}else Lo(),(o.flags&128)===0&&(o.memoizedState=null),o.flags|=4;Xt(o),x=!1}else tr!==null&&(Dh(tr),tr=null),x=!0;if(!x)return o.flags&65536?o:null}return(o.flags&128)!==0?(o.lanes=u,o):(p=p!==null,p!==(i!==null&&i.memoizedState!==null)&&p&&(o.child.flags|=8192,(o.mode&1)!==0&&(i===null||(pt.current&1)!==0?kt===0&&(kt=3):Lh())),o.updateQueue!==null&&(o.flags|=4),Xt(o),null);case 4:return $o(),Eh(i,o),i===null&&sl(o.stateNode.containerInfo),Xt(o),null;case 10:return Yf(o.type._context),Xt(o),null;case 17:return dn(o.type)&&Yu(),Xt(o),null;case 19:if(at(pt),x=o.memoizedState,x===null)return Xt(o),null;if(p=(o.flags&128)!==0,A=x.rendering,A===null)if(p)yl(x,!1);else{if(kt!==0||i!==null&&(i.flags&128)!==0)for(i=o.child;i!==null;){if(A=ac(i),A!==null){for(o.flags|=128,yl(x,!1),p=A.updateQueue,p!==null&&(o.updateQueue=p,o.flags|=4),o.subtreeFlags=0,p=u,u=o.child;u!==null;)x=u,i=p,x.flags&=14680066,A=x.alternate,A===null?(x.childLanes=0,x.lanes=i,x.child=null,x.subtreeFlags=0,x.memoizedProps=null,x.memoizedState=null,x.updateQueue=null,x.dependencies=null,x.stateNode=null):(x.childLanes=A.childLanes,x.lanes=A.lanes,x.child=A.child,x.subtreeFlags=0,x.deletions=null,x.memoizedProps=A.memoizedProps,x.memoizedState=A.memoizedState,x.updateQueue=A.updateQueue,x.type=A.type,i=A.dependencies,x.dependencies=i===null?null:{lanes:i.lanes,firstContext:i.firstContext}),u=u.sibling;return it(pt,pt.current&1|2),o.child}i=i.sibling}x.tail!==null&&rt()>Ho&&(o.flags|=128,p=!0,yl(x,!1),o.lanes=4194304)}else{if(!p)if(i=ac(A),i!==null){if(o.flags|=128,p=!0,u=i.updateQueue,u!==null&&(o.updateQueue=u,o.flags|=4),yl(x,!0),x.tail===null&&x.tailMode==="hidden"&&!A.alternate&&!ft)return Xt(o),null}else 2*rt()-x.renderingStartTime>Ho&&u!==1073741824&&(o.flags|=128,p=!0,yl(x,!1),o.lanes=4194304);x.isBackwards?(A.sibling=o.child,o.child=A):(u=x.last,u!==null?u.sibling=A:o.child=A,x.last=A)}return x.tail!==null?(o=x.tail,x.rendering=o,x.tail=o.sibling,x.renderingStartTime=rt(),o.sibling=null,u=pt.current,it(pt,p?u&1|2:u&1),o):(Xt(o),null);case 22:case 23:return Oh(),p=o.memoizedState!==null,i!==null&&i.memoizedState!==null!==p&&(o.flags|=8192),p&&(o.mode&1)!==0?(Tn&1073741824)!==0&&(Xt(o),o.subtreeFlags&6&&(o.flags|=8192)):Xt(o),null;case 24:return null;case 25:return null}throw Error(t(156,o.tag))}function dI(i,o){switch(Hf(o),o.tag){case 1:return dn(o.type)&&Yu(),i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 3:return $o(),at(cn),at(Qt),rh(),i=o.flags,(i&65536)!==0&&(i&128)===0?(o.flags=i&-65537|128,o):null;case 5:return th(o),null;case 13:if(at(pt),i=o.memoizedState,i!==null&&i.dehydrated!==null){if(o.alternate===null)throw Error(t(340));Lo()}return i=o.flags,i&65536?(o.flags=i&-65537|128,o):null;case 19:return at(pt),null;case 4:return $o(),null;case 10:return Yf(o.type._context),null;case 22:case 23:return Oh(),null;case 24:return null;default:return null}}var gc=!1,Jt=!1,fI=typeof WeakSet=="function"?WeakSet:Set,ye=null;function Uo(i,o){var u=i.ref;if(u!==null)if(typeof u=="function")try{u(null)}catch(p){vt(i,o,p)}else u.current=null}function Ch(i,o,u){try{u()}catch(p){vt(i,o,p)}}var Hv=!1;function hI(i,o){if(Of=Ei,i=Ey(),bf(i)){if("selectionStart"in i)var u={start:i.selectionStart,end:i.selectionEnd};else e:{u=(u=i.ownerDocument)&&u.defaultView||window;var p=u.getSelection&&u.getSelection();if(p&&p.rangeCount!==0){u=p.anchorNode;var g=p.anchorOffset,x=p.focusNode;p=p.focusOffset;try{u.nodeType,x.nodeType}catch{u=null;break e}var A=0,$=-1,B=-1,Y=0,oe=0,ae=i,se=null;t:for(;;){for(var me;ae!==u||g!==0&&ae.nodeType!==3||($=A+g),ae!==x||p!==0&&ae.nodeType!==3||(B=A+p),ae.nodeType===3&&(A+=ae.nodeValue.length),(me=ae.firstChild)!==null;)se=ae,ae=me;for(;;){if(ae===i)break t;if(se===u&&++Y===g&&($=A),se===x&&++oe===p&&(B=A),(me=ae.nextSibling)!==null)break;ae=se,se=ae.parentNode}ae=me}u=$===-1||B===-1?null:{start:$,end:B}}else u=null}u=u||{start:0,end:0}}else u=null;for(Lf={focusedElem:i,selectionRange:u},Ei=!1,ye=o;ye!==null;)if(o=ye,i=o.child,(o.subtreeFlags&1028)!==0&&i!==null)i.return=o,ye=i;else for(;ye!==null;){o=ye;try{var we=o.alternate;if((o.flags&1024)!==0)switch(o.tag){case 0:case 11:case 15:break;case 1:if(we!==null){var _e=we.memoizedProps,xt=we.memoizedState,K=o.stateNode,H=K.getSnapshotBeforeUpdate(o.elementType===o.type?_e:nr(o.type,_e),xt);K.__reactInternalSnapshotBeforeUpdate=H}break;case 3:var G=o.stateNode.containerInfo;G.nodeType===1?G.textContent="":G.nodeType===9&&G.documentElement&&G.removeChild(G.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(t(163))}}catch(ue){vt(o,o.return,ue)}if(i=o.sibling,i!==null){i.return=o.return,ye=i;break}ye=o.return}return we=Hv,Hv=!1,we}function vl(i,o,u){var p=o.updateQueue;if(p=p!==null?p.lastEffect:null,p!==null){var g=p=p.next;do{if((g.tag&i)===i){var x=g.destroy;g.destroy=void 0,x!==void 0&&Ch(o,u,x)}g=g.next}while(g!==p)}}function yc(i,o){if(o=o.updateQueue,o=o!==null?o.lastEffect:null,o!==null){var u=o=o.next;do{if((u.tag&i)===i){var p=u.create;u.destroy=p()}u=u.next}while(u!==o)}}function Sh(i){var o=i.ref;if(o!==null){var u=i.stateNode;switch(i.tag){case 5:i=u;break;default:i=u}typeof o=="function"?o(i):o.current=i}}function Wv(i){var o=i.alternate;o!==null&&(i.alternate=null,Wv(o)),i.child=null,i.deletions=null,i.sibling=null,i.tag===5&&(o=i.stateNode,o!==null&&(delete o[Cr],delete o[al],delete o[$f],delete o[QT],delete o[YT])),i.stateNode=null,i.return=null,i.dependencies=null,i.memoizedProps=null,i.memoizedState=null,i.pendingProps=null,i.stateNode=null,i.updateQueue=null}function Kv(i){return i.tag===5||i.tag===3||i.tag===4}function qv(i){e:for(;;){for(;i.sibling===null;){if(i.return===null||Kv(i.return))return null;i=i.return}for(i.sibling.return=i.return,i=i.sibling;i.tag!==5&&i.tag!==6&&i.tag!==18;){if(i.flags&2||i.child===null||i.tag===4)continue e;i.child.return=i,i=i.child}if(!(i.flags&2))return i.stateNode}}function Th(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.nodeType===8?u.parentNode.insertBefore(i,o):u.insertBefore(i,o):(u.nodeType===8?(o=u.parentNode,o.insertBefore(i,u)):(o=u,o.appendChild(i)),u=u._reactRootContainer,u!=null||o.onclick!==null||(o.onclick=Gu));else if(p!==4&&(i=i.child,i!==null))for(Th(i,o,u),i=i.sibling;i!==null;)Th(i,o,u),i=i.sibling}function Ih(i,o,u){var p=i.tag;if(p===5||p===6)i=i.stateNode,o?u.insertBefore(i,o):u.appendChild(i);else if(p!==4&&(i=i.child,i!==null))for(Ih(i,o,u),i=i.sibling;i!==null;)Ih(i,o,u),i=i.sibling}var Ut=null,rr=!1;function Pi(i,o,u){for(u=u.child;u!==null;)Gv(i,o,u),u=u.sibling}function Gv(i,o,u){if(wn&&typeof wn.onCommitFiberUnmount=="function")try{wn.onCommitFiberUnmount(_s,u)}catch{}switch(u.tag){case 5:Jt||Uo(u,o);case 6:var p=Ut,g=rr;Ut=null,Pi(i,o,u),Ut=p,rr=g,Ut!==null&&(rr?(i=Ut,u=u.stateNode,i.nodeType===8?i.parentNode.removeChild(u):i.removeChild(u)):Ut.removeChild(u.stateNode));break;case 18:Ut!==null&&(rr?(i=Ut,u=u.stateNode,i.nodeType===8?Ff(i.parentNode,u):i.nodeType===1&&Ff(i,u),Jn(i)):Ff(Ut,u.stateNode));break;case 4:p=Ut,g=rr,Ut=u.stateNode.containerInfo,rr=!0,Pi(i,o,u),Ut=p,rr=g;break;case 0:case 11:case 14:case 15:if(!Jt&&(p=u.updateQueue,p!==null&&(p=p.lastEffect,p!==null))){g=p=p.next;do{var x=g,A=x.destroy;x=x.tag,A!==void 0&&((x&2)!==0||(x&4)!==0)&&Ch(u,o,A),g=g.next}while(g!==p)}Pi(i,o,u);break;case 1:if(!Jt&&(Uo(u,o),p=u.stateNode,typeof p.componentWillUnmount=="function"))try{p.props=u.memoizedProps,p.state=u.memoizedState,p.componentWillUnmount()}catch($){vt(u,o,$)}Pi(i,o,u);break;case 21:Pi(i,o,u);break;case 22:u.mode&1?(Jt=(p=Jt)||u.memoizedState!==null,Pi(i,o,u),Jt=p):Pi(i,o,u);break;default:Pi(i,o,u)}}function Qv(i){var o=i.updateQueue;if(o!==null){i.updateQueue=null;var u=i.stateNode;u===null&&(u=i.stateNode=new fI),o.forEach(function(p){var g=EI.bind(null,i,p);u.has(p)||(u.add(p),p.then(g,g))})}}function ir(i,o){var u=o.deletions;if(u!==null)for(var p=0;p<u.length;p++){var g=u[p];try{var x=i,A=o,$=A;e:for(;$!==null;){switch($.tag){case 5:Ut=$.stateNode,rr=!1;break e;case 3:Ut=$.stateNode.containerInfo,rr=!0;break e;case 4:Ut=$.stateNode.containerInfo,rr=!0;break e}$=$.return}if(Ut===null)throw Error(t(160));Gv(x,A,g),Ut=null,rr=!1;var B=g.alternate;B!==null&&(B.return=null),g.return=null}catch(Y){vt(g,o,Y)}}if(o.subtreeFlags&12854)for(o=o.child;o!==null;)Yv(o,i),o=o.sibling}function Yv(i,o){var u=i.alternate,p=i.flags;switch(i.tag){case 0:case 11:case 14:case 15:if(ir(o,i),Ir(i),p&4){try{vl(3,i,i.return),yc(3,i)}catch(_e){vt(i,i.return,_e)}try{vl(5,i,i.return)}catch(_e){vt(i,i.return,_e)}}break;case 1:ir(o,i),Ir(i),p&512&&u!==null&&Uo(u,u.return);break;case 5:if(ir(o,i),Ir(i),p&512&&u!==null&&Uo(u,u.return),i.flags&32){var g=i.stateNode;try{pi(g,"")}catch(_e){vt(i,i.return,_e)}}if(p&4&&(g=i.stateNode,g!=null)){var x=i.memoizedProps,A=u!==null?u.memoizedProps:x,$=i.type,B=i.updateQueue;if(i.updateQueue=null,B!==null)try{$==="input"&&x.type==="radio"&&x.name!=null&&Un(g,x),Va($,A);var Y=Va($,x);for(A=0;A<B.length;A+=2){var oe=B[A],ae=B[A+1];oe==="style"?Oa(g,ae):oe==="dangerouslySetInnerHTML"?Da(g,ae):oe==="children"?pi(g,ae):j(g,oe,ae,Y)}switch($){case"input":Bn(g,x);break;case"textarea":ro(g,x);break;case"select":var se=g._wrapperState.wasMultiple;g._wrapperState.wasMultiple=!!x.multiple;var me=x.value;me!=null?Ur(g,!!x.multiple,me,!1):se!==!!x.multiple&&(x.defaultValue!=null?Ur(g,!!x.multiple,x.defaultValue,!0):Ur(g,!!x.multiple,x.multiple?[]:"",!1))}g[al]=x}catch(_e){vt(i,i.return,_e)}}break;case 6:if(ir(o,i),Ir(i),p&4){if(i.stateNode===null)throw Error(t(162));g=i.stateNode,x=i.memoizedProps;try{g.nodeValue=x}catch(_e){vt(i,i.return,_e)}}break;case 3:if(ir(o,i),Ir(i),p&4&&u!==null&&u.memoizedState.isDehydrated)try{Jn(o.containerInfo)}catch(_e){vt(i,i.return,_e)}break;case 4:ir(o,i),Ir(i);break;case 13:ir(o,i),Ir(i),g=i.child,g.flags&8192&&(x=g.memoizedState!==null,g.stateNode.isHidden=x,!x||g.alternate!==null&&g.alternate.memoizedState!==null||(Ah=rt())),p&4&&Qv(i);break;case 22:if(oe=u!==null&&u.memoizedState!==null,i.mode&1?(Jt=(Y=Jt)||oe,ir(o,i),Jt=Y):ir(o,i),Ir(i),p&8192){if(Y=i.memoizedState!==null,(i.stateNode.isHidden=Y)&&!oe&&(i.mode&1)!==0)for(ye=i,oe=i.child;oe!==null;){for(ae=ye=oe;ye!==null;){switch(se=ye,me=se.child,se.tag){case 0:case 11:case 14:case 15:vl(4,se,se.return);break;case 1:Uo(se,se.return);var we=se.stateNode;if(typeof we.componentWillUnmount=="function"){p=se,u=se.return;try{o=p,we.props=o.memoizedProps,we.state=o.memoizedState,we.componentWillUnmount()}catch(_e){vt(p,u,_e)}}break;case 5:Uo(se,se.return);break;case 22:if(se.memoizedState!==null){Zv(ae);continue}}me!==null?(me.return=se,ye=me):Zv(ae)}oe=oe.sibling}e:for(oe=null,ae=i;;){if(ae.tag===5){if(oe===null){oe=ae;try{g=ae.stateNode,Y?(x=g.style,typeof x.setProperty=="function"?x.setProperty("display","none","important"):x.display="none"):($=ae.stateNode,B=ae.memoizedProps.style,A=B!=null&&B.hasOwnProperty("display")?B.display:null,$.style.display=Ma("display",A))}catch(_e){vt(i,i.return,_e)}}}else if(ae.tag===6){if(oe===null)try{ae.stateNode.nodeValue=Y?"":ae.memoizedProps}catch(_e){vt(i,i.return,_e)}}else if((ae.tag!==22&&ae.tag!==23||ae.memoizedState===null||ae===i)&&ae.child!==null){ae.child.return=ae,ae=ae.child;continue}if(ae===i)break e;for(;ae.sibling===null;){if(ae.return===null||ae.return===i)break e;oe===ae&&(oe=null),ae=ae.return}oe===ae&&(oe=null),ae.sibling.return=ae.return,ae=ae.sibling}}break;case 19:ir(o,i),Ir(i),p&4&&Qv(i);break;case 21:break;default:ir(o,i),Ir(i)}}function Ir(i){var o=i.flags;if(o&2){try{e:{for(var u=i.return;u!==null;){if(Kv(u)){var p=u;break e}u=u.return}throw Error(t(160))}switch(p.tag){case 5:var g=p.stateNode;p.flags&32&&(pi(g,""),p.flags&=-33);var x=qv(i);Ih(i,x,g);break;case 3:case 4:var A=p.stateNode.containerInfo,$=qv(i);Th(i,$,A);break;default:throw Error(t(161))}}catch(B){vt(i,i.return,B)}i.flags&=-3}o&4096&&(i.flags&=-4097)}function pI(i,o,u){ye=i,Xv(i)}function Xv(i,o,u){for(var p=(i.mode&1)!==0;ye!==null;){var g=ye,x=g.child;if(g.tag===22&&p){var A=g.memoizedState!==null||gc;if(!A){var $=g.alternate,B=$!==null&&$.memoizedState!==null||Jt;$=gc;var Y=Jt;if(gc=A,(Jt=B)&&!Y)for(ye=g;ye!==null;)A=ye,B=A.child,A.tag===22&&A.memoizedState!==null?ew(g):B!==null?(B.return=A,ye=B):ew(g);for(;x!==null;)ye=x,Xv(x),x=x.sibling;ye=g,gc=$,Jt=Y}Jv(i)}else(g.subtreeFlags&8772)!==0&&x!==null?(x.return=g,ye=x):Jv(i)}}function Jv(i){for(;ye!==null;){var o=ye;if((o.flags&8772)!==0){var u=o.alternate;try{if((o.flags&8772)!==0)switch(o.tag){case 0:case 11:case 15:Jt||yc(5,o);break;case 1:var p=o.stateNode;if(o.flags&4&&!Jt)if(u===null)p.componentDidMount();else{var g=o.elementType===o.type?u.memoizedProps:nr(o.type,u.memoizedProps);p.componentDidUpdate(g,u.memoizedState,p.__reactInternalSnapshotBeforeUpdate)}var x=o.updateQueue;x!==null&&Zy(o,x,p);break;case 3:var A=o.updateQueue;if(A!==null){if(u=null,o.child!==null)switch(o.child.tag){case 5:u=o.child.stateNode;break;case 1:u=o.child.stateNode}Zy(o,A,u)}break;case 5:var $=o.stateNode;if(u===null&&o.flags&4){u=$;var B=o.memoizedProps;switch(o.type){case"button":case"input":case"select":case"textarea":B.autoFocus&&u.focus();break;case"img":B.src&&(u.src=B.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(o.memoizedState===null){var Y=o.alternate;if(Y!==null){var oe=Y.memoizedState;if(oe!==null){var ae=oe.dehydrated;ae!==null&&Jn(ae)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(t(163))}Jt||o.flags&512&&Sh(o)}catch(se){vt(o,o.return,se)}}if(o===i){ye=null;break}if(u=o.sibling,u!==null){u.return=o.return,ye=u;break}ye=o.return}}function Zv(i){for(;ye!==null;){var o=ye;if(o===i){ye=null;break}var u=o.sibling;if(u!==null){u.return=o.return,ye=u;break}ye=o.return}}function ew(i){for(;ye!==null;){var o=ye;try{switch(o.tag){case 0:case 11:case 15:var u=o.return;try{yc(4,o)}catch(B){vt(o,u,B)}break;case 1:var p=o.stateNode;if(typeof p.componentDidMount=="function"){var g=o.return;try{p.componentDidMount()}catch(B){vt(o,g,B)}}var x=o.return;try{Sh(o)}catch(B){vt(o,x,B)}break;case 5:var A=o.return;try{Sh(o)}catch(B){vt(o,A,B)}}}catch(B){vt(o,o.return,B)}if(o===i){ye=null;break}var $=o.sibling;if($!==null){$.return=o.return,ye=$;break}ye=o.return}}var mI=Math.ceil,vc=z.ReactCurrentDispatcher,bh=z.ReactCurrentOwner,Vn=z.ReactCurrentBatchConfig,Xe=0,jt=null,Tt=null,Bt=0,Tn=0,Bo=Ii(0),kt=0,wl=null,Ms=0,wc=0,Rh=0,_l=null,hn=null,Ah=0,Ho=1/0,ri=null,_c=!1,Nh=null,ki=null,xc=!1,Di=null,Ec=0,xl=0,Ph=null,Cc=-1,Sc=0;function an(){return(Xe&6)!==0?rt():Cc!==-1?Cc:Cc=rt()}function Mi(i){return(i.mode&1)===0?1:(Xe&2)!==0&&Bt!==0?Bt&-Bt:JT.transition!==null?(Sc===0&&(Sc=Es()),Sc):(i=qe,i!==0||(i=window.event,i=i===void 0?16:Qa(i.type)),i)}function sr(i,o,u,p){if(50<xl)throw xl=0,Ph=null,Error(t(185));vi(i,u,p),((Xe&2)===0||i!==jt)&&(i===jt&&((Xe&2)===0&&(wc|=u),kt===4&&Oi(i,Bt)),pn(i,p),u===1&&Xe===0&&(o.mode&1)===0&&(Ho=rt()+500,Ju&&Ri()))}function pn(i,o){var u=i.callbackNode;Wr(i,o);var p=xs(i,i===jt?Bt:0);if(p===0)u!==null&&Ha(u),i.callbackNode=null,i.callbackPriority=0;else if(o=p&-p,i.callbackPriority!==o){if(u!=null&&Ha(u),o===1)i.tag===0?XT(nw.bind(null,i)):zy(nw.bind(null,i)),qT(function(){(Xe&6)===0&&Ri()}),u=null;else{switch(_i(p)){case 1:u=ws;break;case 4:u=mi;break;case 16:u=Pn;break;case 536870912:u=Su;break;default:u=Pn}u=cw(u,tw.bind(null,i))}i.callbackPriority=o,i.callbackNode=u}}function tw(i,o){if(Cc=-1,Sc=0,(Xe&6)!==0)throw Error(t(327));var u=i.callbackNode;if(Wo()&&i.callbackNode!==u)return null;var p=xs(i,i===jt?Bt:0);if(p===0)return null;if((p&30)!==0||(p&i.expiredLanes)!==0||o)o=Tc(i,p);else{o=p;var g=Xe;Xe|=2;var x=iw();(jt!==i||Bt!==o)&&(ri=null,Ho=rt()+500,Ls(i,o));do try{vI();break}catch($){rw(i,$)}while(!0);Qf(),vc.current=x,Xe=g,Tt!==null?o=0:(jt=null,Bt=0,o=kt)}if(o!==0){if(o===2&&(g=_n(i),g!==0&&(p=g,o=kh(i,g))),o===1)throw u=wl,Ls(i,0),Oi(i,p),pn(i,rt()),u;if(o===6)Oi(i,p);else{if(g=i.current.alternate,(p&30)===0&&!gI(g)&&(o=Tc(i,p),o===2&&(x=_n(i),x!==0&&(p=x,o=kh(i,x))),o===1))throw u=wl,Ls(i,0),Oi(i,p),pn(i,rt()),u;switch(i.finishedWork=g,i.finishedLanes=p,o){case 0:case 1:throw Error(t(345));case 2:js(i,hn,ri);break;case 3:if(Oi(i,p),(p&130023424)===p&&(o=Ah+500-rt(),10<o)){if(xs(i,0)!==0)break;if(g=i.suspendedLanes,(g&p)!==p){an(),i.pingedLanes|=i.suspendedLanes&g;break}i.timeoutHandle=Vf(js.bind(null,i,hn,ri),o);break}js(i,hn,ri);break;case 4:if(Oi(i,p),(p&4194240)===p)break;for(o=i.eventTimes,g=-1;0<p;){var A=31-rn(p);x=1<<A,A=o[A],A>g&&(g=A),p&=~x}if(p=g,p=rt()-p,p=(120>p?120:480>p?480:1080>p?1080:1920>p?1920:3e3>p?3e3:4320>p?4320:1960*mI(p/1960))-p,10<p){i.timeoutHandle=Vf(js.bind(null,i,hn,ri),p);break}js(i,hn,ri);break;case 5:js(i,hn,ri);break;default:throw Error(t(329))}}}return pn(i,rt()),i.callbackNode===u?tw.bind(null,i):null}function kh(i,o){var u=_l;return i.current.memoizedState.isDehydrated&&(Ls(i,o).flags|=256),i=Tc(i,o),i!==2&&(o=hn,hn=u,o!==null&&Dh(o)),i}function Dh(i){hn===null?hn=i:hn.push.apply(hn,i)}function gI(i){for(var o=i;;){if(o.flags&16384){var u=o.updateQueue;if(u!==null&&(u=u.stores,u!==null))for(var p=0;p<u.length;p++){var g=u[p],x=g.getSnapshot;g=g.value;try{if(!er(x(),g))return!1}catch{return!1}}}if(u=o.child,o.subtreeFlags&16384&&u!==null)u.return=o,o=u;else{if(o===i)break;for(;o.sibling===null;){if(o.return===null||o.return===i)return!0;o=o.return}o.sibling.return=o.return,o=o.sibling}}return!0}function Oi(i,o){for(o&=~Rh,o&=~wc,i.suspendedLanes|=o,i.pingedLanes&=~o,i=i.expirationTimes;0<o;){var u=31-rn(o),p=1<<u;i[u]=-1,o&=~p}}function nw(i){if((Xe&6)!==0)throw Error(t(327));Wo();var o=xs(i,0);if((o&1)===0)return pn(i,rt()),null;var u=Tc(i,o);if(i.tag!==0&&u===2){var p=_n(i);p!==0&&(o=p,u=kh(i,p))}if(u===1)throw u=wl,Ls(i,0),Oi(i,o),pn(i,rt()),u;if(u===6)throw Error(t(345));return i.finishedWork=i.current.alternate,i.finishedLanes=o,js(i,hn,ri),pn(i,rt()),null}function Mh(i,o){var u=Xe;Xe|=1;try{return i(o)}finally{Xe=u,Xe===0&&(Ho=rt()+500,Ju&&Ri())}}function Os(i){Di!==null&&Di.tag===0&&(Xe&6)===0&&Wo();var o=Xe;Xe|=1;var u=Vn.transition,p=qe;try{if(Vn.transition=null,qe=1,i)return i()}finally{qe=p,Vn.transition=u,Xe=o,(Xe&6)===0&&Ri()}}function Oh(){Tn=Bo.current,at(Bo)}function Ls(i,o){i.finishedWork=null,i.finishedLanes=0;var u=i.timeoutHandle;if(u!==-1&&(i.timeoutHandle=-1,KT(u)),Tt!==null)for(u=Tt.return;u!==null;){var p=u;switch(Hf(p),p.tag){case 1:p=p.type.childContextTypes,p!=null&&Yu();break;case 3:$o(),at(cn),at(Qt),rh();break;case 5:th(p);break;case 4:$o();break;case 13:at(pt);break;case 19:at(pt);break;case 10:Yf(p.type._context);break;case 22:case 23:Oh()}u=u.return}if(jt=i,Tt=i=Li(i.current,null),Bt=Tn=o,kt=0,wl=null,Rh=wc=Ms=0,hn=_l=null,Ps!==null){for(o=0;o<Ps.length;o++)if(u=Ps[o],p=u.interleaved,p!==null){u.interleaved=null;var g=p.next,x=u.pending;if(x!==null){var A=x.next;x.next=g,p.next=A}u.pending=p}Ps=null}return i}function rw(i,o){do{var u=Tt;try{if(Qf(),lc.current=fc,uc){for(var p=mt.memoizedState;p!==null;){var g=p.queue;g!==null&&(g.pending=null),p=p.next}uc=!1}if(Ds=0,Lt=Pt=mt=null,hl=!1,pl=0,bh.current=null,u===null||u.return===null){kt=1,wl=o,Tt=null;break}e:{var x=i,A=u.return,$=u,B=o;if(o=Bt,$.flags|=32768,B!==null&&typeof B=="object"&&typeof B.then=="function"){var Y=B,oe=$,ae=oe.tag;if((oe.mode&1)===0&&(ae===0||ae===11||ae===15)){var se=oe.alternate;se?(oe.updateQueue=se.updateQueue,oe.memoizedState=se.memoizedState,oe.lanes=se.lanes):(oe.updateQueue=null,oe.memoizedState=null)}var me=Rv(A);if(me!==null){me.flags&=-257,Av(me,A,$,x,o),me.mode&1&&bv(x,Y,o),o=me,B=Y;var we=o.updateQueue;if(we===null){var _e=new Set;_e.add(B),o.updateQueue=_e}else we.add(B);break e}else{if((o&1)===0){bv(x,Y,o),Lh();break e}B=Error(t(426))}}else if(ft&&$.mode&1){var xt=Rv(A);if(xt!==null){(xt.flags&65536)===0&&(xt.flags|=256),Av(xt,A,$,x,o),qf(zo(B,$));break e}}x=B=zo(B,$),kt!==4&&(kt=2),_l===null?_l=[x]:_l.push(x),x=A;do{switch(x.tag){case 3:x.flags|=65536,o&=-o,x.lanes|=o;var K=Tv(x,B,o);Jy(x,K);break e;case 1:$=B;var H=x.type,G=x.stateNode;if((x.flags&128)===0&&(typeof H.getDerivedStateFromError=="function"||G!==null&&typeof G.componentDidCatch=="function"&&(ki===null||!ki.has(G)))){x.flags|=65536,o&=-o,x.lanes|=o;var ue=Iv(x,$,o);Jy(x,ue);break e}}x=x.return}while(x!==null)}ow(u)}catch(xe){o=xe,Tt===u&&u!==null&&(Tt=u=u.return);continue}break}while(!0)}function iw(){var i=vc.current;return vc.current=fc,i===null?fc:i}function Lh(){(kt===0||kt===3||kt===2)&&(kt=4),jt===null||(Ms&268435455)===0&&(wc&268435455)===0||Oi(jt,Bt)}function Tc(i,o){var u=Xe;Xe|=2;var p=iw();(jt!==i||Bt!==o)&&(ri=null,Ls(i,o));do try{yI();break}catch(g){rw(i,g)}while(!0);if(Qf(),Xe=u,vc.current=p,Tt!==null)throw Error(t(261));return jt=null,Bt=0,kt}function yI(){for(;Tt!==null;)sw(Tt)}function vI(){for(;Tt!==null&&!Eu();)sw(Tt)}function sw(i){var o=uw(i.alternate,i,Tn);i.memoizedProps=i.pendingProps,o===null?ow(i):Tt=o,bh.current=null}function ow(i){var o=i;do{var u=o.alternate;if(i=o.return,(o.flags&32768)===0){if(u=cI(u,o,Tn),u!==null){Tt=u;return}}else{if(u=dI(u,o),u!==null){u.flags&=32767,Tt=u;return}if(i!==null)i.flags|=32768,i.subtreeFlags=0,i.deletions=null;else{kt=6,Tt=null;return}}if(o=o.sibling,o!==null){Tt=o;return}Tt=o=i}while(o!==null);kt===0&&(kt=5)}function js(i,o,u){var p=qe,g=Vn.transition;try{Vn.transition=null,qe=1,wI(i,o,u,p)}finally{Vn.transition=g,qe=p}return null}function wI(i,o,u,p){do Wo();while(Di!==null);if((Xe&6)!==0)throw Error(t(327));u=i.finishedWork;var g=i.finishedLanes;if(u===null)return null;if(i.finishedWork=null,i.finishedLanes=0,u===i.current)throw Error(t(177));i.callbackNode=null,i.callbackPriority=0;var x=u.lanes|u.childLanes;if(tt(i,x),i===jt&&(Tt=jt=null,Bt=0),(u.subtreeFlags&2064)===0&&(u.flags&2064)===0||xc||(xc=!0,cw(Pn,function(){return Wo(),null})),x=(u.flags&15990)!==0,(u.subtreeFlags&15990)!==0||x){x=Vn.transition,Vn.transition=null;var A=qe;qe=1;var $=Xe;Xe|=4,bh.current=null,hI(i,u),Yv(u,i),FT(Lf),Ei=!!Of,Lf=Of=null,i.current=u,pI(u),wf(),Xe=$,qe=A,Vn.transition=x}else i.current=u;if(xc&&(xc=!1,Di=i,Ec=g),x=i.pendingLanes,x===0&&(ki=null),Tu(u.stateNode),pn(i,rt()),o!==null)for(p=i.onRecoverableError,u=0;u<o.length;u++)g=o[u],p(g.value,{componentStack:g.stack,digest:g.digest});if(_c)throw _c=!1,i=Nh,Nh=null,i;return(Ec&1)!==0&&i.tag!==0&&Wo(),x=i.pendingLanes,(x&1)!==0?i===Ph?xl++:(xl=0,Ph=i):xl=0,Ri(),null}function Wo(){if(Di!==null){var i=_i(Ec),o=Vn.transition,u=qe;try{if(Vn.transition=null,qe=16>i?16:i,Di===null)var p=!1;else{if(i=Di,Di=null,Ec=0,(Xe&6)!==0)throw Error(t(331));var g=Xe;for(Xe|=4,ye=i.current;ye!==null;){var x=ye,A=x.child;if((ye.flags&16)!==0){var $=x.deletions;if($!==null){for(var B=0;B<$.length;B++){var Y=$[B];for(ye=Y;ye!==null;){var oe=ye;switch(oe.tag){case 0:case 11:case 15:vl(8,oe,x)}var ae=oe.child;if(ae!==null)ae.return=oe,ye=ae;else for(;ye!==null;){oe=ye;var se=oe.sibling,me=oe.return;if(Wv(oe),oe===Y){ye=null;break}if(se!==null){se.return=me,ye=se;break}ye=me}}}var we=x.alternate;if(we!==null){var _e=we.child;if(_e!==null){we.child=null;do{var xt=_e.sibling;_e.sibling=null,_e=xt}while(_e!==null)}}ye=x}}if((x.subtreeFlags&2064)!==0&&A!==null)A.return=x,ye=A;else e:for(;ye!==null;){if(x=ye,(x.flags&2048)!==0)switch(x.tag){case 0:case 11:case 15:vl(9,x,x.return)}var K=x.sibling;if(K!==null){K.return=x.return,ye=K;break e}ye=x.return}}var H=i.current;for(ye=H;ye!==null;){A=ye;var G=A.child;if((A.subtreeFlags&2064)!==0&&G!==null)G.return=A,ye=G;else e:for(A=H;ye!==null;){if($=ye,($.flags&2048)!==0)try{switch($.tag){case 0:case 11:case 15:yc(9,$)}}catch(xe){vt($,$.return,xe)}if($===A){ye=null;break e}var ue=$.sibling;if(ue!==null){ue.return=$.return,ye=ue;break e}ye=$.return}}if(Xe=g,Ri(),wn&&typeof wn.onPostCommitFiberRoot=="function")try{wn.onPostCommitFiberRoot(_s,i)}catch{}p=!0}return p}finally{qe=u,Vn.transition=o}}return!1}function aw(i,o,u){o=zo(u,o),o=Tv(i,o,1),i=Ni(i,o,1),o=an(),i!==null&&(vi(i,1,o),pn(i,o))}function vt(i,o,u){if(i.tag===3)aw(i,i,u);else for(;o!==null;){if(o.tag===3){aw(o,i,u);break}else if(o.tag===1){var p=o.stateNode;if(typeof o.type.getDerivedStateFromError=="function"||typeof p.componentDidCatch=="function"&&(ki===null||!ki.has(p))){i=zo(u,i),i=Iv(o,i,1),o=Ni(o,i,1),i=an(),o!==null&&(vi(o,1,i),pn(o,i));break}}o=o.return}}function _I(i,o,u){var p=i.pingCache;p!==null&&p.delete(o),o=an(),i.pingedLanes|=i.suspendedLanes&u,jt===i&&(Bt&u)===u&&(kt===4||kt===3&&(Bt&130023424)===Bt&&500>rt()-Ah?Ls(i,0):Rh|=u),pn(i,o)}function lw(i,o){o===0&&((i.mode&1)===0?o=1:(o=po,po<<=1,(po&130023424)===0&&(po=4194304)));var u=an();i=ei(i,o),i!==null&&(vi(i,o,u),pn(i,u))}function xI(i){var o=i.memoizedState,u=0;o!==null&&(u=o.retryLane),lw(i,u)}function EI(i,o){var u=0;switch(i.tag){case 13:var p=i.stateNode,g=i.memoizedState;g!==null&&(u=g.retryLane);break;case 19:p=i.stateNode;break;default:throw Error(t(314))}p!==null&&p.delete(o),lw(i,u)}var uw;uw=function(i,o,u){if(i!==null)if(i.memoizedProps!==o.pendingProps||cn.current)fn=!0;else{if((i.lanes&u)===0&&(o.flags&128)===0)return fn=!1,uI(i,o,u);fn=(i.flags&131072)!==0}else fn=!1,ft&&(o.flags&1048576)!==0&&Uy(o,ec,o.index);switch(o.lanes=0,o.tag){case 2:var p=o.type;mc(i,o),i=o.pendingProps;var g=Do(o,Qt.current);Fo(o,u),g=oh(null,o,p,i,g,u);var x=ah();return o.flags|=1,typeof g=="object"&&g!==null&&typeof g.render=="function"&&g.$$typeof===void 0?(o.tag=1,o.memoizedState=null,o.updateQueue=null,dn(p)?(x=!0,Xu(o)):x=!1,o.memoizedState=g.state!==null&&g.state!==void 0?g.state:null,Zf(o),g.updater=hc,o.stateNode=g,g._reactInternals=o,hh(o,p,i,u),o=yh(null,o,p,!0,x,u)):(o.tag=0,ft&&x&&Bf(o),on(null,o,g,u),o=o.child),o;case 16:p=o.elementType;e:{switch(mc(i,o),i=o.pendingProps,g=p._init,p=g(p._payload),o.type=p,g=o.tag=SI(p),i=nr(p,i),g){case 0:o=gh(null,o,p,i,u);break e;case 1:o=Ov(null,o,p,i,u);break e;case 11:o=Nv(null,o,p,i,u);break e;case 14:o=Pv(null,o,p,nr(p.type,i),u);break e}throw Error(t(306,p,""))}return o;case 0:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:nr(p,g),gh(i,o,p,g,u);case 1:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:nr(p,g),Ov(i,o,p,g,u);case 3:e:{if(Lv(o),i===null)throw Error(t(387));p=o.pendingProps,x=o.memoizedState,g=x.element,Xy(i,o),oc(o,p,null,u);var A=o.memoizedState;if(p=A.element,x.isDehydrated)if(x={element:p,isDehydrated:!1,cache:A.cache,pendingSuspenseBoundaries:A.pendingSuspenseBoundaries,transitions:A.transitions},o.updateQueue.baseState=x,o.memoizedState=x,o.flags&256){g=zo(Error(t(423)),o),o=jv(i,o,p,u,g);break e}else if(p!==g){g=zo(Error(t(424)),o),o=jv(i,o,p,u,g);break e}else for(Sn=Ti(o.stateNode.containerInfo.firstChild),Cn=o,ft=!0,tr=null,u=Qy(o,null,p,u),o.child=u;u;)u.flags=u.flags&-3|4096,u=u.sibling;else{if(Lo(),p===g){o=ni(i,o,u);break e}on(i,o,p,u)}o=o.child}return o;case 5:return ev(o),i===null&&Kf(o),p=o.type,g=o.pendingProps,x=i!==null?i.memoizedProps:null,A=g.children,jf(p,g)?A=null:x!==null&&jf(p,x)&&(o.flags|=32),Mv(i,o),on(i,o,A,u),o.child;case 6:return i===null&&Kf(o),null;case 13:return Vv(i,o,u);case 4:return eh(o,o.stateNode.containerInfo),p=o.pendingProps,i===null?o.child=jo(o,null,p,u):on(i,o,p,u),o.child;case 11:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:nr(p,g),Nv(i,o,p,g,u);case 7:return on(i,o,o.pendingProps,u),o.child;case 8:return on(i,o,o.pendingProps.children,u),o.child;case 12:return on(i,o,o.pendingProps.children,u),o.child;case 10:e:{if(p=o.type._context,g=o.pendingProps,x=o.memoizedProps,A=g.value,it(rc,p._currentValue),p._currentValue=A,x!==null)if(er(x.value,A)){if(x.children===g.children&&!cn.current){o=ni(i,o,u);break e}}else for(x=o.child,x!==null&&(x.return=o);x!==null;){var $=x.dependencies;if($!==null){A=x.child;for(var B=$.firstContext;B!==null;){if(B.context===p){if(x.tag===1){B=ti(-1,u&-u),B.tag=2;var Y=x.updateQueue;if(Y!==null){Y=Y.shared;var oe=Y.pending;oe===null?B.next=B:(B.next=oe.next,oe.next=B),Y.pending=B}}x.lanes|=u,B=x.alternate,B!==null&&(B.lanes|=u),Xf(x.return,u,o),$.lanes|=u;break}B=B.next}}else if(x.tag===10)A=x.type===o.type?null:x.child;else if(x.tag===18){if(A=x.return,A===null)throw Error(t(341));A.lanes|=u,$=A.alternate,$!==null&&($.lanes|=u),Xf(A,u,o),A=x.sibling}else A=x.child;if(A!==null)A.return=x;else for(A=x;A!==null;){if(A===o){A=null;break}if(x=A.sibling,x!==null){x.return=A.return,A=x;break}A=A.return}x=A}on(i,o,g.children,u),o=o.child}return o;case 9:return g=o.type,p=o.pendingProps.children,Fo(o,u),g=Ln(g),p=p(g),o.flags|=1,on(i,o,p,u),o.child;case 14:return p=o.type,g=nr(p,o.pendingProps),g=nr(p.type,g),Pv(i,o,p,g,u);case 15:return kv(i,o,o.type,o.pendingProps,u);case 17:return p=o.type,g=o.pendingProps,g=o.elementType===p?g:nr(p,g),mc(i,o),o.tag=1,dn(p)?(i=!0,Xu(o)):i=!1,Fo(o,u),Cv(o,p,g),hh(o,p,g,u),yh(null,o,p,!0,i,u);case 19:return $v(i,o,u);case 22:return Dv(i,o,u)}throw Error(t(156,o.tag))};function cw(i,o){return fo(i,o)}function CI(i,o,u,p){this.tag=i,this.key=u,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=o,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=p,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Fn(i,o,u,p){return new CI(i,o,u,p)}function jh(i){return i=i.prototype,!(!i||!i.isReactComponent)}function SI(i){if(typeof i=="function")return jh(i)?1:0;if(i!=null){if(i=i.$$typeof,i===P)return 11;if(i===ie)return 14}return 2}function Li(i,o){var u=i.alternate;return u===null?(u=Fn(i.tag,o,i.key,i.mode),u.elementType=i.elementType,u.type=i.type,u.stateNode=i.stateNode,u.alternate=i,i.alternate=u):(u.pendingProps=o,u.type=i.type,u.flags=0,u.subtreeFlags=0,u.deletions=null),u.flags=i.flags&14680064,u.childLanes=i.childLanes,u.lanes=i.lanes,u.child=i.child,u.memoizedProps=i.memoizedProps,u.memoizedState=i.memoizedState,u.updateQueue=i.updateQueue,o=i.dependencies,u.dependencies=o===null?null:{lanes:o.lanes,firstContext:o.firstContext},u.sibling=i.sibling,u.index=i.index,u.ref=i.ref,u}function Ic(i,o,u,p,g,x){var A=2;if(p=i,typeof i=="function")jh(i)&&(A=1);else if(typeof i=="string")A=5;else e:switch(i){case L:return Vs(u.children,g,x,o);case N:A=8,g|=8;break;case M:return i=Fn(12,u,o,g|2),i.elementType=M,i.lanes=x,i;case O:return i=Fn(13,u,o,g),i.elementType=O,i.lanes=x,i;case ee:return i=Fn(19,u,o,g),i.elementType=ee,i.lanes=x,i;case de:return bc(u,g,x,o);default:if(typeof i=="object"&&i!==null)switch(i.$$typeof){case V:A=10;break e;case F:A=9;break e;case P:A=11;break e;case ie:A=14;break e;case ce:A=16,p=null;break e}throw Error(t(130,i==null?i:typeof i,""))}return o=Fn(A,u,o,g),o.elementType=i,o.type=p,o.lanes=x,o}function Vs(i,o,u,p){return i=Fn(7,i,p,o),i.lanes=u,i}function bc(i,o,u,p){return i=Fn(22,i,p,o),i.elementType=de,i.lanes=u,i.stateNode={isHidden:!1},i}function Vh(i,o,u){return i=Fn(6,i,null,o),i.lanes=u,i}function Fh(i,o,u){return o=Fn(4,i.children!==null?i.children:[],i.key,o),o.lanes=u,o.stateNode={containerInfo:i.containerInfo,pendingChildren:null,implementation:i.implementation},o}function TI(i,o,u,p,g){this.tag=o,this.containerInfo=i,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=yi(0),this.expirationTimes=yi(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=yi(0),this.identifierPrefix=p,this.onRecoverableError=g,this.mutableSourceEagerHydrationData=null}function $h(i,o,u,p,g,x,A,$,B){return i=new TI(i,o,u,$,B),o===1?(o=1,x===!0&&(o|=8)):o=0,x=Fn(3,null,null,o),i.current=x,x.stateNode=i,x.memoizedState={element:p,isDehydrated:u,cache:null,transitions:null,pendingSuspenseBoundaries:null},Zf(x),i}function II(i,o,u){var p=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:Z,key:p==null?null:""+p,children:i,containerInfo:o,implementation:u}}function dw(i){if(!i)return bi;i=i._reactInternals;e:{if(qn(i)!==i||i.tag!==1)throw Error(t(170));var o=i;do{switch(o.tag){case 3:o=o.stateNode.context;break e;case 1:if(dn(o.type)){o=o.stateNode.__reactInternalMemoizedMergedChildContext;break e}}o=o.return}while(o!==null);throw Error(t(171))}if(i.tag===1){var u=i.type;if(dn(u))return Fy(i,u,o)}return o}function fw(i,o,u,p,g,x,A,$,B){return i=$h(u,p,!0,i,g,x,A,$,B),i.context=dw(null),u=i.current,p=an(),g=Mi(u),x=ti(p,g),x.callback=o??null,Ni(u,x,g),i.current.lanes=g,vi(i,g,p),pn(i,p),i}function Rc(i,o,u,p){var g=o.current,x=an(),A=Mi(g);return u=dw(u),o.context===null?o.context=u:o.pendingContext=u,o=ti(x,A),o.payload={element:i},p=p===void 0?null:p,p!==null&&(o.callback=p),i=Ni(g,o,A),i!==null&&(sr(i,g,A,x),sc(i,g,A)),A}function Ac(i){if(i=i.current,!i.child)return null;switch(i.child.tag){case 5:return i.child.stateNode;default:return i.child.stateNode}}function hw(i,o){if(i=i.memoizedState,i!==null&&i.dehydrated!==null){var u=i.retryLane;i.retryLane=u!==0&&u<o?u:o}}function zh(i,o){hw(i,o),(i=i.alternate)&&hw(i,o)}function bI(){return null}var pw=typeof reportError=="function"?reportError:function(i){console.error(i)};function Uh(i){this._internalRoot=i}Nc.prototype.render=Uh.prototype.render=function(i){var o=this._internalRoot;if(o===null)throw Error(t(409));Rc(i,o,null,null)},Nc.prototype.unmount=Uh.prototype.unmount=function(){var i=this._internalRoot;if(i!==null){this._internalRoot=null;var o=i.containerInfo;Os(function(){Rc(null,i,null,null)}),o[Yr]=null}};function Nc(i){this._internalRoot=i}Nc.prototype.unstable_scheduleHydration=function(i){if(i){var o=Nu();i={blockedOn:null,target:i,priority:o};for(var u=0;u<wr.length&&o!==0&&o<wr[u].priority;u++);wr.splice(u,0,i),u===0&&Du(i)}};function Bh(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11)}function Pc(i){return!(!i||i.nodeType!==1&&i.nodeType!==9&&i.nodeType!==11&&(i.nodeType!==8||i.nodeValue!==" react-mount-point-unstable "))}function mw(){}function RI(i,o,u,p,g){if(g){if(typeof p=="function"){var x=p;p=function(){var Y=Ac(A);x.call(Y)}}var A=fw(o,p,i,0,null,!1,!1,"",mw);return i._reactRootContainer=A,i[Yr]=A.current,sl(i.nodeType===8?i.parentNode:i),Os(),A}for(;g=i.lastChild;)i.removeChild(g);if(typeof p=="function"){var $=p;p=function(){var Y=Ac(B);$.call(Y)}}var B=$h(i,0,!1,null,null,!1,!1,"",mw);return i._reactRootContainer=B,i[Yr]=B.current,sl(i.nodeType===8?i.parentNode:i),Os(function(){Rc(o,B,u,p)}),B}function kc(i,o,u,p,g){var x=u._reactRootContainer;if(x){var A=x;if(typeof g=="function"){var $=g;g=function(){var B=Ac(A);$.call(B)}}Rc(o,A,i,g)}else A=RI(u,o,i,g,p);return Ac(A)}Ru=function(i){switch(i.tag){case 3:var o=i.stateNode;if(o.current.memoizedState.isDehydrated){var u=gi(o.pendingLanes);u!==0&&(wi(o,u|1),pn(o,rt()),(Xe&6)===0&&(Ho=rt()+500,Ri()))}break;case 13:Os(function(){var p=ei(i,1);if(p!==null){var g=an();sr(p,i,1,g)}}),zh(i,1)}},mo=function(i){if(i.tag===13){var o=ei(i,134217728);if(o!==null){var u=an();sr(o,i,134217728,u)}zh(i,134217728)}},Au=function(i){if(i.tag===13){var o=Mi(i),u=ei(i,o);if(u!==null){var p=an();sr(u,i,o,p)}zh(i,o)}},Nu=function(){return qe},Pu=function(i,o){var u=qe;try{return qe=i,o()}finally{qe=u}},so=function(i,o,u){switch(o){case"input":if(Bn(i,u),o=u.name,u.type==="radio"&&o!=null){for(u=i;u.parentNode;)u=u.parentNode;for(u=u.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]'),o=0;o<u.length;o++){var p=u[o];if(p!==i&&p.form===i.form){var g=Qu(p);if(!g)throw Error(t(90));Ke(p),Bn(p,g)}}}break;case"textarea":ro(i,u);break;case"select":o=u.value,o!=null&&Ur(i,!!u.multiple,o,!1)}},ms=Mh,$a=Os;var AI={usingClientEntryPoint:!1,Events:[ll,Po,Qu,yr,Fa,Mh]},El={findFiberByHostInstance:bs,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},NI={bundleType:El.bundleType,version:El.version,rendererPackageName:El.rendererPackageName,rendererConfig:El.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:z.ReactCurrentDispatcher,findHostInstanceByFiber:function(i){return i=Ba(i),i===null?null:i.stateNode},findFiberByHostInstance:El.findFiberByHostInstance||bI,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Dc=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Dc.isDisabled&&Dc.supportsFiber)try{_s=Dc.inject(NI),wn=Dc}catch{}}return mn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=AI,mn.createPortal=function(i,o){var u=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Bh(o))throw Error(t(200));return II(i,o,null,u)},mn.createRoot=function(i,o){if(!Bh(i))throw Error(t(299));var u=!1,p="",g=pw;return o!=null&&(o.unstable_strictMode===!0&&(u=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(g=o.onRecoverableError)),o=$h(i,1,!1,null,null,u,!1,p,g),i[Yr]=o.current,sl(i.nodeType===8?i.parentNode:i),new Uh(o)},mn.findDOMNode=function(i){if(i==null)return null;if(i.nodeType===1)return i;var o=i._reactInternals;if(o===void 0)throw typeof i.render=="function"?Error(t(188)):(i=Object.keys(i).join(","),Error(t(268,i)));return i=Ba(o),i=i===null?null:i.stateNode,i},mn.flushSync=function(i){return Os(i)},mn.hydrate=function(i,o,u){if(!Pc(o))throw Error(t(200));return kc(null,i,o,!0,u)},mn.hydrateRoot=function(i,o,u){if(!Bh(i))throw Error(t(405));var p=u!=null&&u.hydratedSources||null,g=!1,x="",A=pw;if(u!=null&&(u.unstable_strictMode===!0&&(g=!0),u.identifierPrefix!==void 0&&(x=u.identifierPrefix),u.onRecoverableError!==void 0&&(A=u.onRecoverableError)),o=fw(o,null,i,1,u??null,g,!1,x,A),i[Yr]=o.current,sl(i),p)for(i=0;i<p.length;i++)u=p[i],g=u._getVersion,g=g(u._source),o.mutableSourceEagerHydrationData==null?o.mutableSourceEagerHydrationData=[u,g]:o.mutableSourceEagerHydrationData.push(u,g);return new Nc(o)},mn.render=function(i,o,u){if(!Pc(o))throw Error(t(200));return kc(null,i,o,!1,u)},mn.unmountComponentAtNode=function(i){if(!Pc(i))throw Error(t(40));return i._reactRootContainer?(Os(function(){kc(null,null,i,!1,function(){i._reactRootContainer=null,i[Yr]=null})}),!0):!1},mn.unstable_batchedUpdates=Mh,mn.unstable_renderSubtreeIntoContainer=function(i,o,u,p){if(!Pc(u))throw Error(t(200));if(i==null||i._reactInternals===void 0)throw Error(t(38));return kc(i,o,u,!1,p)},mn.version="18.3.1-next-f1338f8080-20240426",mn}var Cw;function W_(){if(Cw)return Kh.exports;Cw=1;function n(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(n)}catch(e){console.error(e)}}return n(),Kh.exports=VI(),Kh.exports}var Sw;function FI(){if(Sw)return Mc;Sw=1;var n=W_();return Mc.createRoot=n.createRoot,Mc.hydrateRoot=n.hydrateRoot,Mc}var $I=FI(),Sl={},Tw;function zI(){if(Tw)return Sl;Tw=1,Object.defineProperty(Sl,"__esModule",{value:!0}),Sl.parse=l,Sl.serialize=h;const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,t=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,r=/^[\u0020-\u003A\u003D-\u007E]*$/,s=Object.prototype.toString,a=(()=>{const w=function(){};return w.prototype=Object.create(null),w})();function l(w,T){const C=new a,I=w.length;if(I<2)return C;const b=(T==null?void 0:T.decode)||m;let R=0;do{const D=w.indexOf("=",R);if(D===-1)break;const j=w.indexOf(";",R),z=j===-1?I:j;if(D>z){R=w.lastIndexOf(";",D-1)+1;continue}const q=c(w,R,D),Z=f(w,D,q),L=w.slice(q,Z);if(C[L]===void 0){let N=c(w,D+1,z),M=f(w,z,N);const V=b(w.slice(N,M));C[L]=V}R=z+1}while(R<I);return C}function c(w,T,C){do{const I=w.charCodeAt(T);if(I!==32&&I!==9)return T}while(++T<C);return C}function f(w,T,C){for(;T>C;){const I=w.charCodeAt(--T);if(I!==32&&I!==9)return T+1}return C}function h(w,T,C){const I=(C==null?void 0:C.encode)||encodeURIComponent;if(!n.test(w))throw new TypeError(`argument name is invalid: ${w}`);const b=I(T);if(!e.test(b))throw new TypeError(`argument val is invalid: ${T}`);let R=w+"="+b;if(!C)return R;if(C.maxAge!==void 0){if(!Number.isInteger(C.maxAge))throw new TypeError(`option maxAge is invalid: ${C.maxAge}`);R+="; Max-Age="+C.maxAge}if(C.domain){if(!t.test(C.domain))throw new TypeError(`option domain is invalid: ${C.domain}`);R+="; Domain="+C.domain}if(C.path){if(!r.test(C.path))throw new TypeError(`option path is invalid: ${C.path}`);R+="; Path="+C.path}if(C.expires){if(!v(C.expires)||!Number.isFinite(C.expires.valueOf()))throw new TypeError(`option expires is invalid: ${C.expires}`);R+="; Expires="+C.expires.toUTCString()}if(C.httpOnly&&(R+="; HttpOnly"),C.secure&&(R+="; Secure"),C.partitioned&&(R+="; Partitioned"),C.priority)switch(typeof C.priority=="string"?C.priority.toLowerCase():void 0){case"low":R+="; Priority=Low";break;case"medium":R+="; Priority=Medium";break;case"high":R+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${C.priority}`)}if(C.sameSite)switch(typeof C.sameSite=="string"?C.sameSite.toLowerCase():C.sameSite){case!0:case"strict":R+="; SameSite=Strict";break;case"lax":R+="; SameSite=Lax";break;case"none":R+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${C.sameSite}`)}return R}function m(w){if(w.indexOf("%")===-1)return w;try{return decodeURIComponent(w)}catch{return w}}function v(w){return s.call(w)==="[object Date]"}return Sl}zI();var Iw="popstate";function UI(n={}){function e(s,a){let{pathname:l="/",search:c="",hash:f=""}=Xs(s.location.hash.substring(1));return!l.startsWith("/")&&!l.startsWith(".")&&(l="/"+l),_p("",{pathname:l,search:c,hash:f},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function t(s,a){let l=s.document.querySelector("base"),c="";if(l&&l.getAttribute("href")){let f=s.location.href,h=f.indexOf("#");c=h===-1?f:f.slice(0,h)}return c+"#"+(typeof a=="string"?a:Gl(a))}function r(s,a){$n(s.pathname.charAt(0)==="/",`relative pathnames are not supported in hash history.push(${JSON.stringify(a)})`)}return HI(e,t,r,n)}function ht(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}function $n(n,e){if(!n){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function BI(){return Math.random().toString(36).substring(2,10)}function bw(n,e){return{usr:n.state,key:n.key,idx:e}}function _p(n,e,t=null,r){return{pathname:typeof n=="string"?n:n.pathname,search:"",hash:"",...typeof e=="string"?Xs(e):e,state:t,key:e&&e.key||r||BI()}}function Gl({pathname:n="/",search:e="",hash:t=""}){return e&&e!=="?"&&(n+=e.charAt(0)==="?"?e:"?"+e),t&&t!=="#"&&(n+=t.charAt(0)==="#"?t:"#"+t),n}function Xs(n){let e={};if(n){let t=n.indexOf("#");t>=0&&(e.hash=n.substring(t),n=n.substring(0,t));let r=n.indexOf("?");r>=0&&(e.search=n.substring(r),n=n.substring(0,r)),n&&(e.pathname=n)}return e}function HI(n,e,t,r={}){let{window:s=document.defaultView,v5Compat:a=!1}=r,l=s.history,c="POP",f=null,h=m();h==null&&(h=0,l.replaceState({...l.state,idx:h},""));function m(){return(l.state||{idx:null}).idx}function v(){c="POP";let b=m(),R=b==null?null:b-h;h=b,f&&f({action:c,location:I.location,delta:R})}function w(b,R){c="PUSH";let D=_p(I.location,b,R);t&&t(D,b),h=m()+1;let j=bw(D,h),z=I.createHref(D);try{l.pushState(j,"",z)}catch(q){if(q instanceof DOMException&&q.name==="DataCloneError")throw q;s.location.assign(z)}a&&f&&f({action:c,location:I.location,delta:1})}function T(b,R){c="REPLACE";let D=_p(I.location,b,R);t&&t(D,b),h=m();let j=bw(D,h),z=I.createHref(D);l.replaceState(j,"",z),a&&f&&f({action:c,location:I.location,delta:0})}function C(b){return WI(b)}let I={get action(){return c},get location(){return n(s,l)},listen(b){if(f)throw new Error("A history only accepts one active listener");return s.addEventListener(Iw,v),f=b,()=>{s.removeEventListener(Iw,v),f=null}},createHref(b){return e(s,b)},createURL:C,encodeLocation(b){let R=C(b);return{pathname:R.pathname,search:R.search,hash:R.hash}},push:w,replace:T,go(b){return l.go(b)}};return I}function WI(n,e=!1){let t="http://localhost";typeof window<"u"&&(t=window.location.origin!=="null"?window.location.origin:window.location.href),ht(t,"No window.location.(origin|href) available to create URL");let r=typeof n=="string"?n:Gl(n);return r=r.replace(/ $/,"%20"),!e&&r.startsWith("//")&&(r=t+r),new URL(r,t)}function K_(n,e,t="/"){return KI(n,e,t,!1)}function KI(n,e,t,r){let s=typeof e=="string"?Xs(e):e,a=ai(s.pathname||"/",t);if(a==null)return null;let l=q_(n);qI(l);let c=null;for(let f=0;c==null&&f<l.length;++f){let h=ib(a);c=nb(l[f],h,r)}return c}function q_(n,e=[],t=[],r=""){let s=(a,l,c)=>{let f={relativePath:c===void 0?a.path||"":c,caseSensitive:a.caseSensitive===!0,childrenIndex:l,route:a};f.relativePath.startsWith("/")&&(ht(f.relativePath.startsWith(r),`Absolute route path "${f.relativePath}" nested under path "${r}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),f.relativePath=f.relativePath.slice(r.length));let h=oi([r,f.relativePath]),m=t.concat(f);a.children&&a.children.length>0&&(ht(a.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${h}".`),q_(a.children,e,m,h)),!(a.path==null&&!a.index)&&e.push({path:h,score:eb(h,a.index),routesMeta:m})};return n.forEach((a,l)=>{var c;if(a.path===""||!((c=a.path)!=null&&c.includes("?")))s(a,l);else for(let f of G_(a.path))s(a,l,f)}),e}function G_(n){let e=n.split("/");if(e.length===0)return[];let[t,...r]=e,s=t.endsWith("?"),a=t.replace(/\?$/,"");if(r.length===0)return s?[a,""]:[a];let l=G_(r.join("/")),c=[];return c.push(...l.map(f=>f===""?a:[a,f].join("/"))),s&&c.push(...l),c.map(f=>n.startsWith("/")&&f===""?"/":f)}function qI(n){n.sort((e,t)=>e.score!==t.score?t.score-e.score:tb(e.routesMeta.map(r=>r.childrenIndex),t.routesMeta.map(r=>r.childrenIndex)))}var GI=/^:[\w-]+$/,QI=3,YI=2,XI=1,JI=10,ZI=-2,Rw=n=>n==="*";function eb(n,e){let t=n.split("/"),r=t.length;return t.some(Rw)&&(r+=ZI),e&&(r+=YI),t.filter(s=>!Rw(s)).reduce((s,a)=>s+(GI.test(a)?QI:a===""?XI:JI),r)}function tb(n,e){return n.length===e.length&&n.slice(0,-1).every((r,s)=>r===e[s])?n[n.length-1]-e[e.length-1]:0}function nb(n,e,t=!1){let{routesMeta:r}=n,s={},a="/",l=[];for(let c=0;c<r.length;++c){let f=r[c],h=c===r.length-1,m=a==="/"?e:e.slice(a.length)||"/",v=ud({path:f.relativePath,caseSensitive:f.caseSensitive,end:h},m),w=f.route;if(!v&&h&&t&&!r[r.length-1].route.index&&(v=ud({path:f.relativePath,caseSensitive:f.caseSensitive,end:!1},m)),!v)return null;Object.assign(s,v.params),l.push({params:s,pathname:oi([a,v.pathname]),pathnameBase:lb(oi([a,v.pathnameBase])),route:w}),v.pathnameBase!=="/"&&(a=oi([a,v.pathnameBase]))}return l}function ud(n,e){typeof n=="string"&&(n={path:n,caseSensitive:!1,end:!0});let[t,r]=rb(n.path,n.caseSensitive,n.end),s=e.match(t);if(!s)return null;let a=s[0],l=a.replace(/(.)\/+$/,"$1"),c=s.slice(1);return{params:r.reduce((h,{paramName:m,isOptional:v},w)=>{if(m==="*"){let C=c[w]||"";l=a.slice(0,a.length-C.length).replace(/(.)\/+$/,"$1")}const T=c[w];return v&&!T?h[m]=void 0:h[m]=(T||"").replace(/%2F/g,"/"),h},{}),pathname:a,pathnameBase:l,pattern:n}}function rb(n,e=!1,t=!0){$n(n==="*"||!n.endsWith("*")||n.endsWith("/*"),`Route path "${n}" will be treated as if it were "${n.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${n.replace(/\*$/,"/*")}".`);let r=[],s="^"+n.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(l,c,f)=>(r.push({paramName:c,isOptional:f!=null}),f?"/?([^\\/]+)?":"/([^\\/]+)"));return n.endsWith("*")?(r.push({paramName:"*"}),s+=n==="*"||n==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):t?s+="\\/*$":n!==""&&n!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function ib(n){try{return n.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $n(!1,`The URL path "${n}" could not be decoded because it is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),n}}function ai(n,e){if(e==="/")return n;if(!n.toLowerCase().startsWith(e.toLowerCase()))return null;let t=e.endsWith("/")?e.length-1:e.length,r=n.charAt(t);return r&&r!=="/"?null:n.slice(t)||"/"}function sb(n,e="/"){let{pathname:t,search:r="",hash:s=""}=typeof n=="string"?Xs(n):n;return{pathname:t?t.startsWith("/")?t:ob(t,e):e,search:ub(r),hash:cb(s)}}function ob(n,e){let t=e.replace(/\/+$/,"").split("/");return n.split("/").forEach(s=>{s===".."?t.length>1&&t.pop():s!=="."&&t.push(s)}),t.length>1?t.join("/"):"/"}function Qh(n,e,t,r){return`Cannot include a '${n}' character in a manually specified \`to.${e}\` field [${JSON.stringify(r)}].  Please separate it out to the \`to.${t}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function ab(n){return n.filter((e,t)=>t===0||e.route.path&&e.route.path.length>0)}function Om(n){let e=ab(n);return e.map((t,r)=>r===e.length-1?t.pathname:t.pathnameBase)}function Lm(n,e,t,r=!1){let s;typeof n=="string"?s=Xs(n):(s={...n},ht(!s.pathname||!s.pathname.includes("?"),Qh("?","pathname","search",s)),ht(!s.pathname||!s.pathname.includes("#"),Qh("#","pathname","hash",s)),ht(!s.search||!s.search.includes("#"),Qh("#","search","hash",s)));let a=n===""||s.pathname==="",l=a?"/":s.pathname,c;if(l==null)c=t;else{let v=e.length-1;if(!r&&l.startsWith("..")){let w=l.split("/");for(;w[0]==="..";)w.shift(),v-=1;s.pathname=w.join("/")}c=v>=0?e[v]:"/"}let f=sb(s,c),h=l&&l!=="/"&&l.endsWith("/"),m=(a||l===".")&&t.endsWith("/");return!f.pathname.endsWith("/")&&(h||m)&&(f.pathname+="/"),f}var oi=n=>n.join("/").replace(/\/\/+/g,"/"),lb=n=>n.replace(/\/+$/,"").replace(/^\/*/,"/"),ub=n=>!n||n==="?"?"":n.startsWith("?")?n:"?"+n,cb=n=>!n||n==="#"?"":n.startsWith("#")?n:"#"+n;function db(n){return n!=null&&typeof n.status=="number"&&typeof n.statusText=="string"&&typeof n.internal=="boolean"&&"data"in n}var Q_=["POST","PUT","PATCH","DELETE"];new Set(Q_);var fb=["GET",...Q_];new Set(fb);var ya=E.createContext(null);ya.displayName="DataRouter";var Fd=E.createContext(null);Fd.displayName="DataRouterState";var Y_=E.createContext({isTransitioning:!1});Y_.displayName="ViewTransition";var hb=E.createContext(new Map);hb.displayName="Fetchers";var pb=E.createContext(null);pb.displayName="Await";var hr=E.createContext(null);hr.displayName="Navigation";var uu=E.createContext(null);uu.displayName="Location";var pr=E.createContext({outlet:null,matches:[],isDataRoute:!1});pr.displayName="Route";var jm=E.createContext(null);jm.displayName="RouteError";function mb(n,{relative:e}={}){ht(va(),"useHref() may be used only in the context of a <Router> component.");let{basename:t,navigator:r}=E.useContext(hr),{hash:s,pathname:a,search:l}=du(n,{relative:e}),c=a;return t!=="/"&&(c=a==="/"?t:oi([t,a])),r.createHref({pathname:c,search:l,hash:s})}function va(){return E.useContext(uu)!=null}function ss(){return ht(va(),"useLocation() may be used only in the context of a <Router> component."),E.useContext(uu).location}var X_="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function J_(n){E.useContext(hr).static||E.useLayoutEffect(n)}function cu(){let{isDataRoute:n}=E.useContext(pr);return n?Rb():gb()}function gb(){ht(va(),"useNavigate() may be used only in the context of a <Router> component.");let n=E.useContext(ya),{basename:e,navigator:t}=E.useContext(hr),{matches:r}=E.useContext(pr),{pathname:s}=ss(),a=JSON.stringify(Om(r)),l=E.useRef(!1);return J_(()=>{l.current=!0}),E.useCallback((f,h={})=>{if($n(l.current,X_),!l.current)return;if(typeof f=="number"){t.go(f);return}let m=Lm(f,JSON.parse(a),s,h.relative==="path");n==null&&e!=="/"&&(m.pathname=m.pathname==="/"?e:oi([e,m.pathname])),(h.replace?t.replace:t.push)(m,h.state,h)},[e,t,a,s,n])}E.createContext(null);function Vm(){let{matches:n}=E.useContext(pr),e=n[n.length-1];return e?e.params:{}}function du(n,{relative:e}={}){let{matches:t}=E.useContext(pr),{pathname:r}=ss(),s=JSON.stringify(Om(t));return E.useMemo(()=>Lm(n,JSON.parse(s),r,e==="path"),[n,s,r,e])}function yb(n,e){return Z_(n,e)}function Z_(n,e,t,r){var R;ht(va(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=E.useContext(hr),{matches:a}=E.useContext(pr),l=a[a.length-1],c=l?l.params:{},f=l?l.pathname:"/",h=l?l.pathnameBase:"/",m=l&&l.route;{let D=m&&m.path||"";ex(f,!m||D.endsWith("*")||D.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${f}" (under <Route path="${D}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${D}"> to <Route path="${D==="/"?"*":`${D}/*`}">.`)}let v=ss(),w;if(e){let D=typeof e=="string"?Xs(e):e;ht(h==="/"||((R=D.pathname)==null?void 0:R.startsWith(h)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${h}" but pathname "${D.pathname}" was given in the \`location\` prop.`),w=D}else w=v;let T=w.pathname||"/",C=T;if(h!=="/"){let D=h.replace(/^\//,"").split("/");C="/"+T.replace(/^\//,"").split("/").slice(D.length).join("/")}let I=K_(n,{pathname:C});$n(m||I!=null,`No routes matched location "${w.pathname}${w.search}${w.hash}" `),$n(I==null||I[I.length-1].route.element!==void 0||I[I.length-1].route.Component!==void 0||I[I.length-1].route.lazy!==void 0,`Matched leaf route at location "${w.pathname}${w.search}${w.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let b=Eb(I&&I.map(D=>Object.assign({},D,{params:Object.assign({},c,D.params),pathname:oi([h,s.encodeLocation?s.encodeLocation(D.pathname).pathname:D.pathname]),pathnameBase:D.pathnameBase==="/"?h:oi([h,s.encodeLocation?s.encodeLocation(D.pathnameBase).pathname:D.pathnameBase])})),a,t,r);return e&&b?E.createElement(uu.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...w},navigationType:"POP"}},b):b}function vb(){let n=bb(),e=db(n)?`${n.status} ${n.statusText}`:n instanceof Error?n.message:JSON.stringify(n),t=n instanceof Error?n.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},l=null;return console.error("Error handled by React Router default ErrorBoundary:",n),l=E.createElement(E.Fragment,null,E.createElement("p",null,"💿 Hey developer 👋"),E.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",E.createElement("code",{style:a},"ErrorBoundary")," or"," ",E.createElement("code",{style:a},"errorElement")," prop on your route.")),E.createElement(E.Fragment,null,E.createElement("h2",null,"Unexpected Application Error!"),E.createElement("h3",{style:{fontStyle:"italic"}},e),t?E.createElement("pre",{style:s},t):null,l)}var wb=E.createElement(vb,null),_b=class extends E.Component{constructor(n){super(n),this.state={location:n.location,revalidation:n.revalidation,error:n.error}}static getDerivedStateFromError(n){return{error:n}}static getDerivedStateFromProps(n,e){return e.location!==n.location||e.revalidation!=="idle"&&n.revalidation==="idle"?{error:n.error,location:n.location,revalidation:n.revalidation}:{error:n.error!==void 0?n.error:e.error,location:e.location,revalidation:n.revalidation||e.revalidation}}componentDidCatch(n,e){console.error("React Router caught the following error during render",n,e)}render(){return this.state.error!==void 0?E.createElement(pr.Provider,{value:this.props.routeContext},E.createElement(jm.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function xb({routeContext:n,match:e,children:t}){let r=E.useContext(ya);return r&&r.static&&r.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(r.staticContext._deepestRenderedBoundaryId=e.route.id),E.createElement(pr.Provider,{value:n},t)}function Eb(n,e=[],t=null,r=null){if(n==null){if(!t)return null;if(t.errors)n=t.matches;else if(e.length===0&&!t.initialized&&t.matches.length>0)n=t.matches;else return null}let s=n,a=t==null?void 0:t.errors;if(a!=null){let f=s.findIndex(h=>h.route.id&&(a==null?void 0:a[h.route.id])!==void 0);ht(f>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(a).join(",")}`),s=s.slice(0,Math.min(s.length,f+1))}let l=!1,c=-1;if(t)for(let f=0;f<s.length;f++){let h=s[f];if((h.route.HydrateFallback||h.route.hydrateFallbackElement)&&(c=f),h.route.id){let{loaderData:m,errors:v}=t,w=h.route.loader&&!m.hasOwnProperty(h.route.id)&&(!v||v[h.route.id]===void 0);if(h.route.lazy||w){l=!0,c>=0?s=s.slice(0,c+1):s=[s[0]];break}}}return s.reduceRight((f,h,m)=>{let v,w=!1,T=null,C=null;t&&(v=a&&h.route.id?a[h.route.id]:void 0,T=h.route.errorElement||wb,l&&(c<0&&m===0?(ex("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),w=!0,C=null):c===m&&(w=!0,C=h.route.hydrateFallbackElement||null)));let I=e.concat(s.slice(0,m+1)),b=()=>{let R;return v?R=T:w?R=C:h.route.Component?R=E.createElement(h.route.Component,null):h.route.element?R=h.route.element:R=f,E.createElement(xb,{match:h,routeContext:{outlet:f,matches:I,isDataRoute:t!=null},children:R})};return t&&(h.route.ErrorBoundary||h.route.errorElement||m===0)?E.createElement(_b,{location:t.location,revalidation:t.revalidation,component:T,error:v,children:b(),routeContext:{outlet:null,matches:I,isDataRoute:!0}}):b()},null)}function Fm(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function Cb(n){let e=E.useContext(ya);return ht(e,Fm(n)),e}function Sb(n){let e=E.useContext(Fd);return ht(e,Fm(n)),e}function Tb(n){let e=E.useContext(pr);return ht(e,Fm(n)),e}function $m(n){let e=Tb(n),t=e.matches[e.matches.length-1];return ht(t.route.id,`${n} can only be used on routes that contain a unique "id"`),t.route.id}function Ib(){return $m("useRouteId")}function bb(){var r;let n=E.useContext(jm),e=Sb("useRouteError"),t=$m("useRouteError");return n!==void 0?n:(r=e.errors)==null?void 0:r[t]}function Rb(){let{router:n}=Cb("useNavigate"),e=$m("useNavigate"),t=E.useRef(!1);return J_(()=>{t.current=!0}),E.useCallback(async(s,a={})=>{$n(t.current,X_),t.current&&(typeof s=="number"?n.navigate(s):await n.navigate(s,{fromRouteId:e,...a}))},[n,e])}var Aw={};function ex(n,e,t){!e&&!Aw[n]&&(Aw[n]=!0,$n(!1,t))}E.memo(Ab);function Ab({routes:n,future:e,state:t}){return Z_(n,void 0,t,e)}function Nb({to:n,replace:e,state:t,relative:r}){ht(va(),"<Navigate> may be used only in the context of a <Router> component.");let{static:s}=E.useContext(hr);$n(!s,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:a}=E.useContext(pr),{pathname:l}=ss(),c=cu(),f=Lm(n,Om(a),l,r==="path"),h=JSON.stringify(f);return E.useEffect(()=>{c(JSON.parse(h),{replace:e,state:t,relative:r})},[c,h,r,e,t]),null}function br(n){ht(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Pb({basename:n="/",children:e=null,location:t,navigationType:r="POP",navigator:s,static:a=!1}){ht(!va(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=n.replace(/^\/*/,"/"),c=E.useMemo(()=>({basename:l,navigator:s,static:a,future:{}}),[l,s,a]);typeof t=="string"&&(t=Xs(t));let{pathname:f="/",search:h="",hash:m="",state:v=null,key:w="default"}=t,T=E.useMemo(()=>{let C=ai(f,l);return C==null?null:{location:{pathname:C,search:h,hash:m,state:v,key:w},navigationType:r}},[l,f,h,m,v,w,r]);return $n(T!=null,`<Router basename="${l}"> is not able to match the URL "${f}${h}${m}" because it does not start with the basename, so the <Router> won't render anything.`),T==null?null:E.createElement(hr.Provider,{value:c},E.createElement(uu.Provider,{children:e,value:T}))}function kb({children:n,location:e}){return yb(xp(n),e)}function xp(n,e=[]){let t=[];return E.Children.forEach(n,(r,s)=>{if(!E.isValidElement(r))return;let a=[...e,s];if(r.type===E.Fragment){t.push.apply(t,xp(r.props.children,a));return}ht(r.type===br,`[${typeof r.type=="string"?r.type:r.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),ht(!r.props.index||!r.props.children,"An index route cannot have child routes.");let l={id:r.props.id||a.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,hydrateFallbackElement:r.props.hydrateFallbackElement,HydrateFallback:r.props.HydrateFallback,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.hasErrorBoundary===!0||r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(l.children=xp(r.props.children,a)),t.push(l)}),t}var Yc="get",Xc="application/x-www-form-urlencoded";function $d(n){return n!=null&&typeof n.tagName=="string"}function Db(n){return $d(n)&&n.tagName.toLowerCase()==="button"}function Mb(n){return $d(n)&&n.tagName.toLowerCase()==="form"}function Ob(n){return $d(n)&&n.tagName.toLowerCase()==="input"}function Lb(n){return!!(n.metaKey||n.altKey||n.ctrlKey||n.shiftKey)}function jb(n,e){return n.button===0&&(!e||e==="_self")&&!Lb(n)}var Oc=null;function Vb(){if(Oc===null)try{new FormData(document.createElement("form"),0),Oc=!1}catch{Oc=!0}return Oc}var Fb=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Yh(n){return n!=null&&!Fb.has(n)?($n(!1,`"${n}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Xc}"`),null):n}function $b(n,e){let t,r,s,a,l;if(Mb(n)){let c=n.getAttribute("action");r=c?ai(c,e):null,t=n.getAttribute("method")||Yc,s=Yh(n.getAttribute("enctype"))||Xc,a=new FormData(n)}else if(Db(n)||Ob(n)&&(n.type==="submit"||n.type==="image")){let c=n.form;if(c==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let f=n.getAttribute("formaction")||c.getAttribute("action");if(r=f?ai(f,e):null,t=n.getAttribute("formmethod")||c.getAttribute("method")||Yc,s=Yh(n.getAttribute("formenctype"))||Yh(c.getAttribute("enctype"))||Xc,a=new FormData(c,n),!Vb()){let{name:h,type:m,value:v}=n;if(m==="image"){let w=h?`${h}.`:"";a.append(`${w}x`,"0"),a.append(`${w}y`,"0")}else h&&a.append(h,v)}}else{if($d(n))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');t=Yc,r=null,s=Xc,l=n}return a&&s==="text/plain"&&(l=a,a=void 0),{action:r,method:t.toLowerCase(),encType:s,formData:a,body:l}}function zm(n,e){if(n===!1||n===null||typeof n>"u")throw new Error(e)}async function zb(n,e){if(n.id in e)return e[n.id];try{let t=await import(n.module);return e[n.id]=t,t}catch(t){return console.error(`Error loading route module \`${n.module}\`, reloading page...`),console.error(t),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function Ub(n){return n==null?!1:n.href==null?n.rel==="preload"&&typeof n.imageSrcSet=="string"&&typeof n.imageSizes=="string":typeof n.rel=="string"&&typeof n.href=="string"}async function Bb(n,e,t){let r=await Promise.all(n.map(async s=>{let a=e.routes[s.route.id];if(a){let l=await zb(a,t);return l.links?l.links():[]}return[]}));return qb(r.flat(1).filter(Ub).filter(s=>s.rel==="stylesheet"||s.rel==="preload").map(s=>s.rel==="stylesheet"?{...s,rel:"prefetch",as:"style"}:{...s,rel:"prefetch"}))}function Nw(n,e,t,r,s,a){let l=(f,h)=>t[h]?f.route.id!==t[h].route.id:!0,c=(f,h)=>{var m;return t[h].pathname!==f.pathname||((m=t[h].route.path)==null?void 0:m.endsWith("*"))&&t[h].params["*"]!==f.params["*"]};return a==="assets"?e.filter((f,h)=>l(f,h)||c(f,h)):a==="data"?e.filter((f,h)=>{var v;let m=r.routes[f.route.id];if(!m||!m.hasLoader)return!1;if(l(f,h)||c(f,h))return!0;if(f.route.shouldRevalidate){let w=f.route.shouldRevalidate({currentUrl:new URL(s.pathname+s.search+s.hash,window.origin),currentParams:((v=t[0])==null?void 0:v.params)||{},nextUrl:new URL(n,window.origin),nextParams:f.params,defaultShouldRevalidate:!0});if(typeof w=="boolean")return w}return!0}):[]}function Hb(n,e,{includeHydrateFallback:t}={}){return Wb(n.map(r=>{let s=e.routes[r.route.id];if(!s)return[];let a=[s.module];return s.clientActionModule&&(a=a.concat(s.clientActionModule)),s.clientLoaderModule&&(a=a.concat(s.clientLoaderModule)),t&&s.hydrateFallbackModule&&(a=a.concat(s.hydrateFallbackModule)),s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function Wb(n){return[...new Set(n)]}function Kb(n){let e={},t=Object.keys(n).sort();for(let r of t)e[r]=n[r];return e}function qb(n,e){let t=new Set;return new Set(e),n.reduce((r,s)=>{let a=JSON.stringify(Kb(s));return t.has(a)||(t.add(a),r.push({key:a,link:s})),r},[])}Object.getOwnPropertyNames(Object.prototype).sort().join("\0");var Gb=new Set([100,101,204,205]);function Qb(n,e){let t=typeof n=="string"?new URL(n,typeof window>"u"?"server://singlefetch/":window.location.origin):n;return t.pathname==="/"?t.pathname="_root.data":e&&ai(t.pathname,e)==="/"?t.pathname=`${e.replace(/\/$/,"")}/_root.data`:t.pathname=`${t.pathname.replace(/\/$/,"")}.data`,t}function tx(){let n=E.useContext(ya);return zm(n,"You must render this element inside a <DataRouterContext.Provider> element"),n}function Yb(){let n=E.useContext(Fd);return zm(n,"You must render this element inside a <DataRouterStateContext.Provider> element"),n}var Um=E.createContext(void 0);Um.displayName="FrameworkContext";function nx(){let n=E.useContext(Um);return zm(n,"You must render this element inside a <HydratedRouter> element"),n}function Xb(n,e){let t=E.useContext(Um),[r,s]=E.useState(!1),[a,l]=E.useState(!1),{onFocus:c,onBlur:f,onMouseEnter:h,onMouseLeave:m,onTouchStart:v}=e,w=E.useRef(null);E.useEffect(()=>{if(n==="render"&&l(!0),n==="viewport"){let I=R=>{R.forEach(D=>{l(D.isIntersecting)})},b=new IntersectionObserver(I,{threshold:.5});return w.current&&b.observe(w.current),()=>{b.disconnect()}}},[n]),E.useEffect(()=>{if(r){let I=setTimeout(()=>{l(!0)},100);return()=>{clearTimeout(I)}}},[r]);let T=()=>{s(!0)},C=()=>{s(!1),l(!1)};return t?n!=="intent"?[a,w,{}]:[a,w,{onFocus:Tl(c,T),onBlur:Tl(f,C),onMouseEnter:Tl(h,T),onMouseLeave:Tl(m,C),onTouchStart:Tl(v,T)}]:[!1,w,{}]}function Tl(n,e){return t=>{n&&n(t),t.defaultPrevented||e(t)}}function Jb({page:n,...e}){let{router:t}=tx(),r=E.useMemo(()=>K_(t.routes,n,t.basename),[t.routes,n,t.basename]);return r?E.createElement(eR,{page:n,matches:r,...e}):null}function Zb(n){let{manifest:e,routeModules:t}=nx(),[r,s]=E.useState([]);return E.useEffect(()=>{let a=!1;return Bb(n,e,t).then(l=>{a||s(l)}),()=>{a=!0}},[n,e,t]),r}function eR({page:n,matches:e,...t}){let r=ss(),{manifest:s,routeModules:a}=nx(),{basename:l}=tx(),{loaderData:c,matches:f}=Yb(),h=E.useMemo(()=>Nw(n,e,f,s,r,"data"),[n,e,f,s,r]),m=E.useMemo(()=>Nw(n,e,f,s,r,"assets"),[n,e,f,s,r]),v=E.useMemo(()=>{if(n===r.pathname+r.search+r.hash)return[];let C=new Set,I=!1;if(e.forEach(R=>{var j;let D=s.routes[R.route.id];!D||!D.hasLoader||(!h.some(z=>z.route.id===R.route.id)&&R.route.id in c&&((j=a[R.route.id])!=null&&j.shouldRevalidate)||D.hasClientLoader?I=!0:C.add(R.route.id))}),C.size===0)return[];let b=Qb(n,l);return I&&C.size>0&&b.searchParams.set("_routes",e.filter(R=>C.has(R.route.id)).map(R=>R.route.id).join(",")),[b.pathname+b.search]},[l,c,r,s,h,e,n,a]),w=E.useMemo(()=>Hb(m,s),[m,s]),T=Zb(m);return E.createElement(E.Fragment,null,v.map(C=>E.createElement("link",{key:C,rel:"prefetch",as:"fetch",href:C,...t})),w.map(C=>E.createElement("link",{key:C,rel:"modulepreload",href:C,...t})),T.map(({key:C,link:I})=>E.createElement("link",{key:C,...I})))}function tR(...n){return e=>{n.forEach(t=>{typeof t=="function"?t(e):t!=null&&(t.current=e)})}}var rx=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{rx&&(window.__reactRouterVersion="7.6.2")}catch{}function nR({basename:n,children:e,window:t}){let r=E.useRef();r.current==null&&(r.current=UI({window:t,v5Compat:!0}));let s=r.current,[a,l]=E.useState({action:s.action,location:s.location}),c=E.useCallback(f=>{E.startTransition(()=>l(f))},[l]);return E.useLayoutEffect(()=>s.listen(c),[s,c]),E.createElement(Pb,{basename:n,children:e,location:a.location,navigationType:a.action,navigator:s})}var ix=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,$l=E.forwardRef(function({onClick:e,discover:t="render",prefetch:r="none",relative:s,reloadDocument:a,replace:l,state:c,target:f,to:h,preventScrollReset:m,viewTransition:v,...w},T){let{basename:C}=E.useContext(hr),I=typeof h=="string"&&ix.test(h),b,R=!1;if(typeof h=="string"&&I&&(b=h,rx))try{let M=new URL(window.location.href),V=h.startsWith("//")?new URL(M.protocol+h):new URL(h),F=ai(V.pathname,C);V.origin===M.origin&&F!=null?h=F+V.search+V.hash:R=!0}catch{$n(!1,`<Link to="${h}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let D=mb(h,{relative:s}),[j,z,q]=Xb(r,w),Z=oR(h,{replace:l,state:c,target:f,preventScrollReset:m,relative:s,viewTransition:v});function L(M){e&&e(M),M.defaultPrevented||Z(M)}let N=E.createElement("a",{...w,...q,href:b||D,onClick:R||a?e:L,ref:tR(T,z),target:f,"data-discover":!I&&t==="render"?"true":void 0});return j&&!I?E.createElement(E.Fragment,null,N,E.createElement(Jb,{page:D})):N});$l.displayName="Link";var rR=E.forwardRef(function({"aria-current":e="page",caseSensitive:t=!1,className:r="",end:s=!1,style:a,to:l,viewTransition:c,children:f,...h},m){let v=du(l,{relative:h.relative}),w=ss(),T=E.useContext(Fd),{navigator:C,basename:I}=E.useContext(hr),b=T!=null&&dR(v)&&c===!0,R=C.encodeLocation?C.encodeLocation(v).pathname:v.pathname,D=w.pathname,j=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;t||(D=D.toLowerCase(),j=j?j.toLowerCase():null,R=R.toLowerCase()),j&&I&&(j=ai(j,I)||j);const z=R!=="/"&&R.endsWith("/")?R.length-1:R.length;let q=D===R||!s&&D.startsWith(R)&&D.charAt(z)==="/",Z=j!=null&&(j===R||!s&&j.startsWith(R)&&j.charAt(R.length)==="/"),L={isActive:q,isPending:Z,isTransitioning:b},N=q?e:void 0,M;typeof r=="function"?M=r(L):M=[r,q?"active":null,Z?"pending":null,b?"transitioning":null].filter(Boolean).join(" ");let V=typeof a=="function"?a(L):a;return E.createElement($l,{...h,"aria-current":N,className:M,ref:m,style:V,to:l,viewTransition:c},typeof f=="function"?f(L):f)});rR.displayName="NavLink";var iR=E.forwardRef(({discover:n="render",fetcherKey:e,navigate:t,reloadDocument:r,replace:s,state:a,method:l=Yc,action:c,onSubmit:f,relative:h,preventScrollReset:m,viewTransition:v,...w},T)=>{let C=uR(),I=cR(c,{relative:h}),b=l.toLowerCase()==="get"?"get":"post",R=typeof c=="string"&&ix.test(c),D=j=>{if(f&&f(j),j.defaultPrevented)return;j.preventDefault();let z=j.nativeEvent.submitter,q=(z==null?void 0:z.getAttribute("formmethod"))||l;C(z||j.currentTarget,{fetcherKey:e,method:q,navigate:t,replace:s,state:a,relative:h,preventScrollReset:m,viewTransition:v})};return E.createElement("form",{ref:T,method:b,action:I,onSubmit:r?f:D,...w,"data-discover":!R&&n==="render"?"true":void 0})});iR.displayName="Form";function sR(n){return`${n} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function sx(n){let e=E.useContext(ya);return ht(e,sR(n)),e}function oR(n,{target:e,replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:l}={}){let c=cu(),f=ss(),h=du(n,{relative:a});return E.useCallback(m=>{if(jb(m,e)){m.preventDefault();let v=t!==void 0?t:Gl(f)===Gl(h);c(n,{replace:v,state:r,preventScrollReset:s,relative:a,viewTransition:l})}},[f,c,h,t,r,e,n,s,a,l])}var aR=0,lR=()=>`__${String(++aR)}__`;function uR(){let{router:n}=sx("useSubmit"),{basename:e}=E.useContext(hr),t=Ib();return E.useCallback(async(r,s={})=>{let{action:a,method:l,encType:c,formData:f,body:h}=$b(r,e);if(s.navigate===!1){let m=s.fetcherKey||lR();await n.fetch(m,t,s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||l,formEncType:s.encType||c,flushSync:s.flushSync})}else await n.navigate(s.action||a,{preventScrollReset:s.preventScrollReset,formData:f,body:h,formMethod:s.method||l,formEncType:s.encType||c,replace:s.replace,state:s.state,fromRouteId:t,flushSync:s.flushSync,viewTransition:s.viewTransition})},[n,e,t])}function cR(n,{relative:e}={}){let{basename:t}=E.useContext(hr),r=E.useContext(pr);ht(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a={...du(n||".",{relative:e})},l=ss();if(n==null){a.search=l.search;let c=new URLSearchParams(a.search),f=c.getAll("index");if(f.some(m=>m==="")){c.delete("index"),f.filter(v=>v).forEach(v=>c.append("index",v));let m=c.toString();a.search=m?`?${m}`:""}}return(!n||n===".")&&s.route.index&&(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index"),t!=="/"&&(a.pathname=a.pathname==="/"?t:oi([t,a.pathname])),Gl(a)}function dR(n,e={}){let t=E.useContext(Y_);ht(t!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=sx("useViewTransitionState"),s=du(n,{relative:e.relative});if(!t.isTransitioning)return!1;let a=ai(t.currentLocation.pathname,r)||t.currentLocation.pathname,l=ai(t.nextLocation.pathname,r)||t.nextLocation.pathname;return ud(s.pathname,l)!=null||ud(s.pathname,a)!=null}[...Gb];var wa=W_();const fR=B_(wa),ox=E.createContext(void 0),hR=({children:n})=>{const[e,t]=E.useState([]),[r,s]=E.useState(null),a=v=>{t(w=>w.find(C=>C.id===v.id)?w.map(C=>C.id===v.id?{...C,quantity:C.quantity+1}:C):[...w,{...v,quantity:1}])},l=v=>{t(w=>w.filter(T=>parseInt(T.id)!==v))},c=(v,w)=>{if(w<=0){l(v);return}t(T=>T.map(C=>parseInt(C.id)===v?{...C,quantity:w}:C))},f=()=>{t([])},h=()=>e.reduce((v,w)=>v+w.price*w.quantity,0),m=()=>e.reduce((v,w)=>v+w.quantity,0);return y.jsx(ox.Provider,{value:{items:e,tableId:r,addToCart:a,removeFromCart:l,updateQuantity:c,clearCart:f,setTableId:s,getTotalPrice:h,getTotalItems:m},children:n})},Bm=()=>{const n=E.useContext(ox);if(n===void 0)throw new Error("useCart must be used within a CartProvider");return n},pR=()=>{};var Pw={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ax=function(n){const e=[];let t=0;for(let r=0;r<n.length;r++){let s=n.charCodeAt(r);s<128?e[t++]=s:s<2048?(e[t++]=s>>6|192,e[t++]=s&63|128):(s&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=s>>18|240,e[t++]=s>>12&63|128,e[t++]=s>>6&63|128,e[t++]=s&63|128):(e[t++]=s>>12|224,e[t++]=s>>6&63|128,e[t++]=s&63|128)}return e},mR=function(n){const e=[];let t=0,r=0;for(;t<n.length;){const s=n[t++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const a=n[t++];e[r++]=String.fromCharCode((s&31)<<6|a&63)}else if(s>239&&s<365){const a=n[t++],l=n[t++],c=n[t++],f=((s&7)<<18|(a&63)<<12|(l&63)<<6|c&63)-65536;e[r++]=String.fromCharCode(55296+(f>>10)),e[r++]=String.fromCharCode(56320+(f&1023))}else{const a=n[t++],l=n[t++];e[r++]=String.fromCharCode((s&15)<<12|(a&63)<<6|l&63)}}return e.join("")},lx={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();const t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<n.length;s+=3){const a=n[s],l=s+1<n.length,c=l?n[s+1]:0,f=s+2<n.length,h=f?n[s+2]:0,m=a>>2,v=(a&3)<<4|c>>4;let w=(c&15)<<2|h>>6,T=h&63;f||(T=64,l||(w=64)),r.push(t[m],t[v],t[w],t[T])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(ax(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):mR(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();const t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<n.length;){const a=t[n.charAt(s++)],c=s<n.length?t[n.charAt(s)]:0;++s;const h=s<n.length?t[n.charAt(s)]:64;++s;const v=s<n.length?t[n.charAt(s)]:64;if(++s,a==null||c==null||h==null||v==null)throw new gR;const w=a<<2|c>>4;if(r.push(w),h!==64){const T=c<<4&240|h>>2;if(r.push(T),v!==64){const C=h<<6&192|v;r.push(C)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}};class gR extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const yR=function(n){const e=ax(n);return lx.encodeByteArray(e,!0)},cd=function(n){return yR(n).replace(/\./g,"")},vR=function(n){try{return lx.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wR(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _R=()=>wR().__FIREBASE_DEFAULTS__,xR=()=>{if(typeof process>"u"||typeof Pw>"u")return;const n=Pw.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},ER=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=n&&vR(n[1]);return e&&JSON.parse(e)},Hm=()=>{try{return pR()||_R()||xR()||ER()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},CR=n=>{var e,t;return(t=(e=Hm())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},SR=n=>{const e=CR(n);if(!e)return;const t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},ux=()=>{var n;return(n=Hm())===null||n===void 0?void 0:n.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TR{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Wm(n){return n.endsWith(".cloudworkstations.dev")}async function IR(n){return(await fetch(n,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bR(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const t={alg:"none",type:"JWT"},r=e||"demo-project",s=n.iat||0,a=n.sub||n.user_id;if(!a)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const l=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:a,user_id:a,firebase:{sign_in_provider:"custom",identities:{}}},n);return[cd(JSON.stringify(t)),cd(JSON.stringify(l)),""].join(".")}const zl={};function RR(){const n={prod:[],emulator:[]};for(const e of Object.keys(zl))zl[e]?n.emulator.push(e):n.prod.push(e);return n}function AR(n){let e=document.getElementById(n),t=!1;return e||(e=document.createElement("div"),e.setAttribute("id",n),t=!0),{created:t,element:e}}let kw=!1;function NR(n,e){if(typeof window>"u"||typeof document>"u"||!Wm(window.location.host)||zl[n]===e||zl[n]||kw)return;zl[n]=e;function t(w){return`__firebase__banner__${w}`}const r="__firebase__banner",a=RR().prod.length>0;function l(){const w=document.getElementById(r);w&&w.remove()}function c(w){w.style.display="flex",w.style.background="#7faaf0",w.style.position="fixed",w.style.bottom="5px",w.style.left="5px",w.style.padding=".5em",w.style.borderRadius="5px",w.style.alignItems="center"}function f(w,T){w.setAttribute("width","24"),w.setAttribute("id",T),w.setAttribute("height","24"),w.setAttribute("viewBox","0 0 24 24"),w.setAttribute("fill","none"),w.style.marginLeft="-6px"}function h(){const w=document.createElement("span");return w.style.cursor="pointer",w.style.marginLeft="16px",w.style.fontSize="24px",w.innerHTML=" &times;",w.onclick=()=>{kw=!0,l()},w}function m(w,T){w.setAttribute("id",T),w.innerText="Learn more",w.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",w.setAttribute("target","__blank"),w.style.paddingLeft="5px",w.style.textDecoration="underline"}function v(){const w=AR(r),T=t("text"),C=document.getElementById(T)||document.createElement("span"),I=t("learnmore"),b=document.getElementById(I)||document.createElement("a"),R=t("preprendIcon"),D=document.getElementById(R)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(w.created){const j=w.element;c(j),m(b,I);const z=h();f(D,R),j.append(D,C,b,z),document.body.appendChild(j)}a?(C.innerText="Preview backend disconnected.",D.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(D.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,C.innerText="Preview backend running in this workspace."),C.setAttribute("id",T)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",v):v()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function PR(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function kR(){var n;const e=(n=Hm())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function DR(){return!kR()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function MR(){try{return typeof indexedDB=="object"}catch{return!1}}function OR(){return new Promise((n,e)=>{try{let t=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},s.onupgradeneeded=()=>{t=!1},s.onerror=()=>{var a;e(((a=s.error)===null||a===void 0?void 0:a.message)||"")}}catch(t){e(t)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="FirebaseError";class _a extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=LR,Object.setPrototypeOf(this,_a.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,cx.prototype.create)}}class cx{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){const r=t[0]||{},s=`${this.service}/${e}`,a=this.errors[e],l=a?jR(a,r):"Error",c=`${this.serviceName}: ${l} (${s}).`;return new _a(s,c,r)}}function jR(n,e){return n.replace(VR,(t,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VR=/\{\$([^}]+)}/g;function dd(n,e){if(n===e)return!0;const t=Object.keys(n),r=Object.keys(e);for(const s of t){if(!r.includes(s))return!1;const a=n[s],l=e[s];if(Dw(a)&&Dw(l)){if(!dd(a,l))return!1}else if(a!==l)return!1}for(const s of r)if(!t.includes(s))return!1;return!0}function Dw(n){return n!==null&&typeof n=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jr(n){return n&&n._delegate?n._delegate:n}class Ql{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fs="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let FR=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const r=new TR;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:t});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const r=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),s=(t=e==null?void 0:e.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(a){if(s)return null;throw a}else{if(s)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(zR(e))try{this.getOrInitializeService({instanceIdentifier:Fs})}catch{}for(const[t,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(t);try{const a=this.getOrInitializeService({instanceIdentifier:s});r.resolve(a)}catch{}}}}clearInstance(e=Fs){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Fs){return this.instances.has(e)}getOptions(e=Fs){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:t});for(const[a,l]of this.instancesDeferred.entries()){const c=this.normalizeInstanceIdentifier(a);r===c&&l.resolve(s)}return s}onInit(e,t){var r;const s=this.normalizeInstanceIdentifier(t),a=(r=this.onInitCallbacks.get(s))!==null&&r!==void 0?r:new Set;a.add(e),this.onInitCallbacks.set(s,a);const l=this.instances.get(s);return l&&e(l,s),()=>{a.delete(e)}}invokeOnInitCallbacks(e,t){const r=this.onInitCallbacks.get(t);if(r)for(const s of r)try{s(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:$R(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Fs){return this.component?this.component.multipleInstances?e:Fs:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function $R(n){return n===Fs?void 0:n}function zR(n){return n.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UR{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new FR(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ye;(function(n){n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT"})(Ye||(Ye={}));const BR={debug:Ye.DEBUG,verbose:Ye.VERBOSE,info:Ye.INFO,warn:Ye.WARN,error:Ye.ERROR,silent:Ye.SILENT},HR=Ye.INFO,WR={[Ye.DEBUG]:"log",[Ye.VERBOSE]:"log",[Ye.INFO]:"info",[Ye.WARN]:"warn",[Ye.ERROR]:"error"},KR=(n,e,...t)=>{if(e<n.logLevel)return;const r=new Date().toISOString(),s=WR[e];if(s)console[s](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};let dx=class{constructor(e){this.name=e,this._logLevel=HR,this._logHandler=KR,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ye))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?BR[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ye.DEBUG,...e),this._logHandler(this,Ye.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ye.VERBOSE,...e),this._logHandler(this,Ye.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ye.INFO,...e),this._logHandler(this,Ye.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ye.WARN,...e),this._logHandler(this,Ye.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ye.ERROR,...e),this._logHandler(this,Ye.ERROR,...e)}};const qR=(n,e)=>e.some(t=>n instanceof t);let Mw,Ow;function GR(){return Mw||(Mw=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function QR(){return Ow||(Ow=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const fx=new WeakMap,Ep=new WeakMap,hx=new WeakMap,Xh=new WeakMap,Km=new WeakMap;function YR(n){const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("success",a),n.removeEventListener("error",l)},a=()=>{t(Wi(n.result)),s()},l=()=>{r(n.error),s()};n.addEventListener("success",a),n.addEventListener("error",l)});return e.then(t=>{t instanceof IDBCursor&&fx.set(t,n)}).catch(()=>{}),Km.set(e,n),e}function XR(n){if(Ep.has(n))return;const e=new Promise((t,r)=>{const s=()=>{n.removeEventListener("complete",a),n.removeEventListener("error",l),n.removeEventListener("abort",l)},a=()=>{t(),s()},l=()=>{r(n.error||new DOMException("AbortError","AbortError")),s()};n.addEventListener("complete",a),n.addEventListener("error",l),n.addEventListener("abort",l)});Ep.set(n,e)}let Cp={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return Ep.get(n);if(e==="objectStoreNames")return n.objectStoreNames||hx.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return Wi(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function JR(n){Cp=n(Cp)}function ZR(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){const r=n.call(Jh(this),e,...t);return hx.set(r,e.sort?e.sort():[e]),Wi(r)}:QR().includes(n)?function(...e){return n.apply(Jh(this),e),Wi(fx.get(this))}:function(...e){return Wi(n.apply(Jh(this),e))}}function eA(n){return typeof n=="function"?ZR(n):(n instanceof IDBTransaction&&XR(n),qR(n,GR())?new Proxy(n,Cp):n)}function Wi(n){if(n instanceof IDBRequest)return YR(n);if(Xh.has(n))return Xh.get(n);const e=eA(n);return e!==n&&(Xh.set(n,e),Km.set(e,n)),e}const Jh=n=>Km.get(n);function tA(n,e,{blocked:t,upgrade:r,blocking:s,terminated:a}={}){const l=indexedDB.open(n,e),c=Wi(l);return r&&l.addEventListener("upgradeneeded",f=>{r(Wi(l.result),f.oldVersion,f.newVersion,Wi(l.transaction),f)}),t&&l.addEventListener("blocked",f=>t(f.oldVersion,f.newVersion,f)),c.then(f=>{a&&f.addEventListener("close",()=>a()),s&&f.addEventListener("versionchange",h=>s(h.oldVersion,h.newVersion,h))}).catch(()=>{}),c}const nA=["get","getKey","getAll","getAllKeys","count"],rA=["put","add","delete","clear"],Zh=new Map;function Lw(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(Zh.get(e))return Zh.get(e);const t=e.replace(/FromIndex$/,""),r=e!==t,s=rA.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(s||nA.includes(t)))return;const a=async function(l,...c){const f=this.transaction(l,s?"readwrite":"readonly");let h=f.store;return r&&(h=h.index(c.shift())),(await Promise.all([h[t](...c),s&&f.done]))[0]};return Zh.set(e,a),a}JR(n=>({...n,get:(e,t,r)=>Lw(e,t)||n.get(e,t,r),has:(e,t)=>!!Lw(e,t)||n.has(e,t)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iA{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(sA(t)){const r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}}function sA(n){const e=n.getComponent();return(e==null?void 0:e.type)==="VERSION"}const Sp="@firebase/app",jw="0.13.1";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const li=new dx("@firebase/app"),oA="@firebase/app-compat",aA="@firebase/analytics-compat",lA="@firebase/analytics",uA="@firebase/app-check-compat",cA="@firebase/app-check",dA="@firebase/auth",fA="@firebase/auth-compat",hA="@firebase/database",pA="@firebase/data-connect",mA="@firebase/database-compat",gA="@firebase/functions",yA="@firebase/functions-compat",vA="@firebase/installations",wA="@firebase/installations-compat",_A="@firebase/messaging",xA="@firebase/messaging-compat",EA="@firebase/performance",CA="@firebase/performance-compat",SA="@firebase/remote-config",TA="@firebase/remote-config-compat",IA="@firebase/storage",bA="@firebase/storage-compat",RA="@firebase/firestore",AA="@firebase/ai",NA="@firebase/firestore-compat",PA="firebase",kA="11.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Tp="[DEFAULT]",DA={[Sp]:"fire-core",[oA]:"fire-core-compat",[lA]:"fire-analytics",[aA]:"fire-analytics-compat",[cA]:"fire-app-check",[uA]:"fire-app-check-compat",[dA]:"fire-auth",[fA]:"fire-auth-compat",[hA]:"fire-rtdb",[pA]:"fire-data-connect",[mA]:"fire-rtdb-compat",[gA]:"fire-fn",[yA]:"fire-fn-compat",[vA]:"fire-iid",[wA]:"fire-iid-compat",[_A]:"fire-fcm",[xA]:"fire-fcm-compat",[EA]:"fire-perf",[CA]:"fire-perf-compat",[SA]:"fire-rc",[TA]:"fire-rc-compat",[IA]:"fire-gcs",[bA]:"fire-gcs-compat",[RA]:"fire-fst",[NA]:"fire-fst-compat",[AA]:"fire-vertex","fire-js":"fire-js",[PA]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fd=new Map,MA=new Map,Ip=new Map;function Vw(n,e){try{n.container.addComponent(e)}catch(t){li.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function hd(n){const e=n.name;if(Ip.has(e))return li.debug(`There were multiple attempts to register component ${e}.`),!1;Ip.set(e,n);for(const t of fd.values())Vw(t,n);for(const t of MA.values())Vw(t,n);return!0}function OA(n,e){const t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function LA(n){return n==null?!1:n.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jA={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ki=new cx("app","Firebase",jA);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VA{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Ql("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ki.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FA=kA;function px(n,e={}){let t=n;typeof e!="object"&&(e={name:e});const r=Object.assign({name:Tp,automaticDataCollectionEnabled:!0},e),s=r.name;if(typeof s!="string"||!s)throw Ki.create("bad-app-name",{appName:String(s)});if(t||(t=ux()),!t)throw Ki.create("no-options");const a=fd.get(s);if(a){if(dd(t,a.options)&&dd(r,a.config))return a;throw Ki.create("duplicate-app",{appName:s})}const l=new UR(s);for(const f of Ip.values())l.addComponent(f);const c=new VA(t,r,l);return fd.set(s,c),c}function $A(n=Tp){const e=fd.get(n);if(!e&&n===Tp&&ux())return px();if(!e)throw Ki.create("no-app",{appName:n});return e}function ta(n,e,t){var r;let s=(r=DA[n])!==null&&r!==void 0?r:n;t&&(s+=`-${t}`);const a=s.match(/\s|\//),l=e.match(/\s|\//);if(a||l){const c=[`Unable to register library "${s}" with version "${e}":`];a&&c.push(`library name "${s}" contains illegal characters (whitespace or "/")`),a&&l&&c.push("and"),l&&c.push(`version name "${e}" contains illegal characters (whitespace or "/")`),li.warn(c.join(" "));return}hd(new Ql(`${s}-version`,()=>({library:s,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zA="firebase-heartbeat-database",UA=1,Yl="firebase-heartbeat-store";let ep=null;function mx(){return ep||(ep=tA(zA,UA,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(Yl)}catch(t){console.warn(t)}}}}).catch(n=>{throw Ki.create("idb-open",{originalErrorMessage:n.message})})),ep}async function BA(n){try{const t=(await mx()).transaction(Yl),r=await t.objectStore(Yl).get(gx(n));return await t.done,r}catch(e){if(e instanceof _a)li.warn(e.message);else{const t=Ki.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});li.warn(t.message)}}}async function Fw(n,e){try{const r=(await mx()).transaction(Yl,"readwrite");await r.objectStore(Yl).put(e,gx(n)),await r.done}catch(t){if(t instanceof _a)li.warn(t.message);else{const r=Ki.create("idb-set",{originalErrorMessage:t==null?void 0:t.message});li.warn(r.message)}}}function gx(n){return`${n.name}!${n.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const HA=1024,WA=30;class KA{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new GA(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,t;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),a=$w();if(((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===a||this._heartbeatsCache.heartbeats.some(l=>l.date===a))return;if(this._heartbeatsCache.heartbeats.push({date:a,agent:s}),this._heartbeatsCache.heartbeats.length>WA){const l=QA(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(l,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){li.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const t=$w(),{heartbeatsToSend:r,unsentEntries:s}=qA(this._heartbeatsCache.heartbeats),a=cd(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),a}catch(t){return li.warn(t),""}}}function $w(){return new Date().toISOString().substring(0,10)}function qA(n,e=HA){const t=[];let r=n.slice();for(const s of n){const a=t.find(l=>l.agent===s.agent);if(a){if(a.dates.push(s.date),zw(t)>e){a.dates.pop();break}}else if(t.push({agent:s.agent,dates:[s.date]}),zw(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}class GA{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return MR()?OR().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const t=await BA(this.app);return t!=null&&t.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var t;if(await this._canUseIndexedDBPromise){const s=await this.read();return Fw(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:s.lastSentHeartbeatDate,heartbeats:[...s.heartbeats,...e.heartbeats]})}else return}}function zw(n){return cd(JSON.stringify({version:2,heartbeats:n})).length}function QA(n){if(n.length===0)return-1;let e=0,t=n[0].date;for(let r=1;r<n.length;r++)n[r].date<t&&(t=n[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function YA(n){hd(new Ql("platform-logger",e=>new iA(e),"PRIVATE")),hd(new Ql("heartbeat",e=>new KA(e),"PRIVATE")),ta(Sp,jw,n),ta(Sp,jw,"esm2017"),ta("fire-js","")}YA("");var Uw=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var qi,yx;(function(){var n;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(L,N){function M(){}M.prototype=N.prototype,L.D=N.prototype,L.prototype=new M,L.prototype.constructor=L,L.C=function(V,F,P){for(var O=Array(arguments.length-2),ee=2;ee<arguments.length;ee++)O[ee-2]=arguments[ee];return N.prototype[F].apply(V,O)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(L,N,M){M||(M=0);var V=Array(16);if(typeof N=="string")for(var F=0;16>F;++F)V[F]=N.charCodeAt(M++)|N.charCodeAt(M++)<<8|N.charCodeAt(M++)<<16|N.charCodeAt(M++)<<24;else for(F=0;16>F;++F)V[F]=N[M++]|N[M++]<<8|N[M++]<<16|N[M++]<<24;N=L.g[0],M=L.g[1],F=L.g[2];var P=L.g[3],O=N+(P^M&(F^P))+V[0]+3614090360&4294967295;N=M+(O<<7&4294967295|O>>>25),O=P+(F^N&(M^F))+V[1]+3905402710&4294967295,P=N+(O<<12&4294967295|O>>>20),O=F+(M^P&(N^M))+V[2]+606105819&4294967295,F=P+(O<<17&4294967295|O>>>15),O=M+(N^F&(P^N))+V[3]+3250441966&4294967295,M=F+(O<<22&4294967295|O>>>10),O=N+(P^M&(F^P))+V[4]+4118548399&4294967295,N=M+(O<<7&4294967295|O>>>25),O=P+(F^N&(M^F))+V[5]+1200080426&4294967295,P=N+(O<<12&4294967295|O>>>20),O=F+(M^P&(N^M))+V[6]+2821735955&4294967295,F=P+(O<<17&4294967295|O>>>15),O=M+(N^F&(P^N))+V[7]+4249261313&4294967295,M=F+(O<<22&4294967295|O>>>10),O=N+(P^M&(F^P))+V[8]+1770035416&4294967295,N=M+(O<<7&4294967295|O>>>25),O=P+(F^N&(M^F))+V[9]+2336552879&4294967295,P=N+(O<<12&4294967295|O>>>20),O=F+(M^P&(N^M))+V[10]+4294925233&4294967295,F=P+(O<<17&4294967295|O>>>15),O=M+(N^F&(P^N))+V[11]+2304563134&4294967295,M=F+(O<<22&4294967295|O>>>10),O=N+(P^M&(F^P))+V[12]+1804603682&4294967295,N=M+(O<<7&4294967295|O>>>25),O=P+(F^N&(M^F))+V[13]+4254626195&4294967295,P=N+(O<<12&4294967295|O>>>20),O=F+(M^P&(N^M))+V[14]+2792965006&4294967295,F=P+(O<<17&4294967295|O>>>15),O=M+(N^F&(P^N))+V[15]+1236535329&4294967295,M=F+(O<<22&4294967295|O>>>10),O=N+(F^P&(M^F))+V[1]+4129170786&4294967295,N=M+(O<<5&4294967295|O>>>27),O=P+(M^F&(N^M))+V[6]+3225465664&4294967295,P=N+(O<<9&4294967295|O>>>23),O=F+(N^M&(P^N))+V[11]+643717713&4294967295,F=P+(O<<14&4294967295|O>>>18),O=M+(P^N&(F^P))+V[0]+3921069994&4294967295,M=F+(O<<20&4294967295|O>>>12),O=N+(F^P&(M^F))+V[5]+3593408605&4294967295,N=M+(O<<5&4294967295|O>>>27),O=P+(M^F&(N^M))+V[10]+38016083&4294967295,P=N+(O<<9&4294967295|O>>>23),O=F+(N^M&(P^N))+V[15]+3634488961&4294967295,F=P+(O<<14&4294967295|O>>>18),O=M+(P^N&(F^P))+V[4]+3889429448&4294967295,M=F+(O<<20&4294967295|O>>>12),O=N+(F^P&(M^F))+V[9]+568446438&4294967295,N=M+(O<<5&4294967295|O>>>27),O=P+(M^F&(N^M))+V[14]+3275163606&4294967295,P=N+(O<<9&4294967295|O>>>23),O=F+(N^M&(P^N))+V[3]+4107603335&4294967295,F=P+(O<<14&4294967295|O>>>18),O=M+(P^N&(F^P))+V[8]+1163531501&4294967295,M=F+(O<<20&4294967295|O>>>12),O=N+(F^P&(M^F))+V[13]+2850285829&4294967295,N=M+(O<<5&4294967295|O>>>27),O=P+(M^F&(N^M))+V[2]+4243563512&4294967295,P=N+(O<<9&4294967295|O>>>23),O=F+(N^M&(P^N))+V[7]+1735328473&4294967295,F=P+(O<<14&4294967295|O>>>18),O=M+(P^N&(F^P))+V[12]+2368359562&4294967295,M=F+(O<<20&4294967295|O>>>12),O=N+(M^F^P)+V[5]+4294588738&4294967295,N=M+(O<<4&4294967295|O>>>28),O=P+(N^M^F)+V[8]+2272392833&4294967295,P=N+(O<<11&4294967295|O>>>21),O=F+(P^N^M)+V[11]+1839030562&4294967295,F=P+(O<<16&4294967295|O>>>16),O=M+(F^P^N)+V[14]+4259657740&4294967295,M=F+(O<<23&4294967295|O>>>9),O=N+(M^F^P)+V[1]+2763975236&4294967295,N=M+(O<<4&4294967295|O>>>28),O=P+(N^M^F)+V[4]+1272893353&4294967295,P=N+(O<<11&4294967295|O>>>21),O=F+(P^N^M)+V[7]+4139469664&4294967295,F=P+(O<<16&4294967295|O>>>16),O=M+(F^P^N)+V[10]+3200236656&4294967295,M=F+(O<<23&4294967295|O>>>9),O=N+(M^F^P)+V[13]+681279174&4294967295,N=M+(O<<4&4294967295|O>>>28),O=P+(N^M^F)+V[0]+3936430074&4294967295,P=N+(O<<11&4294967295|O>>>21),O=F+(P^N^M)+V[3]+3572445317&4294967295,F=P+(O<<16&4294967295|O>>>16),O=M+(F^P^N)+V[6]+76029189&4294967295,M=F+(O<<23&4294967295|O>>>9),O=N+(M^F^P)+V[9]+3654602809&4294967295,N=M+(O<<4&4294967295|O>>>28),O=P+(N^M^F)+V[12]+3873151461&4294967295,P=N+(O<<11&4294967295|O>>>21),O=F+(P^N^M)+V[15]+530742520&4294967295,F=P+(O<<16&4294967295|O>>>16),O=M+(F^P^N)+V[2]+3299628645&4294967295,M=F+(O<<23&4294967295|O>>>9),O=N+(F^(M|~P))+V[0]+4096336452&4294967295,N=M+(O<<6&4294967295|O>>>26),O=P+(M^(N|~F))+V[7]+1126891415&4294967295,P=N+(O<<10&4294967295|O>>>22),O=F+(N^(P|~M))+V[14]+2878612391&4294967295,F=P+(O<<15&4294967295|O>>>17),O=M+(P^(F|~N))+V[5]+4237533241&4294967295,M=F+(O<<21&4294967295|O>>>11),O=N+(F^(M|~P))+V[12]+1700485571&4294967295,N=M+(O<<6&4294967295|O>>>26),O=P+(M^(N|~F))+V[3]+2399980690&4294967295,P=N+(O<<10&4294967295|O>>>22),O=F+(N^(P|~M))+V[10]+4293915773&4294967295,F=P+(O<<15&4294967295|O>>>17),O=M+(P^(F|~N))+V[1]+2240044497&4294967295,M=F+(O<<21&4294967295|O>>>11),O=N+(F^(M|~P))+V[8]+1873313359&4294967295,N=M+(O<<6&4294967295|O>>>26),O=P+(M^(N|~F))+V[15]+4264355552&4294967295,P=N+(O<<10&4294967295|O>>>22),O=F+(N^(P|~M))+V[6]+2734768916&4294967295,F=P+(O<<15&4294967295|O>>>17),O=M+(P^(F|~N))+V[13]+1309151649&4294967295,M=F+(O<<21&4294967295|O>>>11),O=N+(F^(M|~P))+V[4]+4149444226&4294967295,N=M+(O<<6&4294967295|O>>>26),O=P+(M^(N|~F))+V[11]+3174756917&4294967295,P=N+(O<<10&4294967295|O>>>22),O=F+(N^(P|~M))+V[2]+718787259&4294967295,F=P+(O<<15&4294967295|O>>>17),O=M+(P^(F|~N))+V[9]+3951481745&4294967295,L.g[0]=L.g[0]+N&4294967295,L.g[1]=L.g[1]+(F+(O<<21&4294967295|O>>>11))&4294967295,L.g[2]=L.g[2]+F&4294967295,L.g[3]=L.g[3]+P&4294967295}r.prototype.u=function(L,N){N===void 0&&(N=L.length);for(var M=N-this.blockSize,V=this.B,F=this.h,P=0;P<N;){if(F==0)for(;P<=M;)s(this,L,P),P+=this.blockSize;if(typeof L=="string"){for(;P<N;)if(V[F++]=L.charCodeAt(P++),F==this.blockSize){s(this,V),F=0;break}}else for(;P<N;)if(V[F++]=L[P++],F==this.blockSize){s(this,V),F=0;break}}this.h=F,this.o+=N},r.prototype.v=function(){var L=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);L[0]=128;for(var N=1;N<L.length-8;++N)L[N]=0;var M=8*this.o;for(N=L.length-8;N<L.length;++N)L[N]=M&255,M/=256;for(this.u(L),L=Array(16),N=M=0;4>N;++N)for(var V=0;32>V;V+=8)L[M++]=this.g[N]>>>V&255;return L};function a(L,N){var M=c;return Object.prototype.hasOwnProperty.call(M,L)?M[L]:M[L]=N(L)}function l(L,N){this.h=N;for(var M=[],V=!0,F=L.length-1;0<=F;F--){var P=L[F]|0;V&&P==N||(M[F]=P,V=!1)}this.g=M}var c={};function f(L){return-128<=L&&128>L?a(L,function(N){return new l([N|0],0>N?-1:0)}):new l([L|0],0>L?-1:0)}function h(L){if(isNaN(L)||!isFinite(L))return v;if(0>L)return b(h(-L));for(var N=[],M=1,V=0;L>=M;V++)N[V]=L/M|0,M*=4294967296;return new l(N,0)}function m(L,N){if(L.length==0)throw Error("number format error: empty string");if(N=N||10,2>N||36<N)throw Error("radix out of range: "+N);if(L.charAt(0)=="-")return b(m(L.substring(1),N));if(0<=L.indexOf("-"))throw Error('number format error: interior "-" character');for(var M=h(Math.pow(N,8)),V=v,F=0;F<L.length;F+=8){var P=Math.min(8,L.length-F),O=parseInt(L.substring(F,F+P),N);8>P?(P=h(Math.pow(N,P)),V=V.j(P).add(h(O))):(V=V.j(M),V=V.add(h(O)))}return V}var v=f(0),w=f(1),T=f(16777216);n=l.prototype,n.m=function(){if(I(this))return-b(this).m();for(var L=0,N=1,M=0;M<this.g.length;M++){var V=this.i(M);L+=(0<=V?V:4294967296+V)*N,N*=4294967296}return L},n.toString=function(L){if(L=L||10,2>L||36<L)throw Error("radix out of range: "+L);if(C(this))return"0";if(I(this))return"-"+b(this).toString(L);for(var N=h(Math.pow(L,6)),M=this,V="";;){var F=z(M,N).g;M=R(M,F.j(N));var P=((0<M.g.length?M.g[0]:M.h)>>>0).toString(L);if(M=F,C(M))return P+V;for(;6>P.length;)P="0"+P;V=P+V}},n.i=function(L){return 0>L?0:L<this.g.length?this.g[L]:this.h};function C(L){if(L.h!=0)return!1;for(var N=0;N<L.g.length;N++)if(L.g[N]!=0)return!1;return!0}function I(L){return L.h==-1}n.l=function(L){return L=R(this,L),I(L)?-1:C(L)?0:1};function b(L){for(var N=L.g.length,M=[],V=0;V<N;V++)M[V]=~L.g[V];return new l(M,~L.h).add(w)}n.abs=function(){return I(this)?b(this):this},n.add=function(L){for(var N=Math.max(this.g.length,L.g.length),M=[],V=0,F=0;F<=N;F++){var P=V+(this.i(F)&65535)+(L.i(F)&65535),O=(P>>>16)+(this.i(F)>>>16)+(L.i(F)>>>16);V=O>>>16,P&=65535,O&=65535,M[F]=O<<16|P}return new l(M,M[M.length-1]&-2147483648?-1:0)};function R(L,N){return L.add(b(N))}n.j=function(L){if(C(this)||C(L))return v;if(I(this))return I(L)?b(this).j(b(L)):b(b(this).j(L));if(I(L))return b(this.j(b(L)));if(0>this.l(T)&&0>L.l(T))return h(this.m()*L.m());for(var N=this.g.length+L.g.length,M=[],V=0;V<2*N;V++)M[V]=0;for(V=0;V<this.g.length;V++)for(var F=0;F<L.g.length;F++){var P=this.i(V)>>>16,O=this.i(V)&65535,ee=L.i(F)>>>16,ie=L.i(F)&65535;M[2*V+2*F]+=O*ie,D(M,2*V+2*F),M[2*V+2*F+1]+=P*ie,D(M,2*V+2*F+1),M[2*V+2*F+1]+=O*ee,D(M,2*V+2*F+1),M[2*V+2*F+2]+=P*ee,D(M,2*V+2*F+2)}for(V=0;V<N;V++)M[V]=M[2*V+1]<<16|M[2*V];for(V=N;V<2*N;V++)M[V]=0;return new l(M,0)};function D(L,N){for(;(L[N]&65535)!=L[N];)L[N+1]+=L[N]>>>16,L[N]&=65535,N++}function j(L,N){this.g=L,this.h=N}function z(L,N){if(C(N))throw Error("division by zero");if(C(L))return new j(v,v);if(I(L))return N=z(b(L),N),new j(b(N.g),b(N.h));if(I(N))return N=z(L,b(N)),new j(b(N.g),N.h);if(30<L.g.length){if(I(L)||I(N))throw Error("slowDivide_ only works with positive integers.");for(var M=w,V=N;0>=V.l(L);)M=q(M),V=q(V);var F=Z(M,1),P=Z(V,1);for(V=Z(V,2),M=Z(M,2);!C(V);){var O=P.add(V);0>=O.l(L)&&(F=F.add(M),P=O),V=Z(V,1),M=Z(M,1)}return N=R(L,F.j(N)),new j(F,N)}for(F=v;0<=L.l(N);){for(M=Math.max(1,Math.floor(L.m()/N.m())),V=Math.ceil(Math.log(M)/Math.LN2),V=48>=V?1:Math.pow(2,V-48),P=h(M),O=P.j(N);I(O)||0<O.l(L);)M-=V,P=h(M),O=P.j(N);C(P)&&(P=w),F=F.add(P),L=R(L,O)}return new j(F,L)}n.A=function(L){return z(this,L).h},n.and=function(L){for(var N=Math.max(this.g.length,L.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)&L.i(V);return new l(M,this.h&L.h)},n.or=function(L){for(var N=Math.max(this.g.length,L.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)|L.i(V);return new l(M,this.h|L.h)},n.xor=function(L){for(var N=Math.max(this.g.length,L.g.length),M=[],V=0;V<N;V++)M[V]=this.i(V)^L.i(V);return new l(M,this.h^L.h)};function q(L){for(var N=L.g.length+1,M=[],V=0;V<N;V++)M[V]=L.i(V)<<1|L.i(V-1)>>>31;return new l(M,L.h)}function Z(L,N){var M=N>>5;N%=32;for(var V=L.g.length-M,F=[],P=0;P<V;P++)F[P]=0<N?L.i(P+M)>>>N|L.i(P+M+1)<<32-N:L.i(P+M);return new l(F,L.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,yx=r,l.prototype.add=l.prototype.add,l.prototype.multiply=l.prototype.j,l.prototype.modulo=l.prototype.A,l.prototype.compare=l.prototype.l,l.prototype.toNumber=l.prototype.m,l.prototype.toString=l.prototype.toString,l.prototype.getBits=l.prototype.i,l.fromNumber=h,l.fromString=m,qi=l}).apply(typeof Uw<"u"?Uw:typeof self<"u"?self:typeof window<"u"?window:{});var Lc=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var vx,Al,wx,Jc,bp,_x,xx,Ex;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(d,_,S){return d==Array.prototype||d==Object.prototype||(d[_]=S.value),d};function t(d){d=[typeof globalThis=="object"&&globalThis,d,typeof window=="object"&&window,typeof self=="object"&&self,typeof Lc=="object"&&Lc];for(var _=0;_<d.length;++_){var S=d[_];if(S&&S.Math==Math)return S}throw Error("Cannot find global object")}var r=t(this);function s(d,_){if(_)e:{var S=r;d=d.split(".");for(var k=0;k<d.length-1;k++){var W=d[k];if(!(W in S))break e;S=S[W]}d=d[d.length-1],k=S[d],_=_(k),_!=k&&_!=null&&e(S,d,{configurable:!0,writable:!0,value:_})}}function a(d,_){d instanceof String&&(d+="");var S=0,k=!1,W={next:function(){if(!k&&S<d.length){var X=S++;return{value:_(X,d[X]),done:!1}}return k=!0,{done:!0,value:void 0}}};return W[Symbol.iterator]=function(){return W},W}s("Array.prototype.values",function(d){return d||function(){return a(this,function(_,S){return S})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var l=l||{},c=this||self;function f(d){var _=typeof d;return _=_!="object"?_:d?Array.isArray(d)?"array":_:"null",_=="array"||_=="object"&&typeof d.length=="number"}function h(d){var _=typeof d;return _=="object"&&d!=null||_=="function"}function m(d,_,S){return d.call.apply(d.bind,arguments)}function v(d,_,S){if(!d)throw Error();if(2<arguments.length){var k=Array.prototype.slice.call(arguments,2);return function(){var W=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(W,k),d.apply(_,W)}}return function(){return d.apply(_,arguments)}}function w(d,_,S){return w=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?m:v,w.apply(null,arguments)}function T(d,_){var S=Array.prototype.slice.call(arguments,1);return function(){var k=S.slice();return k.push.apply(k,arguments),d.apply(this,k)}}function C(d,_){function S(){}S.prototype=_.prototype,d.aa=_.prototype,d.prototype=new S,d.prototype.constructor=d,d.Qb=function(k,W,X){for(var fe=Array(arguments.length-2),et=2;et<arguments.length;et++)fe[et-2]=arguments[et];return _.prototype[W].apply(k,fe)}}function I(d){const _=d.length;if(0<_){const S=Array(_);for(let k=0;k<_;k++)S[k]=d[k];return S}return[]}function b(d,_){for(let S=1;S<arguments.length;S++){const k=arguments[S];if(f(k)){const W=d.length||0,X=k.length||0;d.length=W+X;for(let fe=0;fe<X;fe++)d[W+fe]=k[fe]}else d.push(k)}}class R{constructor(_,S){this.i=_,this.j=S,this.h=0,this.g=null}get(){let _;return 0<this.h?(this.h--,_=this.g,this.g=_.next,_.next=null):_=this.i(),_}}function D(d){return/^[\s\xa0]*$/.test(d)}function j(){var d=c.navigator;return d&&(d=d.userAgent)?d:""}function z(d){return z[" "](d),d}z[" "]=function(){};var q=j().indexOf("Gecko")!=-1&&!(j().toLowerCase().indexOf("webkit")!=-1&&j().indexOf("Edge")==-1)&&!(j().indexOf("Trident")!=-1||j().indexOf("MSIE")!=-1)&&j().indexOf("Edge")==-1;function Z(d,_,S){for(const k in d)_.call(S,d[k],k,d)}function L(d,_){for(const S in d)_.call(void 0,d[S],S,d)}function N(d){const _={};for(const S in d)_[S]=d[S];return _}const M="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function V(d,_){let S,k;for(let W=1;W<arguments.length;W++){k=arguments[W];for(S in k)d[S]=k[S];for(let X=0;X<M.length;X++)S=M[X],Object.prototype.hasOwnProperty.call(k,S)&&(d[S]=k[S])}}function F(d){var _=1;d=d.split(":");const S=[];for(;0<_&&d.length;)S.push(d.shift()),_--;return d.length&&S.push(d.join(":")),S}function P(d){c.setTimeout(()=>{throw d},0)}function O(){var d=te;let _=null;return d.g&&(_=d.g,d.g=d.g.next,d.g||(d.h=null),_.next=null),_}class ee{constructor(){this.h=this.g=null}add(_,S){const k=ie.get();k.set(_,S),this.h?this.h.next=k:this.g=k,this.h=k}}var ie=new R(()=>new ce,d=>d.reset());class ce{constructor(){this.next=this.g=this.h=null}set(_,S){this.h=_,this.g=S,this.next=null}reset(){this.next=this.g=this.h=null}}let de,Q=!1,te=new ee,le=()=>{const d=c.Promise.resolve(void 0);de=()=>{d.then(U)}};var U=()=>{for(var d;d=O();){try{d.h.call(d.g)}catch(S){P(S)}var _=ie;_.j(d),100>_.h&&(_.h++,d.next=_.g,_.g=d)}Q=!1};function J(){this.s=this.s,this.C=this.C}J.prototype.s=!1,J.prototype.ma=function(){this.s||(this.s=!0,this.N())},J.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function pe(d,_){this.type=d,this.g=this.target=_,this.defaultPrevented=!1}pe.prototype.h=function(){this.defaultPrevented=!0};var Ce=function(){if(!c.addEventListener||!Object.defineProperty)return!1;var d=!1,_=Object.defineProperty({},"passive",{get:function(){d=!0}});try{const S=()=>{};c.addEventListener("test",S,_),c.removeEventListener("test",S,_)}catch{}return d}();function Ae(d,_){if(pe.call(this,d?d.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,d){var S=this.type=d.type,k=d.changedTouches&&d.changedTouches.length?d.changedTouches[0]:null;if(this.target=d.target||d.srcElement,this.g=_,_=d.relatedTarget){if(q){e:{try{z(_.nodeName);var W=!0;break e}catch{}W=!1}W||(_=null)}}else S=="mouseover"?_=d.fromElement:S=="mouseout"&&(_=d.toElement);this.relatedTarget=_,k?(this.clientX=k.clientX!==void 0?k.clientX:k.pageX,this.clientY=k.clientY!==void 0?k.clientY:k.pageY,this.screenX=k.screenX||0,this.screenY=k.screenY||0):(this.clientX=d.clientX!==void 0?d.clientX:d.pageX,this.clientY=d.clientY!==void 0?d.clientY:d.pageY,this.screenX=d.screenX||0,this.screenY=d.screenY||0),this.button=d.button,this.key=d.key||"",this.ctrlKey=d.ctrlKey,this.altKey=d.altKey,this.shiftKey=d.shiftKey,this.metaKey=d.metaKey,this.pointerId=d.pointerId||0,this.pointerType=typeof d.pointerType=="string"?d.pointerType:je[d.pointerType]||"",this.state=d.state,this.i=d,d.defaultPrevented&&Ae.aa.h.call(this)}}C(Ae,pe);var je={2:"touch",3:"pen",4:"mouse"};Ae.prototype.h=function(){Ae.aa.h.call(this);var d=this.i;d.preventDefault?d.preventDefault():d.returnValue=!1};var he="closure_listenable_"+(1e6*Math.random()|0),Ee=0;function Le(d,_,S,k,W){this.listener=d,this.proxy=null,this.src=_,this.type=S,this.capture=!!k,this.ha=W,this.key=++Ee,this.da=this.fa=!1}function ke(d){d.da=!0,d.listener=null,d.proxy=null,d.src=null,d.ha=null}function ze(d){this.src=d,this.g={},this.h=0}ze.prototype.add=function(d,_,S,k,W){var X=d.toString();d=this.g[X],d||(d=this.g[X]=[],this.h++);var fe=yt(d,_,k,W);return-1<fe?(_=d[fe],S||(_.fa=!1)):(_=new Le(_,this.src,X,!!k,W),_.fa=S,d.push(_)),_};function Ke(d,_){var S=_.type;if(S in d.g){var k=d.g[S],W=Array.prototype.indexOf.call(k,_,void 0),X;(X=0<=W)&&Array.prototype.splice.call(k,W,1),X&&(ke(_),d.g[S].length==0&&(delete d.g[S],d.h--))}}function yt(d,_,S,k){for(var W=0;W<d.length;++W){var X=d[W];if(!X.da&&X.listener==_&&X.capture==!!S&&X.ha==k)return W}return-1}var Mt="closure_lm_"+(1e6*Math.random()|0),An={};function Un(d,_,S,k,W){if(Array.isArray(_)){for(var X=0;X<_.length;X++)Un(d,_[X],S,k,W);return null}return S=ka(S),d&&d[he]?d.K(_,S,h(k)?!!k.capture:!1,W):Bn(d,_,S,!1,k,W)}function Bn(d,_,S,k,W,X){if(!_)throw Error("Invalid event type");var fe=h(W)?!!W.capture:!!W,et=no(d);if(et||(d[Mt]=et=new ze(d)),S=et.add(_,S,k,fe,X),S.proxy)return S;if(k=to(),S.proxy=k,k.src=d,k.listener=S,d.addEventListener)Ce||(W=fe),W===void 0&&(W=!1),d.addEventListener(_.toString(),k,W);else if(d.attachEvent)d.attachEvent(Ur(_.toString()),k);else if(d.addListener&&d.removeListener)d.addListener(k);else throw Error("addEventListener and attachEvent are unavailable.");return S}function to(){function d(S){return _.call(d.src,d.listener,S)}const _=Pa;return d}function Hn(d,_,S,k,W){if(Array.isArray(_))for(var X=0;X<_.length;X++)Hn(d,_[X],S,k,W);else k=h(k)?!!k.capture:!!k,S=ka(S),d&&d[he]?(d=d.i,_=String(_).toString(),_ in d.g&&(X=d.g[_],S=yt(X,S,k,W),-1<S&&(ke(X[S]),Array.prototype.splice.call(X,S,1),X.length==0&&(delete d.g[_],d.h--)))):d&&(d=no(d))&&(_=d.g[_.toString()],d=-1,_&&(d=yt(_,S,k,W)),(S=-1<d?_[d]:null)&&zr(S))}function zr(d){if(typeof d!="number"&&d&&!d.da){var _=d.src;if(_&&_[he])Ke(_.i,d);else{var S=d.type,k=d.proxy;_.removeEventListener?_.removeEventListener(S,k,d.capture):_.detachEvent?_.detachEvent(Ur(S),k):_.addListener&&_.removeListener&&_.removeListener(k),(S=no(_))?(Ke(S,d),S.h==0&&(S.src=null,_[Mt]=null)):ke(d)}}}function Ur(d){return d in An?An[d]:An[d]="on"+d}function Pa(d,_){if(d.da)d=!0;else{_=new Ae(_,this);var S=d.listener,k=d.ha||d.src;d.fa&&zr(d),d=S.call(k,_)}return d}function no(d){return d=d[Mt],d instanceof ze?d:null}var ro="__closure_events_fn_"+(1e9*Math.random()>>>0);function ka(d){return typeof d=="function"?d:(d[ro]||(d[ro]=function(_){return d.handleEvent(_)}),d[ro])}function Rt(){J.call(this),this.i=new ze(this),this.M=this,this.F=null}C(Rt,J),Rt.prototype[he]=!0,Rt.prototype.removeEventListener=function(d,_,S,k){Hn(this,d,_,S,k)};function At(d,_){var S,k=d.F;if(k)for(S=[];k;k=k.F)S.push(k);if(d=d.M,k=_.type||_,typeof _=="string")_=new pe(_,d);else if(_ instanceof pe)_.target=_.target||d;else{var W=_;_=new pe(k,d),V(_,W)}if(W=!0,S)for(var X=S.length-1;0<=X;X--){var fe=_.g=S[X];W=Br(fe,k,!0,_)&&W}if(fe=_.g=d,W=Br(fe,k,!0,_)&&W,W=Br(fe,k,!1,_)&&W,S)for(X=0;X<S.length;X++)fe=_.g=S[X],W=Br(fe,k,!1,_)&&W}Rt.prototype.N=function(){if(Rt.aa.N.call(this),this.i){var d=this.i,_;for(_ in d.g){for(var S=d.g[_],k=0;k<S.length;k++)ke(S[k]);delete d.g[_],d.h--}}this.F=null},Rt.prototype.K=function(d,_,S,k){return this.i.add(String(d),_,!1,S,k)},Rt.prototype.L=function(d,_,S,k){return this.i.add(String(d),_,!0,S,k)};function Br(d,_,S,k){if(_=d.i.g[String(_)],!_)return!0;_=_.concat();for(var W=!0,X=0;X<_.length;++X){var fe=_[X];if(fe&&!fe.da&&fe.capture==S){var et=fe.listener,Nt=fe.ha||fe.src;fe.fa&&Ke(d.i,fe),W=et.call(Nt,k)!==!1&&W}}return W&&!k.defaultPrevented}function Da(d,_,S){if(typeof d=="function")S&&(d=w(d,S));else if(d&&typeof d.handleEvent=="function")d=w(d.handleEvent,d);else throw Error("Invalid listener argument");return 2147483647<Number(_)?-1:c.setTimeout(d,_||0)}function pi(d){d.g=Da(()=>{d.g=null,d.i&&(d.i=!1,pi(d))},d.l);const _=d.h;d.h=null,d.m.apply(null,_)}class fs extends J{constructor(_,S){super(),this.m=_,this.l=S,this.h=null,this.i=!1,this.g=null}j(_){this.h=arguments,this.g?this.i=!0:pi(this)}N(){super.N(),this.g&&(c.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function hs(d){J.call(this),this.h=d,this.g={}}C(hs,J);var Ma=[];function Oa(d){Z(d.g,function(_,S){this.g.hasOwnProperty(S)&&zr(_)},d),d.g={}}hs.prototype.N=function(){hs.aa.N.call(this),Oa(this)},hs.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var La=c.JSON.stringify,ja=c.JSON.parse,Va=class{stringify(d){return c.JSON.stringify(d,void 0)}parse(d){return c.JSON.parse(d,void 0)}};function ps(){}ps.prototype.h=null;function io(d){return d.h||(d.h=d.i())}function so(){}var Nn={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function gr(){pe.call(this,"d")}C(gr,pe);function oo(){pe.call(this,"c")}C(oo,pe);var yr={},Fa=null;function ms(){return Fa=Fa||new Rt}yr.La="serverreachability";function $a(d){pe.call(this,yr.La,d)}C($a,pe);function Hr(d){const _=ms();At(_,new $a(_))}yr.STAT_EVENT="statevent";function za(d,_){pe.call(this,yr.STAT_EVENT,d),this.stat=_}C(za,pe);function _t(d){const _=ms();At(_,new za(_,d))}yr.Ma="timingevent";function ao(d,_){pe.call(this,yr.Ma,d),this.size=_}C(ao,pe);function Wn(d,_){if(typeof d!="function")throw Error("Fn must not be null and must be a function");return c.setTimeout(function(){d()},_)}function gs(){this.g=!0}gs.prototype.xa=function(){this.g=!1};function ys(d,_,S,k,W,X){d.info(function(){if(d.g)if(X)for(var fe="",et=X.split("&"),Nt=0;Nt<et.length;Nt++){var Ge=et[Nt].split("=");if(1<Ge.length){var Ot=Ge[0];Ge=Ge[1];var St=Ot.split("_");fe=2<=St.length&&St[1]=="type"?fe+(Ot+"="+Ge+"&"):fe+(Ot+"=redacted&")}}else fe=null;else fe=X;return"XMLHTTP REQ ("+k+") [attempt "+W+"]: "+_+`
`+S+`
`+fe})}function lo(d,_,S,k,W,X,fe){d.info(function(){return"XMLHTTP RESP ("+k+") [ attempt "+W+"]: "+_+`
`+S+`
`+X+" "+fe})}function Kn(d,_,S,k){d.info(function(){return"XMLHTTP TEXT ("+_+"): "+vf(d,S)+(k?" "+k:"")})}function Ua(d,_){d.info(function(){return"TIMEOUT: "+_})}gs.prototype.info=function(){};function vf(d,_){if(!d.g)return _;if(!_)return null;try{var S=JSON.parse(_);if(S){for(d=0;d<S.length;d++)if(Array.isArray(S[d])){var k=S[d];if(!(2>k.length)){var W=k[1];if(Array.isArray(W)&&!(1>W.length)){var X=W[0];if(X!="noop"&&X!="stop"&&X!="close")for(var fe=1;fe<W.length;fe++)W[fe]=""}}}}return La(S)}catch{return _}}var uo={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},_u={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},qn;function vs(){}C(vs,ps),vs.prototype.g=function(){return new XMLHttpRequest},vs.prototype.i=function(){return{}},qn=new vs;function Gn(d,_,S,k){this.j=d,this.i=_,this.l=S,this.R=k||1,this.U=new hs(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new xu}function xu(){this.i=null,this.g="",this.h=!1}var Ba={},co={};function fo(d,_,S){d.L=1,d.v=wi(_n(_)),d.m=S,d.P=!0,Ha(d,null)}function Ha(d,_){d.F=Date.now(),rt(d),d.A=_n(d.v);var S=d.A,k=d.R;Array.isArray(k)||(k=[String(k)]),xi(S.i,"t",k),d.C=0,S=d.j.J,d.h=new xu,d.g=Fu(d.j,S?_:null,!d.m),0<d.O&&(d.M=new fs(w(d.Y,d,d.g),d.O)),_=d.U,S=d.g,k=d.ca;var W="readystatechange";Array.isArray(W)||(W&&(Ma[0]=W.toString()),W=Ma);for(var X=0;X<W.length;X++){var fe=Un(S,W[X],k||_.handleEvent,!1,_.h||_);if(!fe)break;_.g[fe.key]=fe}_=d.H?N(d.H):{},d.m?(d.u||(d.u="POST"),_["Content-Type"]="application/x-www-form-urlencoded",d.g.ea(d.A,d.u,d.m,_)):(d.u="GET",d.g.ea(d.A,d.u,null,_)),Hr(),ys(d.i,d.u,d.A,d.l,d.R,d.m)}Gn.prototype.ca=function(d){d=d.target;const _=this.M;_&&un(d)==3?_.j():this.Y(d)},Gn.prototype.Y=function(d){try{if(d==this.g)e:{const St=un(this.g);var _=this.g.Ba();const Dn=this.g.Z();if(!(3>St)&&(St!=3||this.g&&(this.h.h||this.g.oa()||Ya(this.g)))){this.J||St!=4||_==7||(_==8||0>=Dn?Hr(3):Hr(2)),ws(this);var S=this.g.Z();this.X=S;t:if(Eu(this)){var k=Ya(this.g);d="";var W=k.length,X=un(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Pn(this),mi(this);var fe="";break t}this.h.i=new c.TextDecoder}for(_=0;_<W;_++)this.h.h=!0,d+=this.h.i.decode(k[_],{stream:!(X&&_==W-1)});k.length=0,this.h.g+=d,this.C=0,fe=this.h.g}else fe=this.g.oa();if(this.o=S==200,lo(this.i,this.u,this.A,this.l,this.R,St,S),this.o){if(this.T&&!this.K){t:{if(this.g){var et,Nt=this.g;if((et=Nt.g?Nt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!D(et)){var Ge=et;break t}}Ge=null}if(S=Ge)Kn(this.i,this.l,S,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Wa(this,S);else{this.o=!1,this.s=3,_t(12),Pn(this),mi(this);break e}}if(this.P){S=!0;let En;for(;!this.J&&this.C<fe.length;)if(En=wf(this,fe),En==co){St==4&&(this.s=4,_t(14),S=!1),Kn(this.i,this.l,null,"[Incomplete Response]");break}else if(En==Ba){this.s=4,_t(15),Kn(this.i,this.l,fe,"[Invalid Chunk]"),S=!1;break}else Kn(this.i,this.l,En,null),Wa(this,En);if(Eu(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),St!=4||fe.length!=0||this.h.h||(this.s=1,_t(16),S=!1),this.o=this.o&&S,!S)Kn(this.i,this.l,fe,"[Invalid Chunked Response]"),Pn(this),mi(this);else if(0<fe.length&&!this.W){this.W=!0;var Ot=this.j;Ot.g==this&&Ot.ba&&!Ot.M&&(Ot.j.info("Great, no buffering proxy detected. Bytes received: "+fe.length),Ja(Ot),Ot.M=!0,_t(11))}}else Kn(this.i,this.l,fe,null),Wa(this,fe);St==4&&Pn(this),this.o&&!this.J&&(St==4?Co(this.j,this):(this.o=!1,rt(this)))}else vo(this.g),S==400&&0<fe.indexOf("Unknown SID")?(this.s=3,_t(12)):(this.s=0,_t(13)),Pn(this),mi(this)}}}catch{}finally{}};function Eu(d){return d.g?d.u=="GET"&&d.L!=2&&d.j.Ca:!1}function wf(d,_){var S=d.C,k=_.indexOf(`
`,S);return k==-1?co:(S=Number(_.substring(S,k)),isNaN(S)?Ba:(k+=1,k+S>_.length?co:(_=_.slice(k,k+S),d.C=k+S,_)))}Gn.prototype.cancel=function(){this.J=!0,Pn(this)};function rt(d){d.S=Date.now()+d.I,Cu(d,d.I)}function Cu(d,_){if(d.B!=null)throw Error("WatchDog timer not null");d.B=Wn(w(d.ba,d),_)}function ws(d){d.B&&(c.clearTimeout(d.B),d.B=null)}Gn.prototype.ba=function(){this.B=null;const d=Date.now();0<=d-this.S?(Ua(this.i,this.A),this.L!=2&&(Hr(),_t(17)),Pn(this),this.s=2,mi(this)):Cu(this,this.S-d)};function mi(d){d.j.G==0||d.J||Co(d.j,d)}function Pn(d){ws(d);var _=d.M;_&&typeof _.ma=="function"&&_.ma(),d.M=null,Oa(d.U),d.g&&(_=d.g,d.g=null,_.abort(),_.ma())}function Wa(d,_){try{var S=d.j;if(S.G!=0&&(S.g==d||rn(S.h,d))){if(!d.K&&rn(S.h,d)&&S.G==3){try{var k=S.Da.g.parse(_)}catch{k=null}if(Array.isArray(k)&&k.length==3){var W=k;if(W[0]==0){e:if(!S.u){if(S.g)if(S.g.F+3e3<d.F)Eo(S),Zn(S);else break e;xo(S),_t(18)}}else S.za=W[1],0<S.za-S.T&&37500>W[2]&&S.F&&S.v==0&&!S.C&&(S.C=Wn(w(S.Za,S),6e3));if(1>=Tu(S.h)&&S.ca){try{S.ca()}catch{}S.ca=void 0}}else Qr(S,11)}else if((d.K||S.g==d)&&Eo(S),!D(_))for(W=S.Da.g.parse(_),_=0;_<W.length;_++){let Ge=W[_];if(S.T=Ge[0],Ge=Ge[1],S.G==2)if(Ge[0]=="c"){S.K=Ge[1],S.ia=Ge[2];const Ot=Ge[3];Ot!=null&&(S.la=Ot,S.j.info("VER="+S.la));const St=Ge[4];St!=null&&(S.Aa=St,S.j.info("SVER="+S.Aa));const Dn=Ge[5];Dn!=null&&typeof Dn=="number"&&0<Dn&&(k=1.5*Dn,S.L=k,S.j.info("backChannelRequestTimeoutMs_="+k)),k=S;const En=d.g;if(En){const Is=En.g?En.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Is){var X=k.h;X.g||Is.indexOf("spdy")==-1&&Is.indexOf("quic")==-1&&Is.indexOf("h2")==-1||(X.j=X.l,X.g=new Set,X.h&&(Ka(X,X.h),X.h=null))}if(k.D){const To=En.g?En.g.getResponseHeader("X-HTTP-Session-Id"):null;To&&(k.ya=To,tt(k.I,k.D,To))}}S.G=3,S.l&&S.l.ua(),S.ba&&(S.R=Date.now()-d.F,S.j.info("Handshake RTT: "+S.R+"ms")),k=S;var fe=d;if(k.qa=Vu(k,k.J?k.ia:null,k.W),fe.K){Iu(k.h,fe);var et=fe,Nt=k.L;Nt&&(et.I=Nt),et.B&&(ws(et),rt(et)),k.g=fe}else Ts(k);0<S.i.length&&xr(S)}else Ge[0]!="stop"&&Ge[0]!="close"||Qr(S,7);else S.G==3&&(Ge[0]=="stop"||Ge[0]=="close"?Ge[0]=="stop"?Qr(S,7):zt(S):Ge[0]!="noop"&&S.l&&S.l.ta(Ge),S.v=0)}}Hr(4)}catch{}}var Su=class{constructor(d,_){this.g=d,this.map=_}};function _s(d){this.l=d||10,c.PerformanceNavigationTiming?(d=c.performance.getEntriesByType("navigation"),d=0<d.length&&(d[0].nextHopProtocol=="hq"||d[0].nextHopProtocol=="h2")):d=!!(c.chrome&&c.chrome.loadTimes&&c.chrome.loadTimes()&&c.chrome.loadTimes().wasFetchedViaSpdy),this.j=d?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function wn(d){return d.h?!0:d.g?d.g.size>=d.j:!1}function Tu(d){return d.h?1:d.g?d.g.size:0}function rn(d,_){return d.h?d.h==_:d.g?d.g.has(_):!1}function Ka(d,_){d.g?d.g.add(_):d.h=_}function Iu(d,_){d.h&&d.h==_?d.h=null:d.g&&d.g.has(_)&&d.g.delete(_)}_s.prototype.cancel=function(){if(this.i=bu(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const d of this.g.values())d.cancel();this.g.clear()}};function bu(d){if(d.h!=null)return d.i.concat(d.h.D);if(d.g!=null&&d.g.size!==0){let _=d.i;for(const S of d.g.values())_=_.concat(S.D);return _}return I(d.i)}function ho(d){if(d.V&&typeof d.V=="function")return d.V();if(typeof Map<"u"&&d instanceof Map||typeof Set<"u"&&d instanceof Set)return Array.from(d.values());if(typeof d=="string")return d.split("");if(f(d)){for(var _=[],S=d.length,k=0;k<S;k++)_.push(d[k]);return _}_=[],S=0;for(k in d)_[S++]=d[k];return _}function po(d){if(d.na&&typeof d.na=="function")return d.na();if(!d.V||typeof d.V!="function"){if(typeof Map<"u"&&d instanceof Map)return Array.from(d.keys());if(!(typeof Set<"u"&&d instanceof Set)){if(f(d)||typeof d=="string"){var _=[];d=d.length;for(var S=0;S<d;S++)_.push(S);return _}_=[],S=0;for(const k in d)_[S++]=k;return _}}}function gi(d,_){if(d.forEach&&typeof d.forEach=="function")d.forEach(_,void 0);else if(f(d)||typeof d=="string")Array.prototype.forEach.call(d,_,void 0);else for(var S=po(d),k=ho(d),W=k.length,X=0;X<W;X++)_.call(void 0,k[X],S&&S[X],d)}var xs=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function _f(d,_){if(d){d=d.split("&");for(var S=0;S<d.length;S++){var k=d[S].indexOf("="),W=null;if(0<=k){var X=d[S].substring(0,k);W=d[S].substring(k+1)}else X=d[S];_(X,W?decodeURIComponent(W.replace(/\+/g," ")):"")}}}function Wr(d){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,d instanceof Wr){this.h=d.h,Es(this,d.j),this.o=d.o,this.g=d.g,yi(this,d.s),this.l=d.l;var _=d.i,S=new vr;S.i=_.i,_.g&&(S.g=new Map(_.g),S.h=_.h),vi(this,S),this.m=d.m}else d&&(_=String(d).match(xs))?(this.h=!1,Es(this,_[1]||"",!0),this.o=qe(_[2]||""),this.g=qe(_[3]||"",!0),yi(this,_[4]),this.l=qe(_[5]||"",!0),vi(this,_[6]||"",!0),this.m=qe(_[7]||"")):(this.h=!1,this.i=new vr(null,this.h))}Wr.prototype.toString=function(){var d=[],_=this.j;_&&d.push(_i(_,mo,!0),":");var S=this.g;return(S||_=="file")&&(d.push("//"),(_=this.o)&&d.push(_i(_,mo,!0),"@"),d.push(encodeURIComponent(String(S)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),S=this.s,S!=null&&d.push(":",String(S))),(S=this.l)&&(this.g&&S.charAt(0)!="/"&&d.push("/"),d.push(_i(S,S.charAt(0)=="/"?Nu:Au,!0))),(S=this.i.toString())&&d.push("?",S),(S=this.m)&&d.push("#",_i(S,qa)),d.join("")};function _n(d){return new Wr(d)}function Es(d,_,S){d.j=S?qe(_,!0):_,d.j&&(d.j=d.j.replace(/:$/,""))}function yi(d,_){if(_){if(_=Number(_),isNaN(_)||0>_)throw Error("Bad port number "+_);d.s=_}else d.s=null}function vi(d,_,S){_ instanceof vr?(d.i=_,wr(d.i,d.h)):(S||(_=_i(_,Pu)),d.i=new vr(_,d.h))}function tt(d,_,S){d.i.set(_,S)}function wi(d){return tt(d,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),d}function qe(d,_){return d?_?decodeURI(d.replace(/%25/g,"%2525")):decodeURIComponent(d):""}function _i(d,_,S){return typeof d=="string"?(d=encodeURI(d).replace(_,Ru),S&&(d=d.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),d):null}function Ru(d){return d=d.charCodeAt(0),"%"+(d>>4&15).toString(16)+(d&15).toString(16)}var mo=/[#\/\?@]/g,Au=/[#\?:]/g,Nu=/[#\?]/g,Pu=/[#\?@]/g,qa=/#/g;function vr(d,_){this.h=this.g=null,this.i=d||null,this.j=!!_}function $t(d){d.g||(d.g=new Map,d.h=0,d.i&&_f(d.i,function(_,S){d.add(decodeURIComponent(_.replace(/\+/g," ")),S)}))}n=vr.prototype,n.add=function(d,_){$t(this),this.i=null,d=kn(this,d);var S=this.g.get(d);return S||this.g.set(d,S=[]),S.push(_),this.h+=1,this};function Qn(d,_){$t(d),_=kn(d,_),d.g.has(_)&&(d.i=null,d.h-=d.g.get(_).length,d.g.delete(_))}function Yn(d,_){return $t(d),_=kn(d,_),d.g.has(_)}n.forEach=function(d,_){$t(this),this.g.forEach(function(S,k){S.forEach(function(W){d.call(_,W,k,this)},this)},this)},n.na=function(){$t(this);const d=Array.from(this.g.values()),_=Array.from(this.g.keys()),S=[];for(let k=0;k<_.length;k++){const W=d[k];for(let X=0;X<W.length;X++)S.push(_[k])}return S},n.V=function(d){$t(this);let _=[];if(typeof d=="string")Yn(this,d)&&(_=_.concat(this.g.get(kn(this,d))));else{d=Array.from(this.g.values());for(let S=0;S<d.length;S++)_=_.concat(d[S])}return _},n.set=function(d,_){return $t(this),this.i=null,d=kn(this,d),Yn(this,d)&&(this.h-=this.g.get(d).length),this.g.set(d,[_]),this.h+=1,this},n.get=function(d,_){return d?(d=this.V(d),0<d.length?String(d[0]):_):_};function xi(d,_,S){Qn(d,_),0<S.length&&(d.i=null,d.g.set(kn(d,_),I(S)),d.h+=S.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";const d=[],_=Array.from(this.g.keys());for(var S=0;S<_.length;S++){var k=_[S];const X=encodeURIComponent(String(k)),fe=this.V(k);for(k=0;k<fe.length;k++){var W=X;fe[k]!==""&&(W+="="+encodeURIComponent(String(fe[k]))),d.push(W)}}return this.i=d.join("&")};function kn(d,_){return _=String(_),d.j&&(_=_.toLowerCase()),_}function wr(d,_){_&&!d.j&&($t(d),d.i=null,d.g.forEach(function(S,k){var W=k.toLowerCase();k!=W&&(Qn(this,k),xi(this,W,S))},d)),d.j=_}function xf(d,_){const S=new gs;if(c.Image){const k=new Image;k.onload=T(ln,S,"TestLoadImage: loaded",!0,_,k),k.onerror=T(ln,S,"TestLoadImage: error",!1,_,k),k.onabort=T(ln,S,"TestLoadImage: abort",!1,_,k),k.ontimeout=T(ln,S,"TestLoadImage: timeout",!1,_,k),c.setTimeout(function(){k.ontimeout&&k.ontimeout()},1e4),k.src=d}else _(!1)}function ku(d,_){const S=new gs,k=new AbortController,W=setTimeout(()=>{k.abort(),ln(S,"TestPingServer: timeout",!1,_)},1e4);fetch(d,{signal:k.signal}).then(X=>{clearTimeout(W),X.ok?ln(S,"TestPingServer: ok",!0,_):ln(S,"TestPingServer: server error",!1,_)}).catch(()=>{clearTimeout(W),ln(S,"TestPingServer: error",!1,_)})}function ln(d,_,S,k,W){try{W&&(W.onload=null,W.onerror=null,W.onabort=null,W.ontimeout=null),k(S)}catch{}}function Ef(){this.g=new Va}function Du(d,_,S){const k=S||"";try{gi(d,function(W,X){let fe=W;h(W)&&(fe=La(W)),_.push(k+X+"="+encodeURIComponent(fe))})}catch(W){throw _.push(k+"type="+encodeURIComponent("_badmap")),W}}function Kr(d){this.l=d.Ub||null,this.j=d.eb||!1}C(Kr,ps),Kr.prototype.g=function(){return new Cs(this.l,this.j)},Kr.prototype.i=function(d){return function(){return d}}({});function Cs(d,_){Rt.call(this),this.D=d,this.o=_,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}C(Cs,Rt),n=Cs.prototype,n.open=function(d,_){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=d,this.A=_,this.readyState=1,Jn(this)},n.send=function(d){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const _={headers:this.u,method:this.B,credentials:this.m,cache:void 0};d&&(_.body=d),(this.D||c).fetch(new Request(this.A,_)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Xn(this)),this.readyState=0},n.Sa=function(d){if(this.g&&(this.l=d,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=d.headers,this.readyState=2,Jn(this)),this.g&&(this.readyState=3,Jn(this),this.g)))if(this.responseType==="arraybuffer")d.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof c.ReadableStream<"u"&&"body"in d){if(this.j=d.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Mu(this)}else d.text().then(this.Ra.bind(this),this.ga.bind(this))};function Mu(d){d.j.read().then(d.Pa.bind(d)).catch(d.ga.bind(d))}n.Pa=function(d){if(this.g){if(this.o&&d.value)this.response.push(d.value);else if(!this.o){var _=d.value?d.value:new Uint8Array(0);(_=this.v.decode(_,{stream:!d.done}))&&(this.response=this.responseText+=_)}d.done?Xn(this):Jn(this),this.readyState==3&&Mu(this)}},n.Ra=function(d){this.g&&(this.response=this.responseText=d,Xn(this))},n.Qa=function(d){this.g&&(this.response=d,Xn(this))},n.ga=function(){this.g&&Xn(this)};function Xn(d){d.readyState=4,d.l=null,d.j=null,d.v=null,Jn(d)}n.setRequestHeader=function(d,_){this.u.append(d,_)},n.getResponseHeader=function(d){return this.h&&this.h.get(d.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";const d=[],_=this.h.entries();for(var S=_.next();!S.done;)S=S.value,d.push(S[0]+": "+S[1]),S=_.next();return d.join(`\r
`)};function Jn(d){d.onreadystatechange&&d.onreadystatechange.call(d)}Object.defineProperty(Cs.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(d){this.m=d?"include":"same-origin"}});function qr(d){let _="";return Z(d,function(S,k){_+=k,_+=":",_+=S,_+=`\r
`}),_}function Ei(d,_,S){e:{for(k in S){var k=!1;break e}k=!0}k||(S=qr(S),typeof d=="string"?S!=null&&encodeURIComponent(String(S)):tt(d,_,S))}function dt(d){Rt.call(this),this.headers=new Map,this.o=d||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}C(dt,Rt);var Cf=/^https?$/i,Ga=["POST","PUT"];n=dt.prototype,n.Ha=function(d){this.J=d},n.ea=function(d,_,S,k){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+d);_=_?_.toUpperCase():"GET",this.D=d,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():qn.g(),this.v=this.o?io(this.o):io(qn),this.g.onreadystatechange=w(this.Ea,this);try{this.B=!0,this.g.open(_,String(d),!0),this.B=!1}catch(X){Ss(this,X);return}if(d=S||"",S=new Map(this.headers),k)if(Object.getPrototypeOf(k)===Object.prototype)for(var W in k)S.set(W,k[W]);else if(typeof k.keys=="function"&&typeof k.get=="function")for(const X of k.keys())S.set(X,k.get(X));else throw Error("Unknown input type for opt_headers: "+String(k));k=Array.from(S.keys()).find(X=>X.toLowerCase()=="content-type"),W=c.FormData&&d instanceof c.FormData,!(0<=Array.prototype.indexOf.call(Ga,_,void 0))||k||W||S.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[X,fe]of S)this.g.setRequestHeader(X,fe);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{yo(this),this.u=!0,this.g.send(d),this.u=!1}catch(X){Ss(this,X)}};function Ss(d,_){d.h=!1,d.g&&(d.j=!0,d.g.abort(),d.j=!1),d.l=_,d.m=5,go(d),xn(d)}function go(d){d.A||(d.A=!0,At(d,"complete"),At(d,"error"))}n.abort=function(d){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=d||7,At(this,"complete"),At(this,"abort"),xn(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),xn(this,!0)),dt.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Qa(this):this.bb())},n.bb=function(){Qa(this)};function Qa(d){if(d.h&&typeof l<"u"&&(!d.v[1]||un(d)!=4||d.Z()!=2)){if(d.u&&un(d)==4)Da(d.Ea,0,d);else if(At(d,"readystatechange"),un(d)==4){d.h=!1;try{const fe=d.Z();e:switch(fe){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var _=!0;break e;default:_=!1}var S;if(!(S=_)){var k;if(k=fe===0){var W=String(d.D).match(xs)[1]||null;!W&&c.self&&c.self.location&&(W=c.self.location.protocol.slice(0,-1)),k=!Cf.test(W?W.toLowerCase():"")}S=k}if(S)At(d,"complete"),At(d,"success");else{d.m=6;try{var X=2<un(d)?d.g.statusText:""}catch{X=""}d.l=X+" ["+d.Z()+"]",go(d)}}finally{xn(d)}}}}function xn(d,_){if(d.g){yo(d);const S=d.g,k=d.v[0]?()=>{}:null;d.g=null,d.v=null,_||At(d,"ready");try{S.onreadystatechange=k}catch{}}}function yo(d){d.I&&(c.clearTimeout(d.I),d.I=null)}n.isActive=function(){return!!this.g};function un(d){return d.g?d.g.readyState:0}n.Z=function(){try{return 2<un(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(d){if(this.g){var _=this.g.responseText;return d&&_.indexOf(d)==0&&(_=_.substring(d.length)),ja(_)}};function Ya(d){try{if(!d.g)return null;if("response"in d.g)return d.g.response;switch(d.H){case"":case"text":return d.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in d.g)return d.g.mozResponseArrayBuffer}return null}catch{return null}}function vo(d){const _={};d=(d.g&&2<=un(d)&&d.g.getAllResponseHeaders()||"").split(`\r
`);for(let k=0;k<d.length;k++){if(D(d[k]))continue;var S=F(d[k]);const W=S[0];if(S=S[1],typeof S!="string")continue;S=S.trim();const X=_[W]||[];_[W]=X,X.push(S)}L(_,function(k){return k.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function _r(d,_,S){return S&&S.internalChannelParams&&S.internalChannelParams[d]||_}function Xa(d){this.Aa=0,this.i=[],this.j=new gs,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=_r("failFast",!1,d),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=_r("baseRetryDelayMs",5e3,d),this.cb=_r("retryDelaySeedMs",1e4,d),this.Wa=_r("forwardChannelMaxRetries",2,d),this.wa=_r("forwardChannelRequestTimeoutMs",2e4,d),this.pa=d&&d.xmlHttpFactory||void 0,this.Xa=d&&d.Tb||void 0,this.Ca=d&&d.useFetchStreams||!1,this.L=void 0,this.J=d&&d.supportsCrossDomainXhr||!1,this.K="",this.h=new _s(d&&d.concurrentRequestLimit),this.Da=new Ef,this.P=d&&d.fastHandshake||!1,this.O=d&&d.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=d&&d.Rb||!1,d&&d.xa&&this.j.xa(),d&&d.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&d&&d.detectBufferingProxy||!1,this.ja=void 0,d&&d.longPollingTimeout&&0<d.longPollingTimeout&&(this.ja=d.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=Xa.prototype,n.la=8,n.G=1,n.connect=function(d,_,S,k){_t(0),this.W=d,this.H=_||{},S&&k!==void 0&&(this.H.OSID=S,this.H.OAID=k),this.F=this.X,this.I=Vu(this,null,this.W),xr(this)};function zt(d){if(wo(d),d.G==3){var _=d.U++,S=_n(d.I);if(tt(S,"SID",d.K),tt(S,"RID",_),tt(S,"TYPE","terminate"),Gr(d,S),_=new Gn(d,d.j,_),_.L=2,_.v=wi(_n(S)),S=!1,c.navigator&&c.navigator.sendBeacon)try{S=c.navigator.sendBeacon(_.v.toString(),"")}catch{}!S&&c.Image&&(new Image().src=_.v,S=!0),S||(_.g=Fu(_.j,null),_.g.ea(_.v)),_.F=Date.now(),rt(_)}ju(d)}function Zn(d){d.g&&(Ja(d),d.g.cancel(),d.g=null)}function wo(d){Zn(d),d.u&&(c.clearTimeout(d.u),d.u=null),Eo(d),d.h.cancel(),d.s&&(typeof d.s=="number"&&c.clearTimeout(d.s),d.s=null)}function xr(d){if(!wn(d.h)&&!d.s){d.s=!0;var _=d.Ga;de||le(),Q||(de(),Q=!0),te.add(_,d),d.B=0}}function Sf(d,_){return Tu(d.h)>=d.h.j-(d.s?1:0)?!1:d.s?(d.i=_.D.concat(d.i),!0):d.G==1||d.G==2||d.B>=(d.Va?0:d.Wa)?!1:(d.s=Wn(w(d.Ga,d,_),Lu(d,d.B)),d.B++,!0)}n.Ga=function(d){if(this.s)if(this.s=null,this.G==1){if(!d){this.U=Math.floor(1e5*Math.random()),d=this.U++;const W=new Gn(this,this.j,d);let X=this.o;if(this.S&&(X?(X=N(X),V(X,this.S)):X=this.S),this.m!==null||this.O||(W.H=X,X=null),this.P)e:{for(var _=0,S=0;S<this.i.length;S++){t:{var k=this.i[S];if("__data__"in k.map&&(k=k.map.__data__,typeof k=="string")){k=k.length;break t}k=void 0}if(k===void 0)break;if(_+=k,4096<_){_=S;break e}if(_===4096||S===this.i.length-1){_=S+1;break e}}_=1e3}else _=1e3;_=Ci(this,W,_),S=_n(this.I),tt(S,"RID",d),tt(S,"CVER",22),this.D&&tt(S,"X-HTTP-Session-Id",this.D),Gr(this,S),X&&(this.O?_="headers="+encodeURIComponent(String(qr(X)))+"&"+_:this.m&&Ei(S,this.m,X)),Ka(this.h,W),this.Ua&&tt(S,"TYPE","init"),this.P?(tt(S,"$req",_),tt(S,"SID","null"),W.T=!0,fo(W,S,null)):fo(W,S,_),this.G=2}}else this.G==3&&(d?_o(this,d):this.i.length==0||wn(this.h)||_o(this))};function _o(d,_){var S;_?S=_.l:S=d.U++;const k=_n(d.I);tt(k,"SID",d.K),tt(k,"RID",S),tt(k,"AID",d.T),Gr(d,k),d.m&&d.o&&Ei(k,d.m,d.o),S=new Gn(d,d.j,S,d.B+1),d.m===null&&(S.H=d.o),_&&(d.i=_.D.concat(d.i)),_=Ci(d,S,1e3),S.I=Math.round(.5*d.wa)+Math.round(.5*d.wa*Math.random()),Ka(d.h,S),fo(S,k,_)}function Gr(d,_){d.H&&Z(d.H,function(S,k){tt(_,k,S)}),d.l&&gi({},function(S,k){tt(_,k,S)})}function Ci(d,_,S){S=Math.min(d.i.length,S);var k=d.l?w(d.l.Na,d.l,d):null;e:{var W=d.i;let X=-1;for(;;){const fe=["count="+S];X==-1?0<S?(X=W[0].g,fe.push("ofs="+X)):X=0:fe.push("ofs="+X);let et=!0;for(let Nt=0;Nt<S;Nt++){let Ge=W[Nt].g;const Ot=W[Nt].map;if(Ge-=X,0>Ge)X=Math.max(0,W[Nt].g-100),et=!1;else try{Du(Ot,fe,"req"+Ge+"_")}catch{k&&k(Ot)}}if(et){k=fe.join("&");break e}}}return d=d.i.splice(0,S),_.D=d,k}function Ts(d){if(!d.g&&!d.u){d.Y=1;var _=d.Fa;de||le(),Q||(de(),Q=!0),te.add(_,d),d.v=0}}function xo(d){return d.g||d.u||3<=d.v?!1:(d.Y++,d.u=Wn(w(d.Fa,d),Lu(d,d.v)),d.v++,!0)}n.Fa=function(){if(this.u=null,Ou(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var d=2*this.R;this.j.info("BP detection timer enabled: "+d),this.A=Wn(w(this.ab,this),d)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,_t(10),Zn(this),Ou(this))};function Ja(d){d.A!=null&&(c.clearTimeout(d.A),d.A=null)}function Ou(d){d.g=new Gn(d,d.j,"rpc",d.Y),d.m===null&&(d.g.H=d.o),d.g.O=0;var _=_n(d.qa);tt(_,"RID","rpc"),tt(_,"SID",d.K),tt(_,"AID",d.T),tt(_,"CI",d.F?"0":"1"),!d.F&&d.ja&&tt(_,"TO",d.ja),tt(_,"TYPE","xmlhttp"),Gr(d,_),d.m&&d.o&&Ei(_,d.m,d.o),d.L&&(d.g.I=d.L);var S=d.g;d=d.ia,S.L=1,S.v=wi(_n(_)),S.m=null,S.P=!0,Ha(S,d)}n.Za=function(){this.C!=null&&(this.C=null,Zn(this),xo(this),_t(19))};function Eo(d){d.C!=null&&(c.clearTimeout(d.C),d.C=null)}function Co(d,_){var S=null;if(d.g==_){Eo(d),Ja(d),d.g=null;var k=2}else if(rn(d.h,_))S=_.D,Iu(d.h,_),k=1;else return;if(d.G!=0){if(_.o)if(k==1){S=_.m?_.m.length:0,_=Date.now()-_.F;var W=d.B;k=ms(),At(k,new ao(k,S)),xr(d)}else Ts(d);else if(W=_.s,W==3||W==0&&0<_.X||!(k==1&&Sf(d,_)||k==2&&xo(d)))switch(S&&0<S.length&&(_=d.h,_.i=_.i.concat(S)),W){case 1:Qr(d,5);break;case 4:Qr(d,10);break;case 3:Qr(d,6);break;default:Qr(d,2)}}}function Lu(d,_){let S=d.Ta+Math.floor(Math.random()*d.cb);return d.isActive()||(S*=2),S*_}function Qr(d,_){if(d.j.info("Error code "+_),_==2){var S=w(d.fb,d),k=d.Xa;const W=!k;k=new Wr(k||"//www.google.com/images/cleardot.gif"),c.location&&c.location.protocol=="http"||Es(k,"https"),wi(k),W?xf(k.toString(),S):ku(k.toString(),S)}else _t(2);d.G=0,d.l&&d.l.sa(_),ju(d),wo(d)}n.fb=function(d){d?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function ju(d){if(d.G=0,d.ka=[],d.l){const _=bu(d.h);(_.length!=0||d.i.length!=0)&&(b(d.ka,_),b(d.ka,d.i),d.h.i.length=0,I(d.i),d.i.length=0),d.l.ra()}}function Vu(d,_,S){var k=S instanceof Wr?_n(S):new Wr(S);if(k.g!="")_&&(k.g=_+"."+k.g),yi(k,k.s);else{var W=c.location;k=W.protocol,_=_?_+"."+W.hostname:W.hostname,W=+W.port;var X=new Wr(null);k&&Es(X,k),_&&(X.g=_),W&&yi(X,W),S&&(X.l=S),k=X}return S=d.D,_=d.ya,S&&_&&tt(k,S,_),tt(k,"VER",d.la),Gr(d,k),k}function Fu(d,_,S){if(_&&!d.J)throw Error("Can't create secondary domain capable XhrIo object.");return _=d.Ca&&!d.pa?new dt(new Kr({eb:S})):new dt(d.pa),_.Ha(d.J),_}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function Za(){}n=Za.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function So(){}So.prototype.g=function(d,_){return new sn(d,_)};function sn(d,_){Rt.call(this),this.g=new Xa(_),this.l=d,this.h=_&&_.messageUrlParams||null,d=_&&_.messageHeaders||null,_&&_.clientProtocolHeaderRequired&&(d?d["X-Client-Protocol"]="webchannel":d={"X-Client-Protocol":"webchannel"}),this.g.o=d,d=_&&_.initMessageHeaders||null,_&&_.messageContentType&&(d?d["X-WebChannel-Content-Type"]=_.messageContentType:d={"X-WebChannel-Content-Type":_.messageContentType}),_&&_.va&&(d?d["X-WebChannel-Client-Profile"]=_.va:d={"X-WebChannel-Client-Profile":_.va}),this.g.S=d,(d=_&&_.Sb)&&!D(d)&&(this.g.m=d),this.v=_&&_.supportsCrossDomainXhr||!1,this.u=_&&_.sendRawJson||!1,(_=_&&_.httpSessionIdParam)&&!D(_)&&(this.g.D=_,d=this.h,d!==null&&_ in d&&(d=this.h,_ in d&&delete d[_])),this.j=new Er(this)}C(sn,Rt),sn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},sn.prototype.close=function(){zt(this.g)},sn.prototype.o=function(d){var _=this.g;if(typeof d=="string"){var S={};S.__data__=d,d=S}else this.u&&(S={},S.__data__=La(d),d=S);_.i.push(new Su(_.Ya++,d)),_.G==3&&xr(_)},sn.prototype.N=function(){this.g.l=null,delete this.j,zt(this.g),delete this.g,sn.aa.N.call(this)};function $u(d){gr.call(this),d.__headers__&&(this.headers=d.__headers__,this.statusCode=d.__status__,delete d.__headers__,delete d.__status__);var _=d.__sm__;if(_){e:{for(const S in _){d=S;break e}d=void 0}(this.i=d)&&(d=this.i,_=_!==null&&d in _?_[d]:void 0),this.data=_}else this.data=d}C($u,gr);function zu(){oo.call(this),this.status=1}C(zu,oo);function Er(d){this.g=d}C(Er,Za),Er.prototype.ua=function(){At(this.g,"a")},Er.prototype.ta=function(d){At(this.g,new $u(d))},Er.prototype.sa=function(d){At(this.g,new zu)},Er.prototype.ra=function(){At(this.g,"b")},So.prototype.createWebChannel=So.prototype.g,sn.prototype.send=sn.prototype.o,sn.prototype.open=sn.prototype.m,sn.prototype.close=sn.prototype.close,Ex=function(){return new So},xx=function(){return ms()},_x=yr,bp={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},uo.NO_ERROR=0,uo.TIMEOUT=8,uo.HTTP_ERROR=6,Jc=uo,_u.COMPLETE="complete",wx=_u,so.EventType=Nn,Nn.OPEN="a",Nn.CLOSE="b",Nn.ERROR="c",Nn.MESSAGE="d",Rt.prototype.listen=Rt.prototype.K,Al=so,dt.prototype.listenOnce=dt.prototype.L,dt.prototype.getLastError=dt.prototype.Ka,dt.prototype.getLastErrorCode=dt.prototype.Ba,dt.prototype.getStatus=dt.prototype.Z,dt.prototype.getResponseJson=dt.prototype.Oa,dt.prototype.getResponseText=dt.prototype.oa,dt.prototype.send=dt.prototype.ea,dt.prototype.setWithCredentials=dt.prototype.Ha,vx=dt}).apply(typeof Lc<"u"?Lc:typeof self<"u"?self:typeof window<"u"?window:{});const Bw="@firebase/firestore",Hw="4.7.17";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class en{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}en.UNAUTHENTICATED=new en(null),en.GOOGLE_CREDENTIALS=new en("google-credentials-uid"),en.FIRST_PARTY=new en("first-party-uid"),en.MOCK_USER=new en("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xa="11.9.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bs=new dx("@firebase/firestore");function Yo(){return Bs.logLevel}function ge(n,...e){if(Bs.logLevel<=Ye.DEBUG){const t=e.map(qm);Bs.debug(`Firestore (${xa}): ${n}`,...t)}}function ui(n,...e){if(Bs.logLevel<=Ye.ERROR){const t=e.map(qm);Bs.error(`Firestore (${xa}): ${n}`,...t)}}function aa(n,...e){if(Bs.logLevel<=Ye.WARN){const t=e.map(qm);Bs.warn(`Firestore (${xa}): ${n}`,...t)}}function qm(n){if(typeof n=="string")return n;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(t){return JSON.stringify(t)}(n)}catch{return n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Re(n,e,t){let r="Unexpected state";typeof e=="string"?r=e:t=e,Cx(n,r,t)}function Cx(n,e,t){let r=`FIRESTORE (${xa}) INTERNAL ASSERTION FAILED: ${e} (ID: ${n.toString(16)})`;if(t!==void 0)try{r+=" CONTEXT: "+JSON.stringify(t)}catch{r+=" CONTEXT: "+t}throw ui(r),new Error(r)}function Ze(n,e,t,r){let s="Unexpected state";typeof t=="string"?s=t:r=t,n||Cx(e,s,r)}function Oe(n,e){return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const re={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class ve extends _a{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gi{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sx{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class XA{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(en.UNAUTHENTICATED))}shutdown(){}}class JA{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}}class ZA{constructor(e){this.t=e,this.currentUser=en.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Ze(this.o===void 0,42304);let r=this.i;const s=f=>this.i!==r?(r=this.i,t(f)):Promise.resolve();let a=new Gi;this.o=()=>{this.i++,this.currentUser=this.u(),a.resolve(),a=new Gi,e.enqueueRetryable(()=>s(this.currentUser))};const l=()=>{const f=a;e.enqueueRetryable(async()=>{await f.promise,await s(this.currentUser)})},c=f=>{ge("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=f,this.o&&(this.auth.addAuthTokenListener(this.o),l())};this.t.onInit(f=>c(f)),setTimeout(()=>{if(!this.auth){const f=this.t.getImmediate({optional:!0});f?c(f):(ge("FirebaseAuthCredentialsProvider","Auth not yet detected"),a.resolve(),a=new Gi)}},0),l()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(ge("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ze(typeof r.accessToken=="string",31837,{l:r}),new Sx(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ze(e===null||typeof e=="string",2055,{h:e}),new en(e)}}class eN{constructor(e,t,r){this.P=e,this.T=t,this.I=r,this.type="FirstParty",this.user=en.FIRST_PARTY,this.A=new Map}R(){return this.I?this.I():null}get headers(){this.A.set("X-Goog-AuthUser",this.P);const e=this.R();return e&&this.A.set("Authorization",e),this.T&&this.A.set("X-Goog-Iam-Authorization-Token",this.T),this.A}}class tN{constructor(e,t,r){this.P=e,this.T=t,this.I=r}getToken(){return Promise.resolve(new eN(this.P,this.T,this.I))}start(e,t){e.enqueueRetryable(()=>t(en.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ww{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class nN{constructor(e,t){this.V=t,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,LA(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,t){Ze(this.o===void 0,3512);const r=a=>{a.error!=null&&ge("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${a.error.message}`);const l=a.token!==this.m;return this.m=a.token,ge("FirebaseAppCheckTokenProvider",`Received ${l?"new":"existing"} token.`),l?t(a.token):Promise.resolve()};this.o=a=>{e.enqueueRetryable(()=>r(a))};const s=a=>{ge("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=a,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(a=>s(a)),setTimeout(()=>{if(!this.appCheck){const a=this.V.getImmediate({optional:!0});a?s(a):ge("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ww(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Ze(typeof t.token=="string",44558,{tokenResult:t}),this.m=t.token,new Ww(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rN(n){const e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Tx(){return new TextEncoder}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ix{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=rN(40);for(let a=0;a<s.length;++a)r.length<20&&s[a]<t&&(r+=e.charAt(s[a]%62))}return r}}function $e(n,e){return n<e?-1:n>e?1:0}function Rp(n,e){let t=0;for(;t<n.length&&t<e.length;){const r=n.codePointAt(t),s=e.codePointAt(t);if(r!==s){if(r<128&&s<128)return $e(r,s);{const a=Tx(),l=iN(a.encode(Kw(n,t)),a.encode(Kw(e,t)));return l!==0?l:$e(r,s)}}t+=r>65535?2:1}return $e(n.length,e.length)}function Kw(n,e){return n.codePointAt(e)>65535?n.substring(e,e+2):n.substring(e,e+1)}function iN(n,e){for(let t=0;t<n.length&&t<e.length;++t)if(n[t]!==e[t])return $e(n[t],e[t]);return $e(n.length,e.length)}function la(n,e,t){return n.length===e.length&&n.every((r,s)=>t(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const qw=-62135596800,Gw=1e6;class Ct{static now(){return Ct.fromMillis(Date.now())}static fromDate(e){return Ct.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),r=Math.floor((e-1e3*t)*Gw);return new Ct(t,r)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new ve(re.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<qw)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new ve(re.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Gw}_compareTo(e){return this.seconds===e.seconds?$e(this.nanoseconds,e.nanoseconds):$e(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds-qw;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class De{static fromTimestamp(e){return new De(e)}static min(){return new De(new Ct(0,0))}static max(){return new De(new Ct(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qw="__name__";class Rr{constructor(e,t,r){t===void 0?t=0:t>e.length&&Re(637,{offset:t,range:e.length}),r===void 0?r=e.length-t:r>e.length-t&&Re(1746,{length:r,range:e.length-t}),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return Rr.comparator(this,e)===0}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Rr?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const r=Math.min(e.length,t.length);for(let s=0;s<r;s++){const a=Rr.compareSegments(e.get(s),t.get(s));if(a!==0)return a}return $e(e.length,t.length)}static compareSegments(e,t){const r=Rr.isNumericId(e),s=Rr.isNumericId(t);return r&&!s?-1:!r&&s?1:r&&s?Rr.extractNumericId(e).compare(Rr.extractNumericId(t)):Rp(e,t)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return qi.fromString(e.substring(4,e.length-2))}}class ct extends Rr{construct(e,t,r){return new ct(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const t=[];for(const r of e){if(r.indexOf("//")>=0)throw new ve(re.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(s=>s.length>0))}return new ct(t)}static emptyPath(){return new ct([])}}const sN=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Kt extends Rr{construct(e,t,r){return new Kt(e,t,r)}static isValidIdentifier(e){return sN.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Qw}static keyField(){return new Kt([Qw])}static fromServerFormat(e){const t=[];let r="",s=0;const a=()=>{if(r.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""};let l=!1;for(;s<e.length;){const c=e[s];if(c==="\\"){if(s+1===e.length)throw new ve(re.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const f=e[s+1];if(f!=="\\"&&f!=="."&&f!=="`")throw new ve(re.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=f,s+=2}else c==="`"?(l=!l,s++):c!=="."||l?(r+=c,s++):(a(),s++)}if(a(),l)throw new ve(re.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Kt(t)}static emptyPath(){return new Kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Se{constructor(e){this.path=e}static fromPath(e){return new Se(ct.fromString(e))}static fromName(e){return new Se(ct.fromString(e).popFirst(5))}static empty(){return new Se(ct.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&ct.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return ct.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Se(new ct(e.slice()))}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Xl=-1;function oN(n,e){const t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,s=De.fromTimestamp(r===1e9?new Ct(t+1,0):new Ct(t,r));return new Xi(s,Se.empty(),e)}function aN(n){return new Xi(n.readTime,n.key,Xl)}class Xi{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new Xi(De.min(),Se.empty(),Xl)}static max(){return new Xi(De.max(),Se.empty(),Xl)}}function lN(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Se.comparator(n.documentKey,e.documentKey),t!==0?t:$e(n.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uN="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class cN{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Ea(n){if(n.code!==re.FAILED_PRECONDITION||n.message!==uN)throw n;ge("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ne{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&Re(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new ne((r,s)=>{this.nextCallback=a=>{this.wrapSuccess(e,a).next(r,s)},this.catchCallback=a=>{this.wrapFailure(t,a).next(r,s)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{const t=e();return t instanceof ne?t:ne.resolve(t)}catch(t){return ne.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):ne.reject(t)}static resolve(e){return new ne((t,r)=>{t(e)})}static reject(e){return new ne((t,r)=>{r(e)})}static waitFor(e){return new ne((t,r)=>{let s=0,a=0,l=!1;e.forEach(c=>{++s,c.next(()=>{++a,l&&a===s&&t()},f=>r(f))}),l=!0,a===s&&t()})}static or(e){let t=ne.resolve(!1);for(const r of e)t=t.next(s=>s?ne.resolve(s):r());return t}static forEach(e,t){const r=[];return e.forEach((s,a)=>{r.push(t.call(this,s,a))}),this.waitFor(r)}static mapArray(e,t){return new ne((r,s)=>{const a=e.length,l=new Array(a);let c=0;for(let f=0;f<a;f++){const h=f;t(e[h]).next(m=>{l[h]=m,++c,c===a&&r(l)},m=>s(m))}})}static doWhile(e,t){return new ne((r,s)=>{const a=()=>{e()===!0?t().next(()=>{a()},s):r()};a()})}}function dN(n){const e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function Ca(n){return n.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zd{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=r=>this.ue(r),this.ce=r=>t.writeSequenceNumber(r))}ue(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ce&&this.ce(e),e}}zd.le=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Gm=-1;function Ud(n){return n==null}function pd(n){return n===0&&1/n==-1/0}function fN(n){return typeof n=="number"&&Number.isInteger(n)&&!pd(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bx="";function hN(n){let e="";for(let t=0;t<n.length;t++)e.length>0&&(e=Yw(e)),e=pN(n.get(t),e);return Yw(e)}function pN(n,e){let t=e;const r=n.length;for(let s=0;s<r;s++){const a=n.charAt(s);switch(a){case"\0":t+="";break;case bx:t+="";break;default:t+=a}}return t}function Yw(n){return n+bx+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Xw(n){let e=0;for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function os(n,e){for(const t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function Rx(n){for(const e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gt{constructor(e,t){this.comparator=e,this.root=t||Ht.EMPTY}insert(e,t){return new gt(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,Ht.BLACK,null,null))}remove(e){return new gt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ht.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return t+r.left.size;s<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){const e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new jc(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new jc(this.root,e,this.comparator,!1)}getReverseIterator(){return new jc(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new jc(this.root,e,this.comparator,!0)}}class jc{constructor(e,t,r,s){this.isReverse=s,this.nodeStack=[];let a=1;for(;!e.isEmpty();)if(a=t?r(e.key,t):1,t&&s&&(a*=-1),a<0)e=this.isReverse?e.left:e.right;else{if(a===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ht{constructor(e,t,r,s,a){this.key=e,this.value=t,this.color=r??Ht.RED,this.left=s??Ht.EMPTY,this.right=a??Ht.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,s,a){return new Ht(e??this.key,t??this.value,r??this.color,s??this.left,a??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let s=this;const a=r(e,s.key);return s=a<0?s.copy(null,null,null,s.left.insert(e,t,r),null):a===0?s.copy(null,t,null,null,null):s.copy(null,null,null,null,s.right.insert(e,t,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ht.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,s=this;if(t(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,t),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),t(e,s.key)===0){if(s.right.isEmpty())return Ht.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,t))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ht.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ht.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw Re(43730,{key:this.key,value:this.value});if(this.right.isRed())throw Re(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw Re(27949);return e+(this.isRed()?0:1)}}Ht.EMPTY=null,Ht.RED=!0,Ht.BLACK=!1;Ht.EMPTY=new class{constructor(){this.size=0}get key(){throw Re(57766)}get value(){throw Re(16141)}get color(){throw Re(16727)}get left(){throw Re(29726)}get right(){throw Re(36894)}copy(e,t,r,s,a){return this}insert(e,t,r){return new Ht(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dt{constructor(e){this.comparator=e,this.data=new gt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;t(s.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new Jw(this.data.getIterator())}getIteratorFrom(e){return new Jw(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof Dt)||this.size!==e.size)return!1;const t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(this.comparator(s,a)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(t=>{e.push(t)}),e}toString(){const e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){const t=new Dt(this.comparator);return t.data=e,t}}class Jw{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bn{constructor(e){this.fields=e,e.sort(Kt.comparator)}static empty(){return new bn([])}unionWith(e){let t=new Dt(Kt.comparator);for(const r of this.fields)t=t.add(r);for(const r of e)t=t.add(r);return new bn(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return la(this.fields,e.fields,(t,r)=>t.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ax extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qt{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(s){try{return atob(s)}catch(a){throw typeof DOMException<"u"&&a instanceof DOMException?new Ax("Invalid base64 string: "+a):a}}(e);return new qt(t)}static fromUint8Array(e){const t=function(s){let a="";for(let l=0;l<s.length;++l)a+=String.fromCharCode(s[l]);return a}(e);return new qt(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){const r=new Uint8Array(t.length);for(let s=0;s<t.length;s++)r[s]=t.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return $e(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}qt.EMPTY_BYTE_STRING=new qt("");const mN=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Ji(n){if(Ze(!!n,39018),typeof n=="string"){let e=0;const t=mN.exec(n);if(Ze(!!t,46558,{timestamp:n}),t[1]){let s=t[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:Et(n.seconds),nanos:Et(n.nanos)}}function Et(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function Zi(n){return typeof n=="string"?qt.fromBase64String(n):qt.fromUint8Array(n)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Nx="server_timestamp",Px="__type__",kx="__previous_value__",Dx="__local_write_time__";function Qm(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Px])===null||t===void 0?void 0:t.stringValue)===Nx}function Bd(n){const e=n.mapValue.fields[kx];return Qm(e)?Bd(e):e}function Jl(n){const e=Ji(n.mapValue.fields[Dx].timestampValue);return new Ct(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gN{constructor(e,t,r,s,a,l,c,f,h,m){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=s,this.ssl=a,this.forceLongPolling=l,this.autoDetectLongPolling=c,this.longPollingOptions=f,this.useFetchStreams=h,this.isUsingEmulator=m}}const md="(default)";class Zl{constructor(e,t){this.projectId=e,this.database=t||md}static empty(){return new Zl("","")}get isDefaultDatabase(){return this.database===md}isEqual(e){return e instanceof Zl&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Mx="__type__",yN="__max__",Vc={mapValue:{}},Ox="__vector__",gd="value";function es(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?Qm(n)?4:wN(n)?9007199254740991:vN(n)?10:11:Re(28295,{value:n})}function Vr(n,e){if(n===e)return!0;const t=es(n);if(t!==es(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Jl(n).isEqual(Jl(e));case 3:return function(s,a){if(typeof s.timestampValue=="string"&&typeof a.timestampValue=="string"&&s.timestampValue.length===a.timestampValue.length)return s.timestampValue===a.timestampValue;const l=Ji(s.timestampValue),c=Ji(a.timestampValue);return l.seconds===c.seconds&&l.nanos===c.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(s,a){return Zi(s.bytesValue).isEqual(Zi(a.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(s,a){return Et(s.geoPointValue.latitude)===Et(a.geoPointValue.latitude)&&Et(s.geoPointValue.longitude)===Et(a.geoPointValue.longitude)}(n,e);case 2:return function(s,a){if("integerValue"in s&&"integerValue"in a)return Et(s.integerValue)===Et(a.integerValue);if("doubleValue"in s&&"doubleValue"in a){const l=Et(s.doubleValue),c=Et(a.doubleValue);return l===c?pd(l)===pd(c):isNaN(l)&&isNaN(c)}return!1}(n,e);case 9:return la(n.arrayValue.values||[],e.arrayValue.values||[],Vr);case 10:case 11:return function(s,a){const l=s.mapValue.fields||{},c=a.mapValue.fields||{};if(Xw(l)!==Xw(c))return!1;for(const f in l)if(l.hasOwnProperty(f)&&(c[f]===void 0||!Vr(l[f],c[f])))return!1;return!0}(n,e);default:return Re(52216,{left:n})}}function eu(n,e){return(n.values||[]).find(t=>Vr(t,e))!==void 0}function ua(n,e){if(n===e)return 0;const t=es(n),r=es(e);if(t!==r)return $e(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return $e(n.booleanValue,e.booleanValue);case 2:return function(a,l){const c=Et(a.integerValue||a.doubleValue),f=Et(l.integerValue||l.doubleValue);return c<f?-1:c>f?1:c===f?0:isNaN(c)?isNaN(f)?0:-1:1}(n,e);case 3:return Zw(n.timestampValue,e.timestampValue);case 4:return Zw(Jl(n),Jl(e));case 5:return Rp(n.stringValue,e.stringValue);case 6:return function(a,l){const c=Zi(a),f=Zi(l);return c.compareTo(f)}(n.bytesValue,e.bytesValue);case 7:return function(a,l){const c=a.split("/"),f=l.split("/");for(let h=0;h<c.length&&h<f.length;h++){const m=$e(c[h],f[h]);if(m!==0)return m}return $e(c.length,f.length)}(n.referenceValue,e.referenceValue);case 8:return function(a,l){const c=$e(Et(a.latitude),Et(l.latitude));return c!==0?c:$e(Et(a.longitude),Et(l.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return e0(n.arrayValue,e.arrayValue);case 10:return function(a,l){var c,f,h,m;const v=a.fields||{},w=l.fields||{},T=(c=v[gd])===null||c===void 0?void 0:c.arrayValue,C=(f=w[gd])===null||f===void 0?void 0:f.arrayValue,I=$e(((h=T==null?void 0:T.values)===null||h===void 0?void 0:h.length)||0,((m=C==null?void 0:C.values)===null||m===void 0?void 0:m.length)||0);return I!==0?I:e0(T,C)}(n.mapValue,e.mapValue);case 11:return function(a,l){if(a===Vc.mapValue&&l===Vc.mapValue)return 0;if(a===Vc.mapValue)return 1;if(l===Vc.mapValue)return-1;const c=a.fields||{},f=Object.keys(c),h=l.fields||{},m=Object.keys(h);f.sort(),m.sort();for(let v=0;v<f.length&&v<m.length;++v){const w=Rp(f[v],m[v]);if(w!==0)return w;const T=ua(c[f[v]],h[m[v]]);if(T!==0)return T}return $e(f.length,m.length)}(n.mapValue,e.mapValue);default:throw Re(23264,{Pe:t})}}function Zw(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return $e(n,e);const t=Ji(n),r=Ji(e),s=$e(t.seconds,r.seconds);return s!==0?s:$e(t.nanos,r.nanos)}function e0(n,e){const t=n.values||[],r=e.values||[];for(let s=0;s<t.length&&s<r.length;++s){const a=ua(t[s],r[s]);if(a)return a}return $e(t.length,r.length)}function ca(n){return Ap(n)}function Ap(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){const r=Ji(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return Zi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Se.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",s=!0;for(const a of t.values||[])s?s=!1:r+=",",r+=Ap(a);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){const r=Object.keys(t.fields||{}).sort();let s="{",a=!0;for(const l of r)a?a=!1:s+=",",s+=`${l}:${Ap(t.fields[l])}`;return s+"}"}(n.mapValue):Re(61005,{value:n})}function Zc(n){switch(es(n)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Bd(n);return e?16+Zc(e):16;case 5:return 2*n.stringValue.length;case 6:return Zi(n.bytesValue).approximateByteSize();case 7:return n.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,a)=>s+Zc(a),0)}(n.arrayValue);case 10:case 11:return function(r){let s=0;return os(r.fields,(a,l)=>{s+=a.length+Zc(l)}),s}(n.mapValue);default:throw Re(13486,{value:n})}}function t0(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function Np(n){return!!n&&"integerValue"in n}function Ym(n){return!!n&&"arrayValue"in n}function n0(n){return!!n&&"nullValue"in n}function r0(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function ed(n){return!!n&&"mapValue"in n}function vN(n){var e,t;return((t=(((e=n==null?void 0:n.mapValue)===null||e===void 0?void 0:e.fields)||{})[Mx])===null||t===void 0?void 0:t.stringValue)===Ox}function Ul(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){const e={mapValue:{fields:{}}};return os(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Ul(r)),e}if(n.arrayValue){const e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Ul(n.arrayValue.values[t]);return e}return Object.assign({},n)}function wN(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue===yN}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yn{constructor(e){this.value=e}static empty(){return new yn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!ed(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Ul(t)}setAll(e){let t=Kt.emptyPath(),r={},s=[];e.forEach((l,c)=>{if(!t.isImmediateParentOf(c)){const f=this.getFieldsMap(t);this.applyChanges(f,r,s),r={},s=[],t=c.popLast()}l?r[c.lastSegment()]=Ul(l):s.push(c.lastSegment())});const a=this.getFieldsMap(t);this.applyChanges(a,r,s)}delete(e){const t=this.field(e.popLast());ed(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return Vr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=t.mapValue.fields[e.get(r)];ed(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=s),t=s}return t.mapValue.fields}applyChanges(e,t,r){os(t,(s,a)=>e[s]=a);for(const s of r)delete e[s]}clone(){return new yn(Ul(this.value))}}function Lx(n){const e=[];return os(n.fields,(t,r)=>{const s=new Kt([t]);if(ed(r)){const a=Lx(r.mapValue).fields;if(a.length===0)e.push(s);else for(const l of a)e.push(s.child(l))}else e.push(s)}),new bn(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tn{constructor(e,t,r,s,a,l,c){this.key=e,this.documentType=t,this.version=r,this.readTime=s,this.createTime=a,this.data=l,this.documentState=c}static newInvalidDocument(e){return new tn(e,0,De.min(),De.min(),De.min(),yn.empty(),0)}static newFoundDocument(e,t,r,s){return new tn(e,1,t,De.min(),r,s,0)}static newNoDocument(e,t){return new tn(e,2,t,De.min(),De.min(),yn.empty(),0)}static newUnknownDocument(e,t){return new tn(e,3,t,De.min(),De.min(),yn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(De.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=yn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=yn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=De.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof tn&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new tn(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,t){this.position=e,this.inclusive=t}}function i0(n,e,t){let r=0;for(let s=0;s<n.position.length;s++){const a=e[s],l=n.position[s];if(a.field.isKeyField()?r=Se.comparator(Se.fromName(l.referenceValue),t.key):r=ua(l,t.data.field(a.field)),a.dir==="desc"&&(r*=-1),r!==0)break}return r}function s0(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!Vr(n.position[t],e.position[t]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tu{constructor(e,t="asc"){this.field=e,this.dir=t}}function _N(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jx{}class bt extends jx{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new EN(e,t,r):t==="array-contains"?new TN(e,r):t==="in"?new IN(e,r):t==="not-in"?new bN(e,r):t==="array-contains-any"?new RN(e,r):new bt(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new CN(e,r):new SN(e,r)}matches(e){const t=e.data.field(this.field);return this.op==="!="?t!==null&&t.nullValue===void 0&&this.matchesComparison(ua(t,this.value)):t!==null&&es(this.value)===es(t)&&this.matchesComparison(ua(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return Re(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class cr extends jx{constructor(e,t){super(),this.filters=e,this.op=t,this.Te=null}static create(e,t){return new cr(e,t)}matches(e){return Vx(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.Te!==null||(this.Te=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.Te}getFilters(){return Object.assign([],this.filters)}}function Vx(n){return n.op==="and"}function Fx(n){return xN(n)&&Vx(n)}function xN(n){for(const e of n.filters)if(e instanceof cr)return!1;return!0}function Pp(n){if(n instanceof bt)return n.field.canonicalString()+n.op.toString()+ca(n.value);if(Fx(n))return n.filters.map(e=>Pp(e)).join(",");{const e=n.filters.map(t=>Pp(t)).join(",");return`${n.op}(${e})`}}function $x(n,e){return n instanceof bt?function(r,s){return s instanceof bt&&r.op===s.op&&r.field.isEqual(s.field)&&Vr(r.value,s.value)}(n,e):n instanceof cr?function(r,s){return s instanceof cr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((a,l,c)=>a&&$x(l,s.filters[c]),!0):!1}(n,e):void Re(19439)}function zx(n){return n instanceof bt?function(t){return`${t.field.canonicalString()} ${t.op} ${ca(t.value)}`}(n):n instanceof cr?function(t){return t.op.toString()+" {"+t.getFilters().map(zx).join(" ,")+"}"}(n):"Filter"}class EN extends bt{constructor(e,t,r){super(e,t,r),this.key=Se.fromName(r.referenceValue)}matches(e){const t=Se.comparator(e.key,this.key);return this.matchesComparison(t)}}class CN extends bt{constructor(e,t){super(e,"in",t),this.keys=Ux("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}}class SN extends bt{constructor(e,t){super(e,"not-in",t),this.keys=Ux("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}}function Ux(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Se.fromName(r.referenceValue))}class TN extends bt{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Ym(t)&&eu(t.arrayValue,this.value)}}class IN extends bt{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return t!==null&&eu(this.value.arrayValue,t)}}class bN extends bt{constructor(e,t){super(e,"not-in",t)}matches(e){if(eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return t!==null&&t.nullValue===void 0&&!eu(this.value.arrayValue,t)}}class RN extends bt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Ym(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AN{constructor(e,t=null,r=[],s=[],a=null,l=null,c=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=s,this.limit=a,this.startAt=l,this.endAt=c,this.Ie=null}}function o0(n,e=null,t=[],r=[],s=null,a=null,l=null){return new AN(n,e,t,r,s,a,l)}function Xm(n){const e=Oe(n);if(e.Ie===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>Pp(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(a){return a.field.canonicalString()+a.dir}(r)).join(","),Ud(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>ca(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>ca(r)).join(",")),e.Ie=t}return e.Ie}function Jm(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!_N(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!$x(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!s0(n.startAt,e.startAt)&&s0(n.endAt,e.endAt)}function kp(n){return Se.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Sa{constructor(e,t=null,r=[],s=[],a=null,l="F",c=null,f=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=s,this.limit=a,this.limitType=l,this.startAt=c,this.endAt=f,this.Ee=null,this.de=null,this.Ae=null,this.startAt,this.endAt}}function NN(n,e,t,r,s,a,l,c){return new Sa(n,e,t,r,s,a,l,c)}function Zm(n){return new Sa(n)}function a0(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function Bx(n){return n.collectionGroup!==null}function Bl(n){const e=Oe(n);if(e.Ee===null){e.Ee=[];const t=new Set;for(const a of e.explicitOrderBy)e.Ee.push(a),t.add(a.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(l){let c=new Dt(Kt.comparator);return l.filters.forEach(f=>{f.getFlattenedFilters().forEach(h=>{h.isInequality()&&(c=c.add(h.field))})}),c})(e).forEach(a=>{t.has(a.canonicalString())||a.isKeyField()||e.Ee.push(new tu(a,r))}),t.has(Kt.keyField().canonicalString())||e.Ee.push(new tu(Kt.keyField(),r))}return e.Ee}function Dr(n){const e=Oe(n);return e.de||(e.de=PN(e,Bl(n))),e.de}function PN(n,e){if(n.limitType==="F")return o0(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(s=>{const a=s.dir==="desc"?"asc":"desc";return new tu(s.field,a)});const t=n.endAt?new yd(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new yd(n.startAt.position,n.startAt.inclusive):null;return o0(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function Dp(n,e){const t=n.filters.concat([e]);return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function Mp(n,e,t){return new Sa(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hd(n,e){return Jm(Dr(n),Dr(e))&&n.limitType===e.limitType}function Hx(n){return`${Xm(Dr(n))}|lt:${n.limitType}`}function Xo(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(s=>zx(s)).join(", ")}]`),Ud(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(s=>function(l){return`${l.field.canonicalString()} (${l.dir})`}(s)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(s=>ca(s)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(s=>ca(s)).join(",")),`Target(${r})`}(Dr(n))}; limitType=${n.limitType})`}function Wd(n,e){return e.isFoundDocument()&&function(r,s){const a=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(a):Se.isDocumentKey(r.path)?r.path.isEqual(a):r.path.isImmediateParentOf(a)}(n,e)&&function(r,s){for(const a of Bl(r))if(!a.field.isKeyField()&&s.data.field(a.field)===null)return!1;return!0}(n,e)&&function(r,s){for(const a of r.filters)if(!a.matches(s))return!1;return!0}(n,e)&&function(r,s){return!(r.startAt&&!function(l,c,f){const h=i0(l,c,f);return l.inclusive?h<=0:h<0}(r.startAt,Bl(r),s)||r.endAt&&!function(l,c,f){const h=i0(l,c,f);return l.inclusive?h>=0:h>0}(r.endAt,Bl(r),s))}(n,e)}function kN(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function Wx(n){return(e,t)=>{let r=!1;for(const s of Bl(n)){const a=DN(s,e,t);if(a!==0)return a;r=r||s.field.isKeyField()}return 0}}function DN(n,e,t){const r=n.field.isKeyField()?Se.comparator(e.key,t.key):function(a,l,c){const f=l.data.field(a),h=c.data.field(a);return f!==null&&h!==null?ua(f,h):Re(42886)}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return Re(19790,{direction:n.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Js{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(const[s,a]of r)if(this.equalsFn(s,e))return a}}has(e){return this.get(e)!==void 0}set(e,t){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return void(s[a]=[e,t]);s.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[t]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){os(this.inner,(t,r)=>{for(const[s,a]of r)e(s,a)})}isEmpty(){return Rx(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const MN=new gt(Se.comparator);function ci(){return MN}const Kx=new gt(Se.comparator);function Nl(...n){let e=Kx;for(const t of n)e=e.insert(t.key,t);return e}function qx(n){let e=Kx;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function $s(){return Hl()}function Gx(){return Hl()}function Hl(){return new Js(n=>n.toString(),(n,e)=>n.isEqual(e))}const ON=new gt(Se.comparator),LN=new Dt(Se.comparator);function We(...n){let e=LN;for(const t of n)e=e.add(t);return e}const jN=new Dt($e);function VN(){return jN}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function eg(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:pd(e)?"-0":e}}function Qx(n){return{integerValue:""+n}}function FN(n,e){return fN(e)?Qx(e):eg(n,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kd{constructor(){this._=void 0}}function $N(n,e,t){return n instanceof vd?function(s,a){const l={fields:{[Px]:{stringValue:Nx},[Dx]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return a&&Qm(a)&&(a=Bd(a)),a&&(l.fields[kx]=a),{mapValue:l}}(t,e):n instanceof nu?Xx(n,e):n instanceof ru?Jx(n,e):function(s,a){const l=Yx(s,a),c=l0(l)+l0(s.Re);return Np(l)&&Np(s.Re)?Qx(c):eg(s.serializer,c)}(n,e)}function zN(n,e,t){return n instanceof nu?Xx(n,e):n instanceof ru?Jx(n,e):t}function Yx(n,e){return n instanceof wd?function(r){return Np(r)||function(a){return!!a&&"doubleValue"in a}(r)}(e)?e:{integerValue:0}:null}class vd extends Kd{}class nu extends Kd{constructor(e){super(),this.elements=e}}function Xx(n,e){const t=Zx(e);for(const r of n.elements)t.some(s=>Vr(s,r))||t.push(r);return{arrayValue:{values:t}}}class ru extends Kd{constructor(e){super(),this.elements=e}}function Jx(n,e){let t=Zx(e);for(const r of n.elements)t=t.filter(s=>!Vr(s,r));return{arrayValue:{values:t}}}class wd extends Kd{constructor(e,t){super(),this.serializer=e,this.Re=t}}function l0(n){return Et(n.integerValue||n.doubleValue)}function Zx(n){return Ym(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function UN(n,e){return n.field.isEqual(e.field)&&function(r,s){return r instanceof nu&&s instanceof nu||r instanceof ru&&s instanceof ru?la(r.elements,s.elements,Vr):r instanceof wd&&s instanceof wd?Vr(r.Re,s.Re):r instanceof vd&&s instanceof vd}(n.transform,e.transform)}class BN{constructor(e,t){this.version=e,this.transformResults=t}}class ur{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function td(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}class qd{}function eE(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new tg(n.key,ur.none()):new fu(n.key,n.data,ur.none());{const t=n.data,r=yn.empty();let s=new Dt(Kt.comparator);for(let a of e.fields)if(!s.has(a)){let l=t.field(a);l===null&&a.length>1&&(a=a.popLast(),l=t.field(a)),l===null?r.delete(a):r.set(a,l),s=s.add(a)}return new as(n.key,r,new bn(s.toArray()),ur.none())}}function HN(n,e,t){n instanceof fu?function(s,a,l){const c=s.value.clone(),f=c0(s.fieldTransforms,a,l.transformResults);c.setAll(f),a.convertToFoundDocument(l.version,c).setHasCommittedMutations()}(n,e,t):n instanceof as?function(s,a,l){if(!td(s.precondition,a))return void a.convertToUnknownDocument(l.version);const c=c0(s.fieldTransforms,a,l.transformResults),f=a.data;f.setAll(tE(s)),f.setAll(c),a.convertToFoundDocument(l.version,f).setHasCommittedMutations()}(n,e,t):function(s,a,l){a.convertToNoDocument(l.version).setHasCommittedMutations()}(0,e,t)}function Wl(n,e,t,r){return n instanceof fu?function(a,l,c,f){if(!td(a.precondition,l))return c;const h=a.value.clone(),m=d0(a.fieldTransforms,f,l);return h.setAll(m),l.convertToFoundDocument(l.version,h).setHasLocalMutations(),null}(n,e,t,r):n instanceof as?function(a,l,c,f){if(!td(a.precondition,l))return c;const h=d0(a.fieldTransforms,f,l),m=l.data;return m.setAll(tE(a)),m.setAll(h),l.convertToFoundDocument(l.version,m).setHasLocalMutations(),c===null?null:c.unionWith(a.fieldMask.fields).unionWith(a.fieldTransforms.map(v=>v.field))}(n,e,t,r):function(a,l,c){return td(a.precondition,l)?(l.convertToNoDocument(l.version).setHasLocalMutations(),null):c}(n,e,t)}function WN(n,e){let t=null;for(const r of n.fieldTransforms){const s=e.data.field(r.field),a=Yx(r.transform,s||null);a!=null&&(t===null&&(t=yn.empty()),t.set(r.field,a))}return t||null}function u0(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&la(r,s,(a,l)=>UN(a,l))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}class fu extends qd{constructor(e,t,r,s=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class as extends qd{constructor(e,t,r,s,a=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=s,this.fieldTransforms=a,this.type=1}getFieldMask(){return this.fieldMask}}function tE(n){const e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){const r=n.data.field(t);e.set(t,r)}}),e}function c0(n,e,t){const r=new Map;Ze(n.length===t.length,32656,{Ve:t.length,me:n.length});for(let s=0;s<t.length;s++){const a=n[s],l=a.transform,c=e.data.field(a.field);r.set(a.field,zN(l,c,t[s]))}return r}function d0(n,e,t){const r=new Map;for(const s of n){const a=s.transform,l=t.data.field(s.field);r.set(s.field,$N(a,l,e))}return r}class tg extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class KN extends qd{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qN{constructor(e,t,r,s){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,t){const r=t.mutationResults;for(let s=0;s<this.mutations.length;s++){const a=this.mutations[s];a.key.isEqual(e.key)&&HN(a,e,r[s])}}applyToLocalView(e,t){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(t=Wl(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const r=Gx();return this.mutations.forEach(s=>{const a=e.get(s.key),l=a.overlayedDocument;let c=this.applyToLocalView(l,a.mutatedFields);c=t.has(s.key)?null:c;const f=eE(l,c);f!==null&&r.set(s.key,f),l.isValidDocument()||l.convertToNoDocument(De.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),We())}isEqual(e){return this.batchId===e.batchId&&la(this.mutations,e.mutations,(t,r)=>u0(t,r))&&la(this.baseMutations,e.baseMutations,(t,r)=>u0(t,r))}}class ng{constructor(e,t,r,s){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=s}static from(e,t,r){Ze(e.mutations.length===r.length,58842,{fe:e.mutations.length,ge:r.length});let s=function(){return ON}();const a=e.mutations;for(let l=0;l<a.length;l++)s=s.insert(a[l].key,r[l].version);return new ng(e,t,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let GN=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QN{constructor(e,t){this.count=e,this.unchangedNames=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var It,Qe;function YN(n){switch(n){case re.OK:return Re(64938);case re.CANCELLED:case re.UNKNOWN:case re.DEADLINE_EXCEEDED:case re.RESOURCE_EXHAUSTED:case re.INTERNAL:case re.UNAVAILABLE:case re.UNAUTHENTICATED:return!1;case re.INVALID_ARGUMENT:case re.NOT_FOUND:case re.ALREADY_EXISTS:case re.PERMISSION_DENIED:case re.FAILED_PRECONDITION:case re.ABORTED:case re.OUT_OF_RANGE:case re.UNIMPLEMENTED:case re.DATA_LOSS:return!0;default:return Re(15467,{code:n})}}function nE(n){if(n===void 0)return ui("GRPC error has no .code"),re.UNKNOWN;switch(n){case It.OK:return re.OK;case It.CANCELLED:return re.CANCELLED;case It.UNKNOWN:return re.UNKNOWN;case It.DEADLINE_EXCEEDED:return re.DEADLINE_EXCEEDED;case It.RESOURCE_EXHAUSTED:return re.RESOURCE_EXHAUSTED;case It.INTERNAL:return re.INTERNAL;case It.UNAVAILABLE:return re.UNAVAILABLE;case It.UNAUTHENTICATED:return re.UNAUTHENTICATED;case It.INVALID_ARGUMENT:return re.INVALID_ARGUMENT;case It.NOT_FOUND:return re.NOT_FOUND;case It.ALREADY_EXISTS:return re.ALREADY_EXISTS;case It.PERMISSION_DENIED:return re.PERMISSION_DENIED;case It.FAILED_PRECONDITION:return re.FAILED_PRECONDITION;case It.ABORTED:return re.ABORTED;case It.OUT_OF_RANGE:return re.OUT_OF_RANGE;case It.UNIMPLEMENTED:return re.UNIMPLEMENTED;case It.DATA_LOSS:return re.DATA_LOSS;default:return Re(39323,{code:n})}}(Qe=It||(It={}))[Qe.OK=0]="OK",Qe[Qe.CANCELLED=1]="CANCELLED",Qe[Qe.UNKNOWN=2]="UNKNOWN",Qe[Qe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Qe[Qe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Qe[Qe.NOT_FOUND=5]="NOT_FOUND",Qe[Qe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Qe[Qe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Qe[Qe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Qe[Qe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Qe[Qe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Qe[Qe.ABORTED=10]="ABORTED",Qe[Qe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Qe[Qe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Qe[Qe.INTERNAL=13]="INTERNAL",Qe[Qe.UNAVAILABLE=14]="UNAVAILABLE",Qe[Qe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XN=new qi([4294967295,4294967295],0);function f0(n){const e=Tx().encode(n),t=new yx;return t.update(e),new Uint8Array(t.digest())}function h0(n){const e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),a=e.getUint32(12,!0);return[new qi([t,r],0),new qi([s,a],0)]}class rg{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Pl(`Invalid padding: ${t}`);if(r<0)throw new Pl(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Pl(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Pl(`Invalid padding when bitmap length is 0: ${t}`);this.pe=8*e.length-t,this.ye=qi.fromNumber(this.pe)}we(e,t,r){let s=e.add(t.multiply(qi.fromNumber(r)));return s.compare(XN)===1&&(s=new qi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.ye).toNumber()}be(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.pe===0)return!1;const t=f0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);if(!this.be(l))return!1}return!0}static create(e,t,r){const s=e%8==0?0:8-e%8,a=new Uint8Array(Math.ceil(e/8)),l=new rg(a,s,t);return r.forEach(c=>l.insert(c)),l}insert(e){if(this.pe===0)return;const t=f0(e),[r,s]=h0(t);for(let a=0;a<this.hashCount;a++){const l=this.we(r,s,a);this.Se(l)}}Se(e){const t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}}class Pl extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gd{constructor(e,t,r,s,a){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=a}static createSynthesizedRemoteEventForCurrentChange(e,t,r){const s=new Map;return s.set(e,hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new Gd(De.min(),s,new gt($e),ci(),We())}}class hu{constructor(e,t,r,s,a){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=a}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new hu(r,t,We(),We(),We())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nd{constructor(e,t,r,s){this.De=e,this.removedTargetIds=t,this.key=r,this.ve=s}}class rE{constructor(e,t){this.targetId=e,this.Ce=t}}class iE{constructor(e,t,r=qt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=s}}class p0{constructor(){this.Fe=0,this.Me=m0(),this.xe=qt.EMPTY_BYTE_STRING,this.Oe=!1,this.Ne=!0}get current(){return this.Oe}get resumeToken(){return this.xe}get Be(){return this.Fe!==0}get Le(){return this.Ne}ke(e){e.approximateByteSize()>0&&(this.Ne=!0,this.xe=e)}qe(){let e=We(),t=We(),r=We();return this.Me.forEach((s,a)=>{switch(a){case 0:e=e.add(s);break;case 2:t=t.add(s);break;case 1:r=r.add(s);break;default:Re(38017,{changeType:a})}}),new hu(this.xe,this.Oe,e,t,r)}Qe(){this.Ne=!1,this.Me=m0()}$e(e,t){this.Ne=!0,this.Me=this.Me.insert(e,t)}Ue(e){this.Ne=!0,this.Me=this.Me.remove(e)}Ke(){this.Fe+=1}We(){this.Fe-=1,Ze(this.Fe>=0,3241,{Fe:this.Fe})}Ge(){this.Ne=!0,this.Oe=!0}}class JN{constructor(e){this.ze=e,this.je=new Map,this.He=ci(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new gt($e)}Xe(e){for(const t of e.De)e.ve&&e.ve.isFoundDocument()?this.et(t,e.ve):this.tt(t,e.key,e.ve);for(const t of e.removedTargetIds)this.tt(t,e.key,e.ve)}nt(e){this.forEachTarget(e,t=>{const r=this.rt(t);switch(e.state){case 0:this.it(t)&&r.ke(e.resumeToken);break;case 1:r.We(),r.Be||r.Qe(),r.ke(e.resumeToken);break;case 2:r.We(),r.Be||this.removeTarget(t);break;case 3:this.it(t)&&(r.Ge(),r.ke(e.resumeToken));break;case 4:this.it(t)&&(this.st(t),r.ke(e.resumeToken));break;default:Re(56790,{state:e.state})}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.je.forEach((r,s)=>{this.it(s)&&t(s)})}ot(e){const t=e.targetId,r=e.Ce.count,s=this._t(t);if(s){const a=s.target;if(kp(a))if(r===0){const l=new Se(a.path);this.tt(t,l,tn.newNoDocument(l,De.min()))}else Ze(r===1,20013,{expectedCount:r});else{const l=this.ut(t);if(l!==r){const c=this.ct(e),f=c?this.lt(c,e,l):1;if(f!==0){this.st(t);const h=f===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(t,h)}}}}}ct(e){const t=e.Ce.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:a=0}=t;let l,c;try{l=Zi(r).toUint8Array()}catch(f){if(f instanceof Ax)return aa("Decoding the base64 bloom filter in existence filter failed ("+f.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw f}try{c=new rg(l,s,a)}catch(f){return aa(f instanceof Pl?"BloomFilter error: ":"Applying bloom filter failed: ",f),null}return c.pe===0?null:c}lt(e,t,r){return t.Ce.count===r-this.Tt(e,t.targetId)?0:2}Tt(e,t){const r=this.ze.getRemoteKeysForTarget(t);let s=0;return r.forEach(a=>{const l=this.ze.Pt(),c=`projects/${l.projectId}/databases/${l.database}/documents/${a.path.canonicalString()}`;e.mightContain(c)||(this.tt(t,a,null),s++)}),s}It(e){const t=new Map;this.je.forEach((a,l)=>{const c=this._t(l);if(c){if(a.current&&kp(c.target)){const f=new Se(c.target.path);this.Et(f).has(l)||this.dt(l,f)||this.tt(l,f,tn.newNoDocument(f,e))}a.Le&&(t.set(l,a.qe()),a.Qe())}});let r=We();this.Ye.forEach((a,l)=>{let c=!0;l.forEachWhile(f=>{const h=this._t(f);return!h||h.purpose==="TargetPurposeLimboResolution"||(c=!1,!1)}),c&&(r=r.add(a))}),this.He.forEach((a,l)=>l.setReadTime(e));const s=new Gd(e,t,this.Ze,this.He,r);return this.He=ci(),this.Je=Fc(),this.Ye=Fc(),this.Ze=new gt($e),s}et(e,t){if(!this.it(e))return;const r=this.dt(e,t.key)?2:0;this.rt(e).$e(t.key,r),this.He=this.He.insert(t.key,t),this.Je=this.Je.insert(t.key,this.Et(t.key).add(e)),this.Ye=this.Ye.insert(t.key,this.At(t.key).add(e))}tt(e,t,r){if(!this.it(e))return;const s=this.rt(e);this.dt(e,t)?s.$e(t,1):s.Ue(t),this.Ye=this.Ye.insert(t,this.At(t).delete(e)),this.Ye=this.Ye.insert(t,this.At(t).add(e)),r&&(this.He=this.He.insert(t,r))}removeTarget(e){this.je.delete(e)}ut(e){const t=this.rt(e).qe();return this.ze.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}Ke(e){this.rt(e).Ke()}rt(e){let t=this.je.get(e);return t||(t=new p0,this.je.set(e,t)),t}At(e){let t=this.Ye.get(e);return t||(t=new Dt($e),this.Ye=this.Ye.insert(e,t)),t}Et(e){let t=this.Je.get(e);return t||(t=new Dt($e),this.Je=this.Je.insert(e,t)),t}it(e){const t=this._t(e)!==null;return t||ge("WatchChangeAggregator","Detected inactive target",e),t}_t(e){const t=this.je.get(e);return t&&t.Be?null:this.ze.Rt(e)}st(e){this.je.set(e,new p0),this.ze.getRemoteKeysForTarget(e).forEach(t=>{this.tt(e,t,null)})}dt(e,t){return this.ze.getRemoteKeysForTarget(e).has(t)}}function Fc(){return new gt(Se.comparator)}function m0(){return new gt(Se.comparator)}const ZN={asc:"ASCENDING",desc:"DESCENDING"},eP={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},tP={and:"AND",or:"OR"};class nP{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function Op(n,e){return n.useProto3Json||Ud(e)?e:{value:e}}function _d(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function sE(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function rP(n,e){return _d(n,e.toTimestamp())}function Mr(n){return Ze(!!n,49232),De.fromTimestamp(function(t){const r=Ji(t);return new Ct(r.seconds,r.nanos)}(n))}function ig(n,e){return Lp(n,e).canonicalString()}function Lp(n,e){const t=function(s){return new ct(["projects",s.projectId,"databases",s.database])}(n).child("documents");return e===void 0?t:t.child(e)}function oE(n){const e=ct.fromString(n);return Ze(dE(e),10190,{key:e.toString()}),e}function jp(n,e){return ig(n.databaseId,e.path)}function tp(n,e){const t=oE(e);if(t.get(1)!==n.databaseId.projectId)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new ve(re.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Se(lE(t))}function aE(n,e){return ig(n.databaseId,e)}function iP(n){const e=oE(n);return e.length===4?ct.emptyPath():lE(e)}function Vp(n){return new ct(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function lE(n){return Ze(n.length>4&&n.get(4)==="documents",29091,{key:n.toString()}),n.popFirst(5)}function g0(n,e,t){return{name:jp(n,e),fields:t.value.mapValue.fields}}function sP(n,e){let t;if("targetChange"in e){e.targetChange;const r=function(h){return h==="NO_CHANGE"?0:h==="ADD"?1:h==="REMOVE"?2:h==="CURRENT"?3:h==="RESET"?4:Re(39313,{state:h})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],a=function(h,m){return h.useProto3Json?(Ze(m===void 0||typeof m=="string",58123),qt.fromBase64String(m||"")):(Ze(m===void 0||m instanceof Buffer||m instanceof Uint8Array,16193),qt.fromUint8Array(m||new Uint8Array))}(n,e.targetChange.resumeToken),l=e.targetChange.cause,c=l&&function(h){const m=h.code===void 0?re.UNKNOWN:nE(h.code);return new ve(m,h.message||"")}(l);t=new iE(r,s,a,c||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=tp(n,r.document.name),a=Mr(r.document.updateTime),l=r.document.createTime?Mr(r.document.createTime):De.min(),c=new yn({mapValue:{fields:r.document.fields}}),f=tn.newFoundDocument(s,a,l,c),h=r.targetIds||[],m=r.removedTargetIds||[];t=new nd(h,m,f.key,f)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=tp(n,r.document),a=r.readTime?Mr(r.readTime):De.min(),l=tn.newNoDocument(s,a),c=r.removedTargetIds||[];t=new nd([],c,l.key,l)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=tp(n,r.document),a=r.removedTargetIds||[];t=new nd([],a,s,null)}else{if(!("filter"in e))return Re(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:a}=r,l=new QN(s,a),c=r.targetId;t=new rE(c,l)}}return t}function oP(n,e){let t;if(e instanceof fu)t={update:g0(n,e.key,e.value)};else if(e instanceof tg)t={delete:jp(n,e.key)};else if(e instanceof as)t={update:g0(n,e.key,e.data),updateMask:mP(e.fieldMask)};else{if(!(e instanceof KN))return Re(16599,{ft:e.type});t={verify:jp(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(a,l){const c=l.transform;if(c instanceof vd)return{fieldPath:l.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(c instanceof nu)return{fieldPath:l.field.canonicalString(),appendMissingElements:{values:c.elements}};if(c instanceof ru)return{fieldPath:l.field.canonicalString(),removeAllFromArray:{values:c.elements}};if(c instanceof wd)return{fieldPath:l.field.canonicalString(),increment:c.Re};throw Re(20930,{transform:l.transform})}(0,r))),e.precondition.isNone||(t.currentDocument=function(s,a){return a.updateTime!==void 0?{updateTime:rP(s,a.updateTime)}:a.exists!==void 0?{exists:a.exists}:Re(27497)}(n,e.precondition)),t}function aP(n,e){return n&&n.length>0?(Ze(e!==void 0,14353),n.map(t=>function(s,a){let l=s.updateTime?Mr(s.updateTime):Mr(a);return l.isEqual(De.min())&&(l=Mr(a)),new BN(l,s.transformResults||[])}(t,e))):[]}function lP(n,e){return{documents:[aE(n,e.path)]}}function uP(n,e){const t={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=aE(n,s);const a=function(h){if(h.length!==0)return cE(cr.create(h,"and"))}(e.filters);a&&(t.structuredQuery.where=a);const l=function(h){if(h.length!==0)return h.map(m=>function(w){return{field:Jo(w.field),direction:fP(w.dir)}}(m))}(e.orderBy);l&&(t.structuredQuery.orderBy=l);const c=Op(n,e.limit);return c!==null&&(t.structuredQuery.limit=c),e.startAt&&(t.structuredQuery.startAt=function(h){return{before:h.inclusive,values:h.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(h){return{before:!h.inclusive,values:h.position}}(e.endAt)),{gt:t,parent:s}}function cP(n){let e=iP(n.parent);const t=n.structuredQuery,r=t.from?t.from.length:0;let s=null;if(r>0){Ze(r===1,65062);const m=t.from[0];m.allDescendants?s=m.collectionId:e=e.child(m.collectionId)}let a=[];t.where&&(a=function(v){const w=uE(v);return w instanceof cr&&Fx(w)?w.getFilters():[w]}(t.where));let l=[];t.orderBy&&(l=function(v){return v.map(w=>function(C){return new tu(Zo(C.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(C.direction))}(w))}(t.orderBy));let c=null;t.limit&&(c=function(v){let w;return w=typeof v=="object"?v.value:v,Ud(w)?null:w}(t.limit));let f=null;t.startAt&&(f=function(v){const w=!!v.before,T=v.values||[];return new yd(T,w)}(t.startAt));let h=null;return t.endAt&&(h=function(v){const w=!v.before,T=v.values||[];return new yd(T,w)}(t.endAt)),NN(e,s,l,a,c,"F",f,h)}function dP(n,e){const t=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return Re(28987,{purpose:s})}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function uE(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":const r=Zo(t.unaryFilter.field);return bt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(t.unaryFilter.field);return bt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const a=Zo(t.unaryFilter.field);return bt.create(a,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const l=Zo(t.unaryFilter.field);return bt.create(l,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return Re(61313);default:return Re(60726)}}(n):n.fieldFilter!==void 0?function(t){return bt.create(Zo(t.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return Re(58110);default:return Re(50506)}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return cr.create(t.compositeFilter.filters.map(r=>uE(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return Re(1026)}}(t.compositeFilter.op))}(n):Re(30097,{filter:n})}function fP(n){return ZN[n]}function hP(n){return eP[n]}function pP(n){return tP[n]}function Jo(n){return{fieldPath:n.canonicalString()}}function Zo(n){return Kt.fromServerFormat(n.fieldPath)}function cE(n){return n instanceof bt?function(t){if(t.op==="=="){if(r0(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NAN"}};if(n0(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(r0(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NAN"}};if(n0(t.value))return{unaryFilter:{field:Jo(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(t.field),op:hP(t.op),value:t.value}}}(n):n instanceof cr?function(t){const r=t.getFilters().map(s=>cE(s));return r.length===1?r[0]:{compositeFilter:{op:pP(t.op),filters:r}}}(n):Re(54877,{filter:n})}function mP(n){const e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function dE(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hi{constructor(e,t,r,s,a=De.min(),l=De.min(),c=qt.EMPTY_BYTE_STRING,f=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=a,this.lastLimboFreeSnapshotVersion=l,this.resumeToken=c,this.expectedCount=f}withSequenceNumber(e){return new Hi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Hi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gP{constructor(e){this.wt=e}}function yP(n){const e=cP({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?Mp(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vP{constructor(){this.Cn=new wP}addToCollectionParentIndex(e,t){return this.Cn.add(t),ne.resolve()}getCollectionParents(e,t){return ne.resolve(this.Cn.getEntries(t))}addFieldIndex(e,t){return ne.resolve()}deleteFieldIndex(e,t){return ne.resolve()}deleteAllFieldIndexes(e){return ne.resolve()}createTargetIndexes(e,t){return ne.resolve()}getDocumentsMatchingTarget(e,t){return ne.resolve(null)}getIndexType(e,t){return ne.resolve(0)}getFieldIndexes(e,t){return ne.resolve([])}getNextCollectionGroupToUpdate(e){return ne.resolve(null)}getMinOffset(e,t){return ne.resolve(Xi.min())}getMinOffsetFromCollectionGroup(e,t){return ne.resolve(Xi.min())}updateCollectionGroup(e,t,r){return ne.resolve()}updateIndexEntries(e,t){return ne.resolve()}}class wP{constructor(){this.index={}}add(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t]||new Dt(ct.comparator),a=!s.has(r);return this.index[t]=s.add(r),a}has(e){const t=e.lastSegment(),r=e.popLast(),s=this.index[t];return s&&s.has(r)}getEntries(e){return(this.index[e]||new Dt(ct.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y0={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fE=41943040;class gn{static withCacheSize(e){return new gn(e,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */gn.DEFAULT_COLLECTION_PERCENTILE=10,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,gn.DEFAULT=new gn(fE,gn.DEFAULT_COLLECTION_PERCENTILE,gn.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),gn.DISABLED=new gn(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e){this.ur=e}next(){return this.ur+=2,this.ur}static cr(){return new da(0)}static lr(){return new da(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v0="LruGarbageCollector",_P=1048576;function w0([n,e],[t,r]){const s=$e(n,t);return s===0?$e(e,r):s}class xP{constructor(e){this.Er=e,this.buffer=new Dt(w0),this.dr=0}Ar(){return++this.dr}Rr(e){const t=[e,this.Ar()];if(this.buffer.size<this.Er)this.buffer=this.buffer.add(t);else{const r=this.buffer.last();w0(t,r)<0&&(this.buffer=this.buffer.delete(r).add(t))}}get maxValue(){return this.buffer.last()[0]}}class EP{constructor(e,t,r){this.garbageCollector=e,this.asyncQueue=t,this.localStore=r,this.Vr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.mr(6e4)}stop(){this.Vr&&(this.Vr.cancel(),this.Vr=null)}get started(){return this.Vr!==null}mr(e){ge(v0,`Garbage collection scheduled in ${e}ms`),this.Vr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Vr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(t){Ca(t)?ge(v0,"Ignoring IndexedDB error during garbage collection: ",t):await Ea(t)}await this.mr(3e5)})}}class CP{constructor(e,t){this.gr=e,this.params=t}calculateTargetCount(e,t){return this.gr.pr(e).next(r=>Math.floor(t/100*r))}nthSequenceNumber(e,t){if(t===0)return ne.resolve(zd.le);const r=new xP(t);return this.gr.forEachTarget(e,s=>r.Rr(s.sequenceNumber)).next(()=>this.gr.yr(e,s=>r.Rr(s))).next(()=>r.maxValue)}removeTargets(e,t,r){return this.gr.removeTargets(e,t,r)}removeOrphanedDocuments(e,t){return this.gr.removeOrphanedDocuments(e,t)}collect(e,t){return this.params.cacheSizeCollectionThreshold===-1?(ge("LruGarbageCollector","Garbage collection skipped; disabled"),ne.resolve(y0)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ge("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),y0):this.wr(e,t))}getCacheSize(e){return this.gr.getCacheSize(e)}wr(e,t){let r,s,a,l,c,f,h;const m=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(v=>(v>this.params.maximumSequenceNumbersToCollect?(ge("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${v}`),s=this.params.maximumSequenceNumbersToCollect):s=v,l=Date.now(),this.nthSequenceNumber(e,s))).next(v=>(r=v,c=Date.now(),this.removeTargets(e,r,t))).next(v=>(a=v,f=Date.now(),this.removeOrphanedDocuments(e,r))).next(v=>(h=Date.now(),Yo()<=Ye.DEBUG&&ge("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${l-m}ms
	Determined least recently used ${s} in `+(c-l)+`ms
	Removed ${a} targets in `+(f-c)+`ms
	Removed ${v} documents in `+(h-f)+`ms
Total Duration: ${h-m}ms`),ne.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:a,documentsRemoved:v})))}}function SP(n,e){return new CP(n,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TP{constructor(){this.changes=new Js(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,tn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const r=this.changes.get(t);return r!==void 0?ne.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IP{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bP{constructor(e,t,r,s){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,t))).next(s=>(r!==null&&Wl(r.mutation,s,bn.empty(),Ct.now()),s))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,We()).next(()=>r))}getLocalViewOfDocuments(e,t,r=We()){const s=$s();return this.populateOverlays(e,s,t).next(()=>this.computeViews(e,t,s,r).next(a=>{let l=Nl();return a.forEach((c,f)=>{l=l.insert(c,f.overlayedDocument)}),l}))}getOverlayedDocuments(e,t){const r=$s();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,We()))}populateOverlays(e,t,r){const s=[];return r.forEach(a=>{t.has(a)||s.push(a)}),this.documentOverlayCache.getOverlays(e,s).next(a=>{a.forEach((l,c)=>{t.set(l,c)})})}computeViews(e,t,r,s){let a=ci();const l=Hl(),c=function(){return Hl()}();return t.forEach((f,h)=>{const m=r.get(h.key);s.has(h.key)&&(m===void 0||m.mutation instanceof as)?a=a.insert(h.key,h):m!==void 0?(l.set(h.key,m.mutation.getFieldMask()),Wl(m.mutation,h,m.mutation.getFieldMask(),Ct.now())):l.set(h.key,bn.empty())}),this.recalculateAndSaveOverlays(e,a).next(f=>(f.forEach((h,m)=>l.set(h,m)),t.forEach((h,m)=>{var v;return c.set(h,new IP(m,(v=l.get(h))!==null&&v!==void 0?v:null))}),c))}recalculateAndSaveOverlays(e,t){const r=Hl();let s=new gt((l,c)=>l-c),a=We();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(l=>{for(const c of l)c.keys().forEach(f=>{const h=t.get(f);if(h===null)return;let m=r.get(f)||bn.empty();m=c.applyToLocalView(h,m),r.set(f,m);const v=(s.get(c.batchId)||We()).add(f);s=s.insert(c.batchId,v)})}).next(()=>{const l=[],c=s.getReverseIterator();for(;c.hasNext();){const f=c.getNext(),h=f.key,m=f.value,v=Gx();m.forEach(w=>{if(!a.has(w)){const T=eE(t.get(w),r.get(w));T!==null&&v.set(w,T),a=a.add(w)}}),l.push(this.documentOverlayCache.saveOverlays(e,h,v))}return ne.waitFor(l)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,s){return function(l){return Se.isDocumentKey(l.path)&&l.collectionGroup===null&&l.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):Bx(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,s):this.getDocumentsMatchingCollectionQuery(e,t,r,s)}getNextDocuments(e,t,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,s).next(a=>{const l=s-a.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,s-a.size):ne.resolve($s());let c=Xl,f=a;return l.next(h=>ne.forEach(h,(m,v)=>(c<v.largestBatchId&&(c=v.largestBatchId),a.get(m)?ne.resolve():this.remoteDocumentCache.getEntry(e,m).next(w=>{f=f.insert(m,w)}))).next(()=>this.populateOverlays(e,h,a)).next(()=>this.computeViews(e,f,h,We())).next(m=>({batchId:c,changes:qx(m)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Se(t)).next(r=>{let s=Nl();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,t,r,s){const a=t.collectionGroup;let l=Nl();return this.indexManager.getCollectionParents(e,a).next(c=>ne.forEach(c,f=>{const h=function(v,w){return new Sa(w,null,v.explicitOrderBy.slice(),v.filters.slice(),v.limit,v.limitType,v.startAt,v.endAt)}(t,f.child(a));return this.getDocumentsMatchingCollectionQuery(e,h,r,s).next(m=>{m.forEach((v,w)=>{l=l.insert(v,w)})})}).next(()=>l))}getDocumentsMatchingCollectionQuery(e,t,r,s){let a;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(l=>(a=l,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,a,s))).next(l=>{a.forEach((f,h)=>{const m=h.getKey();l.get(m)===null&&(l=l.insert(m,tn.newInvalidDocument(m)))});let c=Nl();return l.forEach((f,h)=>{const m=a.get(f);m!==void 0&&Wl(m.mutation,h,bn.empty(),Ct.now()),Wd(t,h)&&(c=c.insert(f,h))}),c})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RP{constructor(e){this.serializer=e,this.kr=new Map,this.qr=new Map}getBundleMetadata(e,t){return ne.resolve(this.kr.get(t))}saveBundleMetadata(e,t){return this.kr.set(t.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(t)),ne.resolve()}getNamedQuery(e,t){return ne.resolve(this.qr.get(t))}saveNamedQuery(e,t){return this.qr.set(t.name,function(s){return{name:s.name,query:yP(s.bundledQuery),readTime:Mr(s.readTime)}}(t)),ne.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class AP{constructor(){this.overlays=new gt(Se.comparator),this.Qr=new Map}getOverlay(e,t){return ne.resolve(this.overlays.get(t))}getOverlays(e,t){const r=$s();return ne.forEach(t,s=>this.getOverlay(e,s).next(a=>{a!==null&&r.set(s,a)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((s,a)=>{this.St(e,t,a)}),ne.resolve()}removeOverlaysForBatchId(e,t,r){const s=this.Qr.get(r);return s!==void 0&&(s.forEach(a=>this.overlays=this.overlays.remove(a)),this.Qr.delete(r)),ne.resolve()}getOverlaysForCollection(e,t,r){const s=$s(),a=t.length+1,l=new Se(t.child("")),c=this.overlays.getIteratorFrom(l);for(;c.hasNext();){const f=c.getNext().value,h=f.getKey();if(!t.isPrefixOf(h.path))break;h.path.length===a&&f.largestBatchId>r&&s.set(f.getKey(),f)}return ne.resolve(s)}getOverlaysForCollectionGroup(e,t,r,s){let a=new gt((h,m)=>h-m);const l=this.overlays.getIterator();for(;l.hasNext();){const h=l.getNext().value;if(h.getKey().getCollectionGroup()===t&&h.largestBatchId>r){let m=a.get(h.largestBatchId);m===null&&(m=$s(),a=a.insert(h.largestBatchId,m)),m.set(h.getKey(),h)}}const c=$s(),f=a.getIterator();for(;f.hasNext()&&(f.getNext().value.forEach((h,m)=>c.set(h,m)),!(c.size()>=s)););return ne.resolve(c)}St(e,t,r){const s=this.overlays.get(r.key);if(s!==null){const l=this.Qr.get(s.largestBatchId).delete(r.key);this.Qr.set(s.largestBatchId,l)}this.overlays=this.overlays.insert(r.key,new GN(t,r));let a=this.Qr.get(t);a===void 0&&(a=We(),this.Qr.set(t,a)),this.Qr.set(t,a.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(){this.sessionToken=qt.EMPTY_BYTE_STRING}getSessionToken(e){return ne.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,ne.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sg{constructor(){this.$r=new Dt(Ft.Ur),this.Kr=new Dt(Ft.Wr)}isEmpty(){return this.$r.isEmpty()}addReference(e,t){const r=new Ft(e,t);this.$r=this.$r.add(r),this.Kr=this.Kr.add(r)}Gr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.zr(new Ft(e,t))}jr(e,t){e.forEach(r=>this.removeReference(r,t))}Hr(e){const t=new Se(new ct([])),r=new Ft(t,e),s=new Ft(t,e+1),a=[];return this.Kr.forEachInRange([r,s],l=>{this.zr(l),a.push(l.key)}),a}Jr(){this.$r.forEach(e=>this.zr(e))}zr(e){this.$r=this.$r.delete(e),this.Kr=this.Kr.delete(e)}Yr(e){const t=new Se(new ct([])),r=new Ft(t,e),s=new Ft(t,e+1);let a=We();return this.Kr.forEachInRange([r,s],l=>{a=a.add(l.key)}),a}containsKey(e){const t=new Ft(e,0),r=this.$r.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}}class Ft{constructor(e,t){this.key=e,this.Zr=t}static Ur(e,t){return Se.comparator(e.key,t.key)||$e(e.Zr,t.Zr)}static Wr(e,t){return $e(e.Zr,t.Zr)||Se.comparator(e.key,t.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class PP{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.nr=1,this.Xr=new Dt(Ft.Ur)}checkEmpty(e){return ne.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,s){const a=this.nr;this.nr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const l=new qN(a,t,r,s);this.mutationQueue.push(l);for(const c of s)this.Xr=this.Xr.add(new Ft(c.key,a)),this.indexManager.addToCollectionParentIndex(e,c.key.path.popLast());return ne.resolve(l)}lookupMutationBatch(e,t){return ne.resolve(this.ei(t))}getNextMutationBatchAfterBatchId(e,t){const r=t+1,s=this.ti(r),a=s<0?0:s;return ne.resolve(this.mutationQueue.length>a?this.mutationQueue[a]:null)}getHighestUnacknowledgedBatchId(){return ne.resolve(this.mutationQueue.length===0?Gm:this.nr-1)}getAllMutationBatches(e){return ne.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const r=new Ft(t,0),s=new Ft(t,Number.POSITIVE_INFINITY),a=[];return this.Xr.forEachInRange([r,s],l=>{const c=this.ei(l.Zr);a.push(c)}),ne.resolve(a)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Dt($e);return t.forEach(s=>{const a=new Ft(s,0),l=new Ft(s,Number.POSITIVE_INFINITY);this.Xr.forEachInRange([a,l],c=>{r=r.add(c.Zr)})}),ne.resolve(this.ni(r))}getAllMutationBatchesAffectingQuery(e,t){const r=t.path,s=r.length+1;let a=r;Se.isDocumentKey(a)||(a=a.child(""));const l=new Ft(new Se(a),0);let c=new Dt($e);return this.Xr.forEachWhile(f=>{const h=f.key.path;return!!r.isPrefixOf(h)&&(h.length===s&&(c=c.add(f.Zr)),!0)},l),ne.resolve(this.ni(c))}ni(e){const t=[];return e.forEach(r=>{const s=this.ei(r);s!==null&&t.push(s)}),t}removeMutationBatch(e,t){Ze(this.ri(t.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Xr;return ne.forEach(t.mutations,s=>{const a=new Ft(s.key,t.batchId);return r=r.delete(a),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Xr=r})}sr(e){}containsKey(e,t){const r=new Ft(t,0),s=this.Xr.firstAfterOrEqual(r);return ne.resolve(t.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,ne.resolve()}ri(e,t){return this.ti(e)}ti(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}ei(e){const t=this.ti(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kP{constructor(e){this.ii=e,this.docs=function(){return new gt(Se.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const r=t.key,s=this.docs.get(r),a=s?s.size:0,l=this.ii(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:l}),this.size+=l-a,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const r=this.docs.get(t);return ne.resolve(r?r.document.mutableCopy():tn.newInvalidDocument(t))}getEntries(e,t){let r=ci();return t.forEach(s=>{const a=this.docs.get(s);r=r.insert(s,a?a.document.mutableCopy():tn.newInvalidDocument(s))}),ne.resolve(r)}getDocumentsMatchingQuery(e,t,r,s){let a=ci();const l=t.path,c=new Se(l.child("__id-9223372036854775808__")),f=this.docs.getIteratorFrom(c);for(;f.hasNext();){const{key:h,value:{document:m}}=f.getNext();if(!l.isPrefixOf(h.path))break;h.path.length>l.length+1||lN(aN(m),r)<=0||(s.has(m.key)||Wd(t,m))&&(a=a.insert(m.key,m.mutableCopy()))}return ne.resolve(a)}getAllFromCollectionGroup(e,t,r,s){Re(9500)}si(e,t){return ne.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new DP(this)}getSize(e){return ne.resolve(this.size)}}class DP extends TP{constructor(e){super(),this.Br=e}applyChanges(e){const t=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?t.push(this.Br.addEntry(e,s)):this.Br.removeEntry(r)}),ne.waitFor(t)}getFromCache(e,t){return this.Br.getEntry(e,t)}getAllFromCache(e,t){return this.Br.getEntries(e,t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.persistence=e,this.oi=new Js(t=>Xm(t),Jm),this.lastRemoteSnapshotVersion=De.min(),this.highestTargetId=0,this._i=0,this.ai=new sg,this.targetCount=0,this.ui=da.cr()}forEachTarget(e,t){return this.oi.forEach((r,s)=>t(s)),ne.resolve()}getLastRemoteSnapshotVersion(e){return ne.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return ne.resolve(this._i)}allocateTargetId(e){return this.highestTargetId=this.ui.next(),ne.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this._i&&(this._i=t),ne.resolve()}Tr(e){this.oi.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.ui=new da(t),this.highestTargetId=t),e.sequenceNumber>this._i&&(this._i=e.sequenceNumber)}addTargetData(e,t){return this.Tr(t),this.targetCount+=1,ne.resolve()}updateTargetData(e,t){return this.Tr(t),ne.resolve()}removeTargetData(e,t){return this.oi.delete(t.target),this.ai.Hr(t.targetId),this.targetCount-=1,ne.resolve()}removeTargets(e,t,r){let s=0;const a=[];return this.oi.forEach((l,c)=>{c.sequenceNumber<=t&&r.get(c.targetId)===null&&(this.oi.delete(l),a.push(this.removeMatchingKeysForTargetId(e,c.targetId)),s++)}),ne.waitFor(a).next(()=>s)}getTargetCount(e){return ne.resolve(this.targetCount)}getTargetData(e,t){const r=this.oi.get(t)||null;return ne.resolve(r)}addMatchingKeys(e,t,r){return this.ai.Gr(t,r),ne.resolve()}removeMatchingKeys(e,t,r){this.ai.jr(t,r);const s=this.persistence.referenceDelegate,a=[];return s&&t.forEach(l=>{a.push(s.markPotentiallyOrphaned(e,l))}),ne.waitFor(a)}removeMatchingKeysForTargetId(e,t){return this.ai.Hr(t),ne.resolve()}getMatchingKeysForTargetId(e,t){const r=this.ai.Yr(t);return ne.resolve(r)}containsKey(e,t){return ne.resolve(this.ai.containsKey(t))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hE{constructor(e,t){this.ci={},this.overlays={},this.li=new zd(0),this.hi=!1,this.hi=!0,this.Pi=new NP,this.referenceDelegate=e(this),this.Ti=new MP(this),this.indexManager=new vP,this.remoteDocumentCache=function(s){return new kP(s)}(r=>this.referenceDelegate.Ii(r)),this.serializer=new gP(t),this.Ei=new RP(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.hi=!1,Promise.resolve()}get started(){return this.hi}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new AP,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.ci[e.toKey()];return r||(r=new PP(t,this.referenceDelegate),this.ci[e.toKey()]=r),r}getGlobalsCache(){return this.Pi}getTargetCache(){return this.Ti}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Ei}runTransaction(e,t,r){ge("MemoryPersistence","Starting transaction:",e);const s=new OP(this.li.next());return this.referenceDelegate.di(),r(s).next(a=>this.referenceDelegate.Ai(s).next(()=>a)).toPromise().then(a=>(s.raiseOnCommittedEvent(),a))}Ri(e,t){return ne.or(Object.values(this.ci).map(r=>()=>r.containsKey(e,t)))}}class OP extends cN{constructor(e){super(),this.currentSequenceNumber=e}}class og{constructor(e){this.persistence=e,this.Vi=new sg,this.mi=null}static fi(e){return new og(e)}get gi(){if(this.mi)return this.mi;throw Re(60996)}addReference(e,t,r){return this.Vi.addReference(r,t),this.gi.delete(r.toString()),ne.resolve()}removeReference(e,t,r){return this.Vi.removeReference(r,t),this.gi.add(r.toString()),ne.resolve()}markPotentiallyOrphaned(e,t){return this.gi.add(t.toString()),ne.resolve()}removeTarget(e,t){this.Vi.Hr(t.targetId).forEach(s=>this.gi.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(s=>{s.forEach(a=>this.gi.add(a.toString()))}).next(()=>r.removeTargetData(e,t))}di(){this.mi=new Set}Ai(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return ne.forEach(this.gi,r=>{const s=Se.fromPath(r);return this.pi(e,s).next(a=>{a||t.removeEntry(s,De.min())})}).next(()=>(this.mi=null,t.apply(e)))}updateLimboDocument(e,t){return this.pi(e,t).next(r=>{r?this.gi.delete(t.toString()):this.gi.add(t.toString())})}Ii(e){return 0}pi(e,t){return ne.or([()=>ne.resolve(this.Vi.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Ri(e,t)])}}class xd{constructor(e,t){this.persistence=e,this.yi=new Js(r=>hN(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=SP(this,t)}static fi(e,t){return new xd(e,t)}di(){}Ai(e){return ne.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}pr(e){const t=this.br(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>t.next(s=>r+s))}br(e){let t=0;return this.yr(e,r=>{t++}).next(()=>t)}yr(e,t){return ne.forEach(this.yi,(r,s)=>this.Dr(e,r,s).next(a=>a?ne.resolve():t(s)))}removeTargets(e,t,r){return this.persistence.getTargetCache().removeTargets(e,t,r)}removeOrphanedDocuments(e,t){let r=0;const s=this.persistence.getRemoteDocumentCache(),a=s.newChangeBuffer();return s.si(e,l=>this.Dr(e,l,t).next(c=>{c||(r++,a.removeEntry(l,De.min()))})).next(()=>a.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}removeTarget(e,t){const r=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}removeReference(e,t,r){return this.yi.set(r,e.currentSequenceNumber),ne.resolve()}updateLimboDocument(e,t){return this.yi.set(t,e.currentSequenceNumber),ne.resolve()}Ii(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Zc(e.data.value)),t}Dr(e,t,r){return ne.or([()=>this.persistence.Ri(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const s=this.yi.get(t);return ne.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ag{constructor(e,t,r,s){this.targetId=e,this.fromCache=t,this.ds=r,this.As=s}static Rs(e,t){let r=We(),s=We();for(const a of t.docChanges)switch(a.type){case 0:r=r.add(a.doc.key);break;case 1:s=s.add(a.doc.key)}return new ag(e,t.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LP{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jP{constructor(){this.Vs=!1,this.fs=!1,this.gs=100,this.ps=function(){return DR()?8:dN(PR())>0?6:4}()}initialize(e,t){this.ys=e,this.indexManager=t,this.Vs=!0}getDocumentsMatchingQuery(e,t,r,s){const a={result:null};return this.ws(e,t).next(l=>{a.result=l}).next(()=>{if(!a.result)return this.bs(e,t,s,r).next(l=>{a.result=l})}).next(()=>{if(a.result)return;const l=new LP;return this.Ss(e,t,l).next(c=>{if(a.result=c,this.fs)return this.Ds(e,t,l,c.size)})}).next(()=>a.result)}Ds(e,t,r,s){return r.documentReadCount<this.gs?(Yo()<=Ye.DEBUG&&ge("QueryEngine","SDK will not create cache indexes for query:",Xo(t),"since it only creates cache indexes for collection contains","more than or equal to",this.gs,"documents"),ne.resolve()):(Yo()<=Ye.DEBUG&&ge("QueryEngine","Query:",Xo(t),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ps*s?(Yo()<=Ye.DEBUG&&ge("QueryEngine","The SDK decides to create cache indexes for query:",Xo(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Dr(t))):ne.resolve())}ws(e,t){if(a0(t))return ne.resolve(null);let r=Dr(t);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(t.limit!==null&&s===1&&(t=Mp(t,null,"F"),r=Dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(a=>{const l=We(...a);return this.ys.getDocuments(e,l).next(c=>this.indexManager.getMinOffset(e,r).next(f=>{const h=this.vs(t,c);return this.Cs(t,h,l,f.readTime)?this.ws(e,Mp(t,null,"F")):this.Fs(e,h,t,f)}))})))}bs(e,t,r,s){return a0(t)||s.isEqual(De.min())?ne.resolve(null):this.ys.getDocuments(e,r).next(a=>{const l=this.vs(t,a);return this.Cs(t,l,r,s)?ne.resolve(null):(Yo()<=Ye.DEBUG&&ge("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(t)),this.Fs(e,l,t,oN(s,Xl)).next(c=>c))})}vs(e,t){let r=new Dt(Wx(e));return t.forEach((s,a)=>{Wd(e,a)&&(r=r.add(a))}),r}Cs(e,t,r,s){if(e.limit===null)return!1;if(r.size!==t.size)return!0;const a=e.limitType==="F"?t.last():t.first();return!!a&&(a.hasPendingWrites||a.version.compareTo(s)>0)}Ss(e,t,r){return Yo()<=Ye.DEBUG&&ge("QueryEngine","Using full collection scan to execute query:",Xo(t)),this.ys.getDocumentsMatchingQuery(e,t,Xi.min(),r)}Fs(e,t,r,s){return this.ys.getDocumentsMatchingQuery(e,r,s).next(a=>(t.forEach(l=>{a=a.insert(l.key,l)}),a))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lg="LocalStore",VP=3e8;class FP{constructor(e,t,r,s){this.persistence=e,this.Ms=t,this.serializer=s,this.xs=new gt($e),this.Os=new Js(a=>Xm(a),Jm),this.Ns=new Map,this.Bs=e.getRemoteDocumentCache(),this.Ti=e.getTargetCache(),this.Ei=e.getBundleCache(),this.Ls(r)}Ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new bP(this.Bs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.Bs.setIndexManager(this.indexManager),this.Ms.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.xs))}}function $P(n,e,t,r){return new FP(n,e,t,r)}async function pE(n,e){const t=Oe(n);return await t.persistence.runTransaction("Handle user change","readonly",r=>{let s;return t.mutationQueue.getAllMutationBatches(r).next(a=>(s=a,t.Ls(e),t.mutationQueue.getAllMutationBatches(r))).next(a=>{const l=[],c=[];let f=We();for(const h of s){l.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}for(const h of a){c.push(h.batchId);for(const m of h.mutations)f=f.add(m.key)}return t.localDocuments.getDocuments(r,f).next(h=>({ks:h,removedBatchIds:l,addedBatchIds:c}))})})}function zP(n,e){const t=Oe(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),a=t.Bs.newChangeBuffer({trackRemovals:!0});return function(c,f,h,m){const v=h.batch,w=v.keys();let T=ne.resolve();return w.forEach(C=>{T=T.next(()=>m.getEntry(f,C)).next(I=>{const b=h.docVersions.get(C);Ze(b!==null,48541),I.version.compareTo(b)<0&&(v.applyToRemoteDocument(I,h),I.isValidDocument()&&(I.setReadTime(h.commitVersion),m.addEntry(I)))})}),T.next(()=>c.mutationQueue.removeMutationBatch(f,v))}(t,r,e,a).next(()=>a.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(c){let f=We();for(let h=0;h<c.mutationResults.length;++h)c.mutationResults[h].transformResults.length>0&&(f=f.add(c.batch.mutations[h].key));return f}(e))).next(()=>t.localDocuments.getDocuments(r,s))})}function mE(n){const e=Oe(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ti.getLastRemoteSnapshotVersion(t))}function UP(n,e){const t=Oe(n),r=e.snapshotVersion;let s=t.xs;return t.persistence.runTransaction("Apply remote event","readwrite-primary",a=>{const l=t.Bs.newChangeBuffer({trackRemovals:!0});s=t.xs;const c=[];e.targetChanges.forEach((m,v)=>{const w=s.get(v);if(!w)return;c.push(t.Ti.removeMatchingKeys(a,m.removedDocuments,v).next(()=>t.Ti.addMatchingKeys(a,m.addedDocuments,v)));let T=w.withSequenceNumber(a.currentSequenceNumber);e.targetMismatches.get(v)!==null?T=T.withResumeToken(qt.EMPTY_BYTE_STRING,De.min()).withLastLimboFreeSnapshotVersion(De.min()):m.resumeToken.approximateByteSize()>0&&(T=T.withResumeToken(m.resumeToken,r)),s=s.insert(v,T),function(I,b,R){return I.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-I.snapshotVersion.toMicroseconds()>=VP?!0:R.addedDocuments.size+R.modifiedDocuments.size+R.removedDocuments.size>0}(w,T,m)&&c.push(t.Ti.updateTargetData(a,T))});let f=ci(),h=We();if(e.documentUpdates.forEach(m=>{e.resolvedLimboDocuments.has(m)&&c.push(t.persistence.referenceDelegate.updateLimboDocument(a,m))}),c.push(BP(a,l,e.documentUpdates).next(m=>{f=m.qs,h=m.Qs})),!r.isEqual(De.min())){const m=t.Ti.getLastRemoteSnapshotVersion(a).next(v=>t.Ti.setTargetsMetadata(a,a.currentSequenceNumber,r));c.push(m)}return ne.waitFor(c).next(()=>l.apply(a)).next(()=>t.localDocuments.getLocalViewOfDocuments(a,f,h)).next(()=>f)}).then(a=>(t.xs=s,a))}function BP(n,e,t){let r=We(),s=We();return t.forEach(a=>r=r.add(a)),e.getEntries(n,r).next(a=>{let l=ci();return t.forEach((c,f)=>{const h=a.get(c);f.isFoundDocument()!==h.isFoundDocument()&&(s=s.add(c)),f.isNoDocument()&&f.version.isEqual(De.min())?(e.removeEntry(c,f.readTime),l=l.insert(c,f)):!h.isValidDocument()||f.version.compareTo(h.version)>0||f.version.compareTo(h.version)===0&&h.hasPendingWrites?(e.addEntry(f),l=l.insert(c,f)):ge(lg,"Ignoring outdated watch update for ",c,". Current version:",h.version," Watch version:",f.version)}),{qs:l,Qs:s}})}function HP(n,e){const t=Oe(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Gm),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function WP(n,e){const t=Oe(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return t.Ti.getTargetData(r,e).next(a=>a?(s=a,ne.resolve(s)):t.Ti.allocateTargetId(r).next(l=>(s=new Hi(e,l,"TargetPurposeListen",r.currentSequenceNumber),t.Ti.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=t.xs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(t.xs=t.xs.insert(r.targetId,r),t.Os.set(e,r.targetId)),r})}async function Fp(n,e,t){const r=Oe(n),s=r.xs.get(e),a=t?"readwrite":"readwrite-primary";try{t||await r.persistence.runTransaction("Release target",a,l=>r.persistence.referenceDelegate.removeTarget(l,s))}catch(l){if(!Ca(l))throw l;ge(lg,`Failed to update sequence numbers for target ${e}: ${l}`)}r.xs=r.xs.remove(e),r.Os.delete(s.target)}function _0(n,e,t){const r=Oe(n);let s=De.min(),a=We();return r.persistence.runTransaction("Execute query","readwrite",l=>function(f,h,m){const v=Oe(f),w=v.Os.get(m);return w!==void 0?ne.resolve(v.xs.get(w)):v.Ti.getTargetData(h,m)}(r,l,Dr(e)).next(c=>{if(c)return s=c.lastLimboFreeSnapshotVersion,r.Ti.getMatchingKeysForTargetId(l,c.targetId).next(f=>{a=f})}).next(()=>r.Ms.getDocumentsMatchingQuery(l,e,t?s:De.min(),t?a:We())).next(c=>(KP(r,kN(e),c),{documents:c,$s:a})))}function KP(n,e,t){let r=n.Ns.get(e)||De.min();t.forEach((s,a)=>{a.readTime.compareTo(r)>0&&(r=a.readTime)}),n.Ns.set(e,r)}class x0{constructor(){this.activeTargetIds=VN()}js(e){this.activeTargetIds=this.activeTargetIds.add(e)}Hs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}zs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class qP{constructor(){this.xo=new x0,this.Oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.xo.js(e),this.Oo[e]||"not-current"}updateQueryState(e,t,r){this.Oo[e]=t}removeLocalQueryTarget(e){this.xo.Hs(e)}isLocalQueryTarget(e){return this.xo.activeTargetIds.has(e)}clearQueryState(e){delete this.Oo[e]}getAllActiveQueryTargets(){return this.xo.activeTargetIds}isActiveQueryTarget(e){return this.xo.activeTargetIds.has(e)}start(){return this.xo=new x0,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GP{No(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E0="ConnectivityMonitor";class C0{constructor(){this.Bo=()=>this.Lo(),this.ko=()=>this.qo(),this.Qo=[],this.$o()}No(e){this.Qo.push(e)}shutdown(){window.removeEventListener("online",this.Bo),window.removeEventListener("offline",this.ko)}$o(){window.addEventListener("online",this.Bo),window.addEventListener("offline",this.ko)}Lo(){ge(E0,"Network connectivity changed: AVAILABLE");for(const e of this.Qo)e(0)}qo(){ge(E0,"Network connectivity changed: UNAVAILABLE");for(const e of this.Qo)e(1)}static C(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let $c=null;function $p(){return $c===null?$c=function(){return 268435456+Math.round(2147483648*Math.random())}():$c++,"0x"+$c.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const np="RestConnection",QP={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class YP{get Uo(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Ko=t+"://"+e.host,this.Wo=`projects/${r}/databases/${s}`,this.Go=this.databaseId.database===md?`project_id=${r}`:`project_id=${r}&database_id=${s}`}zo(e,t,r,s,a){const l=$p(),c=this.jo(e,t.toUriEncodedString());ge(np,`Sending RPC '${e}' ${l}:`,c,r);const f={"google-cloud-resource-prefix":this.Wo,"x-goog-request-params":this.Go};this.Ho(f,s,a);const{host:h}=new URL(c),m=Wm(h);return this.Jo(e,c,f,r,m).then(v=>(ge(np,`Received RPC '${e}' ${l}: `,v),v),v=>{throw aa(np,`RPC '${e}' ${l} failed with error: `,v,"url: ",c,"request:",r),v})}Yo(e,t,r,s,a,l){return this.zo(e,t,r,s,a)}Ho(e,t,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xa}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach((s,a)=>e[a]=s),r&&r.headers.forEach((s,a)=>e[a]=s)}jo(e,t){const r=QP[e];return`${this.Ko}/v1/${t}:${r}`}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class XP{constructor(e){this.Zo=e.Zo,this.Xo=e.Xo}e_(e){this.t_=e}n_(e){this.r_=e}i_(e){this.s_=e}onMessage(e){this.o_=e}close(){this.Xo()}send(e){this.Zo(e)}__(){this.t_()}a_(){this.r_()}u_(e){this.s_(e)}c_(e){this.o_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zt="WebChannelConnection";class JP extends YP{constructor(e){super(e),this.l_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Jo(e,t,r,s,a){const l=$p();return new Promise((c,f)=>{const h=new vx;h.setWithCredentials(!0),h.listenOnce(wx.COMPLETE,()=>{try{switch(h.getLastErrorCode()){case Jc.NO_ERROR:const v=h.getResponseJson();ge(Zt,`XHR for RPC '${e}' ${l} received:`,JSON.stringify(v)),c(v);break;case Jc.TIMEOUT:ge(Zt,`RPC '${e}' ${l} timed out`),f(new ve(re.DEADLINE_EXCEEDED,"Request time out"));break;case Jc.HTTP_ERROR:const w=h.getStatus();if(ge(Zt,`RPC '${e}' ${l} failed with status:`,w,"response text:",h.getResponseText()),w>0){let T=h.getResponseJson();Array.isArray(T)&&(T=T[0]);const C=T==null?void 0:T.error;if(C&&C.status&&C.message){const I=function(R){const D=R.toLowerCase().replace(/_/g,"-");return Object.values(re).indexOf(D)>=0?D:re.UNKNOWN}(C.status);f(new ve(I,C.message))}else f(new ve(re.UNKNOWN,"Server responded with status "+h.getStatus()))}else f(new ve(re.UNAVAILABLE,"Connection failed."));break;default:Re(9055,{h_:e,streamId:l,P_:h.getLastErrorCode(),T_:h.getLastError()})}}finally{ge(Zt,`RPC '${e}' ${l} completed.`)}});const m=JSON.stringify(s);ge(Zt,`RPC '${e}' ${l} sending request:`,s),h.send(t,"POST",m,r,15)})}I_(e,t,r){const s=$p(),a=[this.Ko,"/","google.firestore.v1.Firestore","/",e,"/channel"],l=Ex(),c=xx(),f={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},h=this.longPollingOptions.timeoutSeconds;h!==void 0&&(f.longPollingTimeout=Math.round(1e3*h)),this.useFetchStreams&&(f.useFetchStreams=!0),this.Ho(f.initMessageHeaders,t,r),f.encodeInitMessageHeaders=!0;const m=a.join("");ge(Zt,`Creating RPC '${e}' stream ${s}: ${m}`,f);const v=l.createWebChannel(m,f);this.E_(v);let w=!1,T=!1;const C=new XP({Zo:b=>{T?ge(Zt,`Not sending because RPC '${e}' stream ${s} is closed:`,b):(w||(ge(Zt,`Opening RPC '${e}' stream ${s} transport.`),v.open(),w=!0),ge(Zt,`RPC '${e}' stream ${s} sending:`,b),v.send(b))},Xo:()=>v.close()}),I=(b,R,D)=>{b.listen(R,j=>{try{D(j)}catch(z){setTimeout(()=>{throw z},0)}})};return I(v,Al.EventType.OPEN,()=>{T||(ge(Zt,`RPC '${e}' stream ${s} transport opened.`),C.__())}),I(v,Al.EventType.CLOSE,()=>{T||(T=!0,ge(Zt,`RPC '${e}' stream ${s} transport closed`),C.u_(),this.d_(v))}),I(v,Al.EventType.ERROR,b=>{T||(T=!0,aa(Zt,`RPC '${e}' stream ${s} transport errored. Name:`,b.name,"Message:",b.message),C.u_(new ve(re.UNAVAILABLE,"The operation could not be completed")))}),I(v,Al.EventType.MESSAGE,b=>{var R;if(!T){const D=b.data[0];Ze(!!D,16349);const j=D,z=(j==null?void 0:j.error)||((R=j[0])===null||R===void 0?void 0:R.error);if(z){ge(Zt,`RPC '${e}' stream ${s} received error:`,z);const q=z.status;let Z=function(M){const V=It[M];if(V!==void 0)return nE(V)}(q),L=z.message;Z===void 0&&(Z=re.INTERNAL,L="Unknown error status: "+q+" with message "+z.message),T=!0,C.u_(new ve(Z,L)),v.close()}else ge(Zt,`RPC '${e}' stream ${s} received:`,D),C.c_(D)}}),I(c,_x.STAT_EVENT,b=>{b.stat===bp.PROXY?ge(Zt,`RPC '${e}' stream ${s} detected buffering proxy`):b.stat===bp.NOPROXY&&ge(Zt,`RPC '${e}' stream ${s} detected no buffering proxy`)}),setTimeout(()=>{C.a_()},0),C}terminate(){this.l_.forEach(e=>e.close()),this.l_=[]}E_(e){this.l_.push(e)}d_(e){this.l_=this.l_.filter(t=>t===e)}}function rp(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qd(n){return new nP(n,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gE{constructor(e,t,r=1e3,s=1.5,a=6e4){this.xi=e,this.timerId=t,this.A_=r,this.R_=s,this.V_=a,this.m_=0,this.f_=null,this.g_=Date.now(),this.reset()}reset(){this.m_=0}p_(){this.m_=this.V_}y_(e){this.cancel();const t=Math.floor(this.m_+this.w_()),r=Math.max(0,Date.now()-this.g_),s=Math.max(0,t-r);s>0&&ge("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.m_} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.f_=this.xi.enqueueAfterDelay(this.timerId,s,()=>(this.g_=Date.now(),e())),this.m_*=this.R_,this.m_<this.A_&&(this.m_=this.A_),this.m_>this.V_&&(this.m_=this.V_)}b_(){this.f_!==null&&(this.f_.skipDelay(),this.f_=null)}cancel(){this.f_!==null&&(this.f_.cancel(),this.f_=null)}w_(){return(Math.random()-.5)*this.m_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S0="PersistentStream";class yE{constructor(e,t,r,s,a,l,c,f){this.xi=e,this.S_=r,this.D_=s,this.connection=a,this.authCredentialsProvider=l,this.appCheckCredentialsProvider=c,this.listener=f,this.state=0,this.v_=0,this.C_=null,this.F_=null,this.stream=null,this.M_=0,this.x_=new gE(e,t)}O_(){return this.state===1||this.state===5||this.N_()}N_(){return this.state===2||this.state===3}start(){this.M_=0,this.state!==4?this.auth():this.B_()}async stop(){this.O_()&&await this.close(0)}L_(){this.state=0,this.x_.reset()}k_(){this.N_()&&this.C_===null&&(this.C_=this.xi.enqueueAfterDelay(this.S_,6e4,()=>this.q_()))}Q_(e){this.U_(),this.stream.send(e)}async q_(){if(this.N_())return this.close(0)}U_(){this.C_&&(this.C_.cancel(),this.C_=null)}K_(){this.F_&&(this.F_.cancel(),this.F_=null)}async close(e,t){this.U_(),this.K_(),this.x_.cancel(),this.v_++,e!==4?this.x_.reset():t&&t.code===re.RESOURCE_EXHAUSTED?(ui(t.toString()),ui("Using maximum backoff delay to prevent overloading the backend."),this.x_.p_()):t&&t.code===re.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.i_(t)}W_(){}auth(){this.state=1;const e=this.G_(this.v_),t=this.v_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.v_===t&&this.z_(r,s)},r=>{e(()=>{const s=new ve(re.UNKNOWN,"Fetching auth token failed: "+r.message);return this.j_(s)})})}z_(e,t){const r=this.G_(this.v_);this.stream=this.H_(e,t),this.stream.e_(()=>{r(()=>this.listener.e_())}),this.stream.n_(()=>{r(()=>(this.state=2,this.F_=this.xi.enqueueAfterDelay(this.D_,1e4,()=>(this.N_()&&(this.state=3),Promise.resolve())),this.listener.n_()))}),this.stream.i_(s=>{r(()=>this.j_(s))}),this.stream.onMessage(s=>{r(()=>++this.M_==1?this.J_(s):this.onNext(s))})}B_(){this.state=5,this.x_.y_(async()=>{this.state=0,this.start()})}j_(e){return ge(S0,`close with error: ${e}`),this.stream=null,this.close(4,e)}G_(e){return t=>{this.xi.enqueueAndForget(()=>this.v_===e?t():(ge(S0,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class ZP extends yE{constructor(e,t,r,s,a,l){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}H_(e,t){return this.connection.I_("Listen",e,t)}J_(e){return this.onNext(e)}onNext(e){this.x_.reset();const t=sP(this.serializer,e),r=function(a){if(!("targetChange"in a))return De.min();const l=a.targetChange;return l.targetIds&&l.targetIds.length?De.min():l.readTime?Mr(l.readTime):De.min()}(e);return this.listener.Y_(t,r)}Z_(e){const t={};t.database=Vp(this.serializer),t.addTarget=function(a,l){let c;const f=l.target;if(c=kp(f)?{documents:lP(a,f)}:{query:uP(a,f).gt},c.targetId=l.targetId,l.resumeToken.approximateByteSize()>0){c.resumeToken=sE(a,l.resumeToken);const h=Op(a,l.expectedCount);h!==null&&(c.expectedCount=h)}else if(l.snapshotVersion.compareTo(De.min())>0){c.readTime=_d(a,l.snapshotVersion.toTimestamp());const h=Op(a,l.expectedCount);h!==null&&(c.expectedCount=h)}return c}(this.serializer,e);const r=dP(this.serializer,e);r&&(t.labels=r),this.Q_(t)}X_(e){const t={};t.database=Vp(this.serializer),t.removeTarget=e,this.Q_(t)}}class e2 extends yE{constructor(e,t,r,s,a,l){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,s,l),this.serializer=a}get ea(){return this.M_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.ea&&this.ta([])}H_(e,t){return this.connection.I_("Write",e,t)}J_(e){return Ze(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ze(!e.writeResults||e.writeResults.length===0,55816),this.listener.na()}onNext(e){Ze(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.x_.reset();const t=aP(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.ra(r,t)}ia(){const e={};e.database=Vp(this.serializer),this.Q_(e)}ta(e){const t={streamToken:this.lastStreamToken,writes:e.map(r=>oP(this.serializer,r))};this.Q_(t)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t2{}class n2 extends t2{constructor(e,t,r,s){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=s,this.sa=!1}oa(){if(this.sa)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.")}zo(e,t,r,s){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([a,l])=>this.connection.zo(e,Lp(t,r),s,a,l)).catch(a=>{throw a.name==="FirebaseError"?(a.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),a):new ve(re.UNKNOWN,a.toString())})}Yo(e,t,r,s,a){return this.oa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([l,c])=>this.connection.Yo(e,Lp(t,r),s,l,c,a)).catch(l=>{throw l.name==="FirebaseError"?(l.code===re.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),l):new ve(re.UNKNOWN,l.toString())})}terminate(){this.sa=!0,this.connection.terminate()}}class r2{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this._a=0,this.aa=null,this.ua=!0}ca(){this._a===0&&(this.la("Unknown"),this.aa=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.aa=null,this.ha("Backend didn't respond within 10 seconds."),this.la("Offline"),Promise.resolve())))}Pa(e){this.state==="Online"?this.la("Unknown"):(this._a++,this._a>=1&&(this.Ta(),this.ha(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.la("Offline")))}set(e){this.Ta(),this._a=0,e==="Online"&&(this.ua=!1),this.la(e)}la(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}ha(e){const t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.ua?(ui(t),this.ua=!1):ge("OnlineStateTracker",t)}Ta(){this.aa!==null&&(this.aa.cancel(),this.aa=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Hs="RemoteStore";class i2{constructor(e,t,r,s,a){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.Ia=[],this.Ea=new Map,this.da=new Set,this.Aa=[],this.Ra=a,this.Ra.No(l=>{r.enqueueAndForget(async()=>{Zs(this)&&(ge(Hs,"Restarting streams for network reachability change."),await async function(f){const h=Oe(f);h.da.add(4),await pu(h),h.Va.set("Unknown"),h.da.delete(4),await Yd(h)}(this))})}),this.Va=new r2(r,s)}}async function Yd(n){if(Zs(n))for(const e of n.Aa)await e(!0)}async function pu(n){for(const e of n.Aa)await e(!1)}function vE(n,e){const t=Oe(n);t.Ea.has(e.targetId)||(t.Ea.set(e.targetId,e),fg(t)?dg(t):Ta(t).N_()&&cg(t,e))}function ug(n,e){const t=Oe(n),r=Ta(t);t.Ea.delete(e),r.N_()&&wE(t,e),t.Ea.size===0&&(r.N_()?r.k_():Zs(t)&&t.Va.set("Unknown"))}function cg(n,e){if(n.ma.Ke(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(De.min())>0){const t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ta(n).Z_(e)}function wE(n,e){n.ma.Ke(e),Ta(n).X_(e)}function dg(n){n.ma=new JN({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),Rt:e=>n.Ea.get(e)||null,Pt:()=>n.datastore.serializer.databaseId}),Ta(n).start(),n.Va.ca()}function fg(n){return Zs(n)&&!Ta(n).O_()&&n.Ea.size>0}function Zs(n){return Oe(n).da.size===0}function _E(n){n.ma=void 0}async function s2(n){n.Va.set("Online")}async function o2(n){n.Ea.forEach((e,t)=>{cg(n,e)})}async function a2(n,e){_E(n),fg(n)?(n.Va.Pa(e),dg(n)):n.Va.set("Unknown")}async function l2(n,e,t){if(n.Va.set("Online"),e instanceof iE&&e.state===2&&e.cause)try{await async function(s,a){const l=a.cause;for(const c of a.targetIds)s.Ea.has(c)&&(await s.remoteSyncer.rejectListen(c,l),s.Ea.delete(c),s.ma.removeTarget(c))}(n,e)}catch(r){ge(Hs,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Ed(n,r)}else if(e instanceof nd?n.ma.Xe(e):e instanceof rE?n.ma.ot(e):n.ma.nt(e),!t.isEqual(De.min()))try{const r=await mE(n.localStore);t.compareTo(r)>=0&&await function(a,l){const c=a.ma.It(l);return c.targetChanges.forEach((f,h)=>{if(f.resumeToken.approximateByteSize()>0){const m=a.Ea.get(h);m&&a.Ea.set(h,m.withResumeToken(f.resumeToken,l))}}),c.targetMismatches.forEach((f,h)=>{const m=a.Ea.get(f);if(!m)return;a.Ea.set(f,m.withResumeToken(qt.EMPTY_BYTE_STRING,m.snapshotVersion)),wE(a,f);const v=new Hi(m.target,f,h,m.sequenceNumber);cg(a,v)}),a.remoteSyncer.applyRemoteEvent(c)}(n,t)}catch(r){ge(Hs,"Failed to raise snapshot:",r),await Ed(n,r)}}async function Ed(n,e,t){if(!Ca(e))throw e;n.da.add(1),await pu(n),n.Va.set("Offline"),t||(t=()=>mE(n.localStore)),n.asyncQueue.enqueueRetryable(async()=>{ge(Hs,"Retrying IndexedDB access"),await t(),n.da.delete(1),await Yd(n)})}function xE(n,e){return e().catch(t=>Ed(n,t,e))}async function Xd(n){const e=Oe(n),t=ts(e);let r=e.Ia.length>0?e.Ia[e.Ia.length-1].batchId:Gm;for(;u2(e);)try{const s=await HP(e.localStore,r);if(s===null){e.Ia.length===0&&t.k_();break}r=s.batchId,c2(e,s)}catch(s){await Ed(e,s)}EE(e)&&CE(e)}function u2(n){return Zs(n)&&n.Ia.length<10}function c2(n,e){n.Ia.push(e);const t=ts(n);t.N_()&&t.ea&&t.ta(e.mutations)}function EE(n){return Zs(n)&&!ts(n).O_()&&n.Ia.length>0}function CE(n){ts(n).start()}async function d2(n){ts(n).ia()}async function f2(n){const e=ts(n);for(const t of n.Ia)e.ta(t.mutations)}async function h2(n,e,t){const r=n.Ia.shift(),s=ng.from(r,e,t);await xE(n,()=>n.remoteSyncer.applySuccessfulWrite(s)),await Xd(n)}async function p2(n,e){e&&ts(n).ea&&await async function(r,s){if(function(l){return YN(l)&&l!==re.ABORTED}(s.code)){const a=r.Ia.shift();ts(r).L_(),await xE(r,()=>r.remoteSyncer.rejectFailedWrite(a.batchId,s)),await Xd(r)}}(n,e),EE(n)&&CE(n)}async function T0(n,e){const t=Oe(n);t.asyncQueue.verifyOperationInProgress(),ge(Hs,"RemoteStore received new credentials");const r=Zs(t);t.da.add(3),await pu(t),r&&t.Va.set("Unknown"),await t.remoteSyncer.handleCredentialChange(e),t.da.delete(3),await Yd(t)}async function m2(n,e){const t=Oe(n);e?(t.da.delete(2),await Yd(t)):e||(t.da.add(2),await pu(t),t.Va.set("Unknown"))}function Ta(n){return n.fa||(n.fa=function(t,r,s){const a=Oe(t);return a.oa(),new ZP(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:s2.bind(null,n),n_:o2.bind(null,n),i_:a2.bind(null,n),Y_:l2.bind(null,n)}),n.Aa.push(async e=>{e?(n.fa.L_(),fg(n)?dg(n):n.Va.set("Unknown")):(await n.fa.stop(),_E(n))})),n.fa}function ts(n){return n.ga||(n.ga=function(t,r,s){const a=Oe(t);return a.oa(),new e2(r,a.connection,a.authCredentials,a.appCheckCredentials,a.serializer,s)}(n.datastore,n.asyncQueue,{e_:()=>Promise.resolve(),n_:d2.bind(null,n),i_:p2.bind(null,n),na:f2.bind(null,n),ra:h2.bind(null,n)}),n.Aa.push(async e=>{e?(n.ga.L_(),await Xd(n)):(await n.ga.stop(),n.Ia.length>0&&(ge(Hs,`Stopping write stream with ${n.Ia.length} pending writes`),n.Ia=[]))})),n.ga}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hg{constructor(e,t,r,s,a){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=s,this.removalCallback=a,this.deferred=new Gi,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(l=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,s,a){const l=Date.now()+r,c=new hg(e,t,l,s,a);return c.start(r),c}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new ve(re.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function pg(n,e){if(ui("AsyncQueue",`${e}: ${n}`),Ca(n))return new ve(re.UNAVAILABLE,`${e}: ${n}`);throw n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class na{static emptySet(e){return new na(e.comparator)}constructor(e){this.comparator=e?(t,r)=>e(t,r)||Se.comparator(t.key,r.key):(t,r)=>Se.comparator(t.key,r.key),this.keyedMap=Nl(),this.sortedSet=new gt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof na)||this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){const s=t.getNext().key,a=r.getNext().key;if(!s.isEqual(a))return!1}return!0}toString(){const e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){const r=new na;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I0{constructor(){this.pa=new gt(Se.comparator)}track(e){const t=e.doc.key,r=this.pa.get(t);r?e.type!==0&&r.type===3?this.pa=this.pa.insert(t,e):e.type===3&&r.type!==1?this.pa=this.pa.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.pa=this.pa.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.pa=this.pa.remove(t):e.type===1&&r.type===2?this.pa=this.pa.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.pa=this.pa.insert(t,{type:2,doc:e.doc}):Re(63341,{Vt:e,ya:r}):this.pa=this.pa.insert(t,e)}wa(){const e=[];return this.pa.inorderTraversal((t,r)=>{e.push(r)}),e}}class fa{constructor(e,t,r,s,a,l,c,f,h){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=a,this.fromCache=l,this.syncStateChanged=c,this.excludesMetadataChanges=f,this.hasCachedResults=h}static fromInitialDocuments(e,t,r,s,a){const l=[];return t.forEach(c=>{l.push({type:0,doc:c})}),new fa(e,t,na.emptySet(t),l,r,s,!0,!1,a)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hd(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let s=0;s<t.length;s++)if(t[s].type!==r[s].type||!t[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g2{constructor(){this.ba=void 0,this.Sa=[]}Da(){return this.Sa.some(e=>e.va())}}class y2{constructor(){this.queries=b0(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(t,r){const s=Oe(t),a=s.queries;s.queries=b0(),a.forEach((l,c)=>{for(const f of c.Sa)f.onError(r)})})(this,new ve(re.ABORTED,"Firestore shutting down"))}}function b0(){return new Js(n=>Hx(n),Hd)}async function SE(n,e){const t=Oe(n);let r=3;const s=e.query;let a=t.queries.get(s);a?!a.Da()&&e.va()&&(r=2):(a=new g2,r=e.va()?0:1);try{switch(r){case 0:a.ba=await t.onListen(s,!0);break;case 1:a.ba=await t.onListen(s,!1);break;case 2:await t.onFirstRemoteStoreListen(s)}}catch(l){const c=pg(l,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(c)}t.queries.set(s,a),a.Sa.push(e),e.Fa(t.onlineState),a.ba&&e.Ma(a.ba)&&mg(t)}async function TE(n,e){const t=Oe(n),r=e.query;let s=3;const a=t.queries.get(r);if(a){const l=a.Sa.indexOf(e);l>=0&&(a.Sa.splice(l,1),a.Sa.length===0?s=e.va()?0:1:!a.Da()&&e.va()&&(s=2))}switch(s){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}}function v2(n,e){const t=Oe(n);let r=!1;for(const s of e){const a=s.query,l=t.queries.get(a);if(l){for(const c of l.Sa)c.Ma(s)&&(r=!0);l.ba=s}}r&&mg(t)}function w2(n,e,t){const r=Oe(n),s=r.queries.get(e);if(s)for(const a of s.Sa)a.onError(t);r.queries.delete(e)}function mg(n){n.Ca.forEach(e=>{e.next()})}var zp,R0;(R0=zp||(zp={})).xa="default",R0.Cache="cache";class IE{constructor(e,t,r){this.query=e,this.Oa=t,this.Na=!1,this.Ba=null,this.onlineState="Unknown",this.options=r||{}}Ma(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new fa(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.Na?this.La(e)&&(this.Oa.next(e),t=!0):this.ka(e,this.onlineState)&&(this.qa(e),t=!0),this.Ba=e,t}onError(e){this.Oa.error(e)}Fa(e){this.onlineState=e;let t=!1;return this.Ba&&!this.Na&&this.ka(this.Ba,e)&&(this.qa(this.Ba),t=!0),t}ka(e,t){if(!e.fromCache||!this.va())return!0;const r=t!=="Offline";return(!this.options.Qa||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}La(e){if(e.docChanges.length>0)return!0;const t=this.Ba&&this.Ba.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}qa(e){e=fa.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Na=!0,this.Oa.next(e)}va(){return this.options.source!==zp.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bE{constructor(e){this.key=e}}class RE{constructor(e){this.key=e}}class _2{constructor(e,t){this.query=e,this.Ha=t,this.Ja=null,this.hasCachedResults=!1,this.current=!1,this.Ya=We(),this.mutatedKeys=We(),this.Za=Wx(e),this.Xa=new na(this.Za)}get eu(){return this.Ha}tu(e,t){const r=t?t.nu:new I0,s=t?t.Xa:this.Xa;let a=t?t.mutatedKeys:this.mutatedKeys,l=s,c=!1;const f=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,h=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((m,v)=>{const w=s.get(m),T=Wd(this.query,v)?v:null,C=!!w&&this.mutatedKeys.has(w.key),I=!!T&&(T.hasLocalMutations||this.mutatedKeys.has(T.key)&&T.hasCommittedMutations);let b=!1;w&&T?w.data.isEqual(T.data)?C!==I&&(r.track({type:3,doc:T}),b=!0):this.ru(w,T)||(r.track({type:2,doc:T}),b=!0,(f&&this.Za(T,f)>0||h&&this.Za(T,h)<0)&&(c=!0)):!w&&T?(r.track({type:0,doc:T}),b=!0):w&&!T&&(r.track({type:1,doc:w}),b=!0,(f||h)&&(c=!0)),b&&(T?(l=l.add(T),a=I?a.add(m):a.delete(m)):(l=l.delete(m),a=a.delete(m)))}),this.query.limit!==null)for(;l.size>this.query.limit;){const m=this.query.limitType==="F"?l.last():l.first();l=l.delete(m.key),a=a.delete(m.key),r.track({type:1,doc:m})}return{Xa:l,nu:r,Cs:c,mutatedKeys:a}}ru(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,s){const a=this.Xa;this.Xa=e.Xa,this.mutatedKeys=e.mutatedKeys;const l=e.nu.wa();l.sort((m,v)=>function(T,C){const I=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return Re(20277,{Vt:b})}};return I(T)-I(C)}(m.type,v.type)||this.Za(m.doc,v.doc)),this.iu(r),s=s!=null&&s;const c=t&&!s?this.su():[],f=this.Ya.size===0&&this.current&&!s?1:0,h=f!==this.Ja;return this.Ja=f,l.length!==0||h?{snapshot:new fa(this.query,e.Xa,a,l,e.mutatedKeys,f===0,h,!1,!!r&&r.resumeToken.approximateByteSize()>0),ou:c}:{ou:c}}Fa(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Xa:this.Xa,nu:new I0,mutatedKeys:this.mutatedKeys,Cs:!1},!1)):{ou:[]}}_u(e){return!this.Ha.has(e)&&!!this.Xa.has(e)&&!this.Xa.get(e).hasLocalMutations}iu(e){e&&(e.addedDocuments.forEach(t=>this.Ha=this.Ha.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ha=this.Ha.delete(t)),this.current=e.current)}su(){if(!this.current)return[];const e=this.Ya;this.Ya=We(),this.Xa.forEach(r=>{this._u(r.key)&&(this.Ya=this.Ya.add(r.key))});const t=[];return e.forEach(r=>{this.Ya.has(r)||t.push(new RE(r))}),this.Ya.forEach(r=>{e.has(r)||t.push(new bE(r))}),t}au(e){this.Ha=e.$s,this.Ya=We();const t=this.tu(e.documents);return this.applyChanges(t,!0)}uu(){return fa.fromInitialDocuments(this.query,this.Xa,this.mutatedKeys,this.Ja===0,this.hasCachedResults)}}const gg="SyncEngine";class x2{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}}class E2{constructor(e){this.key=e,this.cu=!1}}class C2{constructor(e,t,r,s,a,l){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=s,this.currentUser=a,this.maxConcurrentLimboResolutions=l,this.lu={},this.hu=new Js(c=>Hx(c),Hd),this.Pu=new Map,this.Tu=new Set,this.Iu=new gt(Se.comparator),this.Eu=new Map,this.du=new sg,this.Au={},this.Ru=new Map,this.Vu=da.lr(),this.onlineState="Unknown",this.mu=void 0}get isPrimaryClient(){return this.mu===!0}}async function S2(n,e,t=!0){const r=ME(n);let s;const a=r.hu.get(e);return a?(r.sharedClientState.addLocalQueryTarget(a.targetId),s=a.view.uu()):s=await AE(r,e,t,!0),s}async function T2(n,e){const t=ME(n);await AE(t,e,!0,!1)}async function AE(n,e,t,r){const s=await WP(n.localStore,Dr(e)),a=s.targetId,l=n.sharedClientState.addLocalQueryTarget(a,t);let c;return r&&(c=await I2(n,e,a,l==="current",s.resumeToken)),n.isPrimaryClient&&t&&vE(n.remoteStore,s),c}async function I2(n,e,t,r,s){n.fu=(v,w,T)=>async function(I,b,R,D){let j=b.view.tu(R);j.Cs&&(j=await _0(I.localStore,b.query,!1).then(({documents:L})=>b.view.tu(L,j)));const z=D&&D.targetChanges.get(b.targetId),q=D&&D.targetMismatches.get(b.targetId)!=null,Z=b.view.applyChanges(j,I.isPrimaryClient,z,q);return N0(I,b.targetId,Z.ou),Z.snapshot}(n,v,w,T);const a=await _0(n.localStore,e,!0),l=new _2(e,a.$s),c=l.tu(a.documents),f=hu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",s),h=l.applyChanges(c,n.isPrimaryClient,f);N0(n,t,h.ou);const m=new x2(e,t,l);return n.hu.set(e,m),n.Pu.has(t)?n.Pu.get(t).push(e):n.Pu.set(t,[e]),h.snapshot}async function b2(n,e,t){const r=Oe(n),s=r.hu.get(e),a=r.Pu.get(s.targetId);if(a.length>1)return r.Pu.set(s.targetId,a.filter(l=>!Hd(l,e))),void r.hu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Fp(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),t&&ug(r.remoteStore,s.targetId),Up(r,s.targetId)}).catch(Ea)):(Up(r,s.targetId),await Fp(r.localStore,s.targetId,!0))}async function R2(n,e){const t=Oe(n),r=t.hu.get(e),s=t.Pu.get(r.targetId);t.isPrimaryClient&&s.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),ug(t.remoteStore,r.targetId))}async function A2(n,e,t){const r=L2(n);try{const s=await function(l,c){const f=Oe(l),h=Ct.now(),m=c.reduce((T,C)=>T.add(C.key),We());let v,w;return f.persistence.runTransaction("Locally write mutations","readwrite",T=>{let C=ci(),I=We();return f.Bs.getEntries(T,m).next(b=>{C=b,C.forEach((R,D)=>{D.isValidDocument()||(I=I.add(R))})}).next(()=>f.localDocuments.getOverlayedDocuments(T,C)).next(b=>{v=b;const R=[];for(const D of c){const j=WN(D,v.get(D.key).overlayedDocument);j!=null&&R.push(new as(D.key,j,Lx(j.value.mapValue),ur.exists(!0)))}return f.mutationQueue.addMutationBatch(T,h,R,c)}).next(b=>{w=b;const R=b.applyToLocalDocumentSet(v,I);return f.documentOverlayCache.saveOverlays(T,b.batchId,R)})}).then(()=>({batchId:w.batchId,changes:qx(v)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(l,c,f){let h=l.Au[l.currentUser.toKey()];h||(h=new gt($e)),h=h.insert(c,f),l.Au[l.currentUser.toKey()]=h}(r,s.batchId,t),await mu(r,s.changes),await Xd(r.remoteStore)}catch(s){const a=pg(s,"Failed to persist write");t.reject(a)}}async function NE(n,e){const t=Oe(n);try{const r=await UP(t.localStore,e);e.targetChanges.forEach((s,a)=>{const l=t.Eu.get(a);l&&(Ze(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?l.cu=!0:s.modifiedDocuments.size>0?Ze(l.cu,14607):s.removedDocuments.size>0&&(Ze(l.cu,42227),l.cu=!1))}),await mu(t,r,e)}catch(r){await Ea(r)}}function A0(n,e,t){const r=Oe(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){const s=[];r.hu.forEach((a,l)=>{const c=l.view.Fa(e);c.snapshot&&s.push(c.snapshot)}),function(l,c){const f=Oe(l);f.onlineState=c;let h=!1;f.queries.forEach((m,v)=>{for(const w of v.Sa)w.Fa(c)&&(h=!0)}),h&&mg(f)}(r.eventManager,e),s.length&&r.lu.Y_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function N2(n,e,t){const r=Oe(n);r.sharedClientState.updateQueryState(e,"rejected",t);const s=r.Eu.get(e),a=s&&s.key;if(a){let l=new gt(Se.comparator);l=l.insert(a,tn.newNoDocument(a,De.min()));const c=We().add(a),f=new Gd(De.min(),new Map,new gt($e),l,c);await NE(r,f),r.Iu=r.Iu.remove(a),r.Eu.delete(e),yg(r)}else await Fp(r.localStore,e,!1).then(()=>Up(r,e,t)).catch(Ea)}async function P2(n,e){const t=Oe(n),r=e.batch.batchId;try{const s=await zP(t.localStore,e);kE(t,r,null),PE(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),await mu(t,s)}catch(s){await Ea(s)}}async function k2(n,e,t){const r=Oe(n);try{const s=await function(l,c){const f=Oe(l);return f.persistence.runTransaction("Reject batch","readwrite-primary",h=>{let m;return f.mutationQueue.lookupMutationBatch(h,c).next(v=>(Ze(v!==null,37113),m=v.keys(),f.mutationQueue.removeMutationBatch(h,v))).next(()=>f.mutationQueue.performConsistencyCheck(h)).next(()=>f.documentOverlayCache.removeOverlaysForBatchId(h,m,c)).next(()=>f.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(h,m)).next(()=>f.localDocuments.getDocuments(h,m))})}(r.localStore,e);kE(r,e,t),PE(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),await mu(r,s)}catch(s){await Ea(s)}}function PE(n,e){(n.Ru.get(e)||[]).forEach(t=>{t.resolve()}),n.Ru.delete(e)}function kE(n,e,t){const r=Oe(n);let s=r.Au[r.currentUser.toKey()];if(s){const a=s.get(e);a&&(t?a.reject(t):a.resolve(),s=s.remove(e)),r.Au[r.currentUser.toKey()]=s}}function Up(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(const r of n.Pu.get(e))n.hu.delete(r),t&&n.lu.gu(r,t);n.Pu.delete(e),n.isPrimaryClient&&n.du.Hr(e).forEach(r=>{n.du.containsKey(r)||DE(n,r)})}function DE(n,e){n.Tu.delete(e.path.canonicalString());const t=n.Iu.get(e);t!==null&&(ug(n.remoteStore,t),n.Iu=n.Iu.remove(e),n.Eu.delete(t),yg(n))}function N0(n,e,t){for(const r of t)r instanceof bE?(n.du.addReference(r.key,e),D2(n,r)):r instanceof RE?(ge(gg,"Document no longer in limbo: "+r.key),n.du.removeReference(r.key,e),n.du.containsKey(r.key)||DE(n,r.key)):Re(19791,{pu:r})}function D2(n,e){const t=e.key,r=t.path.canonicalString();n.Iu.get(t)||n.Tu.has(r)||(ge(gg,"New document in limbo: "+t),n.Tu.add(r),yg(n))}function yg(n){for(;n.Tu.size>0&&n.Iu.size<n.maxConcurrentLimboResolutions;){const e=n.Tu.values().next().value;n.Tu.delete(e);const t=new Se(ct.fromString(e)),r=n.Vu.next();n.Eu.set(r,new E2(t)),n.Iu=n.Iu.insert(t,r),vE(n.remoteStore,new Hi(Dr(Zm(t.path)),r,"TargetPurposeLimboResolution",zd.le))}}async function mu(n,e,t){const r=Oe(n),s=[],a=[],l=[];r.hu.isEmpty()||(r.hu.forEach((c,f)=>{l.push(r.fu(f,e,t).then(h=>{var m;if((h||t)&&r.isPrimaryClient){const v=h?!h.fromCache:(m=t==null?void 0:t.targetChanges.get(f.targetId))===null||m===void 0?void 0:m.current;r.sharedClientState.updateQueryState(f.targetId,v?"current":"not-current")}if(h){s.push(h);const v=ag.Rs(f.targetId,h);a.push(v)}}))}),await Promise.all(l),r.lu.Y_(s),await async function(f,h){const m=Oe(f);try{await m.persistence.runTransaction("notifyLocalViewChanges","readwrite",v=>ne.forEach(h,w=>ne.forEach(w.ds,T=>m.persistence.referenceDelegate.addReference(v,w.targetId,T)).next(()=>ne.forEach(w.As,T=>m.persistence.referenceDelegate.removeReference(v,w.targetId,T)))))}catch(v){if(!Ca(v))throw v;ge(lg,"Failed to update sequence numbers: "+v)}for(const v of h){const w=v.targetId;if(!v.fromCache){const T=m.xs.get(w),C=T.snapshotVersion,I=T.withLastLimboFreeSnapshotVersion(C);m.xs=m.xs.insert(w,I)}}}(r.localStore,a))}async function M2(n,e){const t=Oe(n);if(!t.currentUser.isEqual(e)){ge(gg,"User change. New user:",e.toKey());const r=await pE(t.localStore,e);t.currentUser=e,function(a,l){a.Ru.forEach(c=>{c.forEach(f=>{f.reject(new ve(re.CANCELLED,l))})}),a.Ru.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await mu(t,r.ks)}}function O2(n,e){const t=Oe(n),r=t.Eu.get(e);if(r&&r.cu)return We().add(r.key);{let s=We();const a=t.Pu.get(e);if(!a)return s;for(const l of a){const c=t.hu.get(l);s=s.unionWith(c.view.eu)}return s}}function ME(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=NE.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=O2.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=N2.bind(null,e),e.lu.Y_=v2.bind(null,e.eventManager),e.lu.gu=w2.bind(null,e.eventManager),e}function L2(n){const e=Oe(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=P2.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=k2.bind(null,e),e}class Cd{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Qd(e.databaseInfo.databaseId),this.sharedClientState=this.bu(e),this.persistence=this.Su(e),await this.persistence.start(),this.localStore=this.Du(e),this.gcScheduler=this.vu(e,this.localStore),this.indexBackfillerScheduler=this.Cu(e,this.localStore)}vu(e,t){return null}Cu(e,t){return null}Du(e){return $P(this.persistence,new jP,e.initialUser,this.serializer)}Su(e){return new hE(og.fi,this.serializer)}bu(e){return new qP}async terminate(){var e,t;(e=this.gcScheduler)===null||e===void 0||e.stop(),(t=this.indexBackfillerScheduler)===null||t===void 0||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Cd.provider={build:()=>new Cd};class j2 extends Cd{constructor(e){super(),this.cacheSizeBytes=e}vu(e,t){Ze(this.persistence.referenceDelegate instanceof xd,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new EP(r,e.asyncQueue,t)}Su(e){const t=this.cacheSizeBytes!==void 0?gn.withCacheSize(this.cacheSizeBytes):gn.DEFAULT;return new hE(r=>xd.fi(r,t),this.serializer)}}class Bp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>A0(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=M2.bind(null,this.syncEngine),await m2(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new y2}()}createDatastore(e){const t=Qd(e.databaseInfo.databaseId),r=function(a){return new JP(a)}(e.databaseInfo);return function(a,l,c,f){return new n2(a,l,c,f)}(e.authCredentials,e.appCheckCredentials,r,t)}createRemoteStore(e){return function(r,s,a,l,c){return new i2(r,s,a,l,c)}(this.localStore,this.datastore,e.asyncQueue,t=>A0(this.syncEngine,t,0),function(){return C0.C()?new C0:new GP}())}createSyncEngine(e,t){return function(s,a,l,c,f,h,m){const v=new C2(s,a,l,c,f,h);return m&&(v.mu=!0),v}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(s){const a=Oe(s);ge(Hs,"RemoteStore shutting down."),a.da.add(5),await pu(a),a.Ra.shutdown(),a.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(t=this.eventManager)===null||t===void 0||t.terminate()}}Bp.provider={build:()=>new Bp};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class OE{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Mu(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Mu(this.observer.error,e):ui("Uncaught Error in snapshot listener:",e.toString()))}xu(){this.muted=!0}Mu(e,t){setTimeout(()=>{this.muted||e(t)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ns="FirestoreClient";class V2{constructor(e,t,r,s,a){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=s,this.user=en.UNAUTHENTICATED,this.clientId=Ix.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=a,this.authCredentials.start(r,async l=>{ge(ns,"Received user=",l.uid),await this.authCredentialListener(l),this.user=l}),this.appCheckCredentials.start(r,l=>(ge(ns,"Received new app check token=",l),this.appCheckCredentialListener(l,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Gi;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const r=pg(t,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function ip(n,e){n.asyncQueue.verifyOperationInProgress(),ge(ns,"Initializing OfflineComponentProvider");const t=n.configuration;await e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(async s=>{r.isEqual(s)||(await pE(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e}async function P0(n,e){n.asyncQueue.verifyOperationInProgress();const t=await F2(n);ge(ns,"Initializing OnlineComponentProvider"),await e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>T0(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,s)=>T0(e.remoteStore,s)),n._onlineComponents=e}async function F2(n){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){ge(ns,"Using user provided OfflineComponentProvider");try{await ip(n,n._uninitializedComponentsProvider._offline)}catch(e){const t=e;if(!function(s){return s.name==="FirebaseError"?s.code===re.FAILED_PRECONDITION||s.code===re.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(t))throw t;aa("Error using user provided cache. Falling back to memory cache: "+t),await ip(n,new Cd)}}else ge(ns,"Using default OfflineComponentProvider"),await ip(n,new j2(void 0));return n._offlineComponents}async function LE(n){return n._onlineComponents||(n._uninitializedComponentsProvider?(ge(ns,"Using user provided OnlineComponentProvider"),await P0(n,n._uninitializedComponentsProvider._online)):(ge(ns,"Using default OnlineComponentProvider"),await P0(n,new Bp))),n._onlineComponents}function $2(n){return LE(n).then(e=>e.syncEngine)}async function Hp(n){const e=await LE(n),t=e.eventManager;return t.onListen=S2.bind(null,e.syncEngine),t.onUnlisten=b2.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=T2.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=R2.bind(null,e.syncEngine),t}function z2(n,e,t={}){const r=new Gi;return n.asyncQueue.enqueueAndForget(async()=>function(a,l,c,f,h){const m=new OE({next:w=>{m.xu(),l.enqueueAndForget(()=>TE(a,v)),w.fromCache&&f.source==="server"?h.reject(new ve(re.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):h.resolve(w)},error:w=>h.reject(w)}),v=new IE(c,m,{includeMetadataChanges:!0,Qa:!0});return SE(a,v)}(await Hp(n),n.asyncQueue,e,t,r)),r.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jE(n){const e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k0=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VE(n,e,t){if(!t)throw new ve(re.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function U2(n,e,t,r){if(e===!0&&r===!0)throw new ve(re.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function D0(n){if(!Se.isDocumentKey(n))throw new ve(re.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function M0(n){if(Se.isDocumentKey(n))throw new ve(re.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Jd(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":Re(12329,{type:typeof n})}function Or(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new ve(re.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const t=Jd(n);throw new ve(re.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FE="firestore.googleapis.com",O0=!0;class L0{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new ve(re.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FE,this.ssl=O0}else this.host=e.host,this.ssl=(t=e.ssl)!==null&&t!==void 0?t:O0;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fE;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<_P)throw new ve(re.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}U2("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=jE((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(a){if(a.timeoutSeconds!==void 0){if(isNaN(a.timeoutSeconds))throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (must not be NaN)`);if(a.timeoutSeconds<5)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (minimum allowed value is 5)`);if(a.timeoutSeconds>30)throw new ve(re.INVALID_ARGUMENT,`invalid long polling timeout: ${a.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Zd{constructor(e,t,r,s){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new L0({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new ve(re.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new ve(re.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new L0(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new XA;switch(r.type){case"firstParty":return new tN(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new ve(re.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){const r=k0.get(t);r&&(ge("ComponentProvider","Removing Datastore"),k0.delete(t),r.terminate())}(this),Promise.resolve()}}function B2(n,e,t,r={}){var s;n=Or(n,Zd);const a=Wm(e),l=n._getSettings(),c=Object.assign(Object.assign({},l),{emulatorOptions:n._getEmulatorOptions()}),f=`${e}:${t}`;a&&(IR(`https://${f}`),NR("Firestore",!0)),l.host!==FE&&l.host!==f&&aa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const h=Object.assign(Object.assign({},l),{host:f,ssl:a,emulatorOptions:r});if(!dd(h,c)&&(n._setSettings(h),r.mockUserToken)){let m,v;if(typeof r.mockUserToken=="string")m=r.mockUserToken,v=en.MOCK_USER;else{m=bR(r.mockUserToken,(s=n._app)===null||s===void 0?void 0:s.options.projectId);const w=r.mockUserToken.sub||r.mockUserToken.user_id;if(!w)throw new ve(re.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");v=new en(w)}n._authCredentials=new JA(new Sx(m,v))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ls{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new ls(this.firestore,e,this._query)}}class vn{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new vn(this.firestore,e,this._key)}}class Qi extends ls{constructor(e,t,r){super(e,t,Zm(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new vn(this.firestore,null,new Se(e))}withConverter(e){return new Qi(this.firestore,e,this._path)}}function lr(n,e,...t){if(n=jr(n),VE("collection","path",e),n instanceof Zd){const r=ct.fromString(e,...t);return M0(r),new Qi(n,null,r)}{if(!(n instanceof vn||n instanceof Qi))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return M0(r),new Qi(n.firestore,null,r)}}function zs(n,e,...t){if(n=jr(n),arguments.length===1&&(e=Ix.newId()),VE("doc","path",e),n instanceof Zd){const r=ct.fromString(e,...t);return D0(r),new vn(n,null,new Se(r))}{if(!(n instanceof vn||n instanceof Qi))throw new ve(re.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=n._path.child(ct.fromString(e,...t));return D0(r),new vn(n.firestore,n instanceof Qi?n.converter:null,new Se(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j0="AsyncQueue";class V0{constructor(e=Promise.resolve()){this.Ju=[],this.Yu=!1,this.Zu=[],this.Xu=null,this.ec=!1,this.tc=!1,this.nc=[],this.x_=new gE(this,"async_queue_retry"),this.rc=()=>{const r=rp();r&&ge(j0,"Visibility state changed to "+r.visibilityState),this.x_.b_()},this.sc=e;const t=rp();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.rc)}get isShuttingDown(){return this.Yu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.oc(),this._c(e)}enterRestrictedMode(e){if(!this.Yu){this.Yu=!0,this.tc=e||!1;const t=rp();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.rc)}}enqueue(e){if(this.oc(),this.Yu)return new Promise(()=>{});const t=new Gi;return this._c(()=>this.Yu&&this.tc?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Ju.push(e),this.ac()))}async ac(){if(this.Ju.length!==0){try{await this.Ju[0](),this.Ju.shift(),this.x_.reset()}catch(e){if(!Ca(e))throw e;ge(j0,"Operation failed with retryable error: "+e)}this.Ju.length>0&&this.x_.y_(()=>this.ac())}}_c(e){const t=this.sc.then(()=>(this.ec=!0,e().catch(r=>{throw this.Xu=r,this.ec=!1,ui("INTERNAL UNHANDLED ERROR: ",F0(r)),r}).then(r=>(this.ec=!1,r))));return this.sc=t,t}enqueueAfterDelay(e,t,r){this.oc(),this.nc.indexOf(e)>-1&&(t=0);const s=hg.createAndSchedule(this,e,t,r,a=>this.uc(a));return this.Zu.push(s),s}oc(){this.Xu&&Re(47125,{cc:F0(this.Xu)})}verifyOperationInProgress(){}async lc(){let e;do e=this.sc,await e;while(e!==this.sc)}hc(e){for(const t of this.Zu)if(t.timerId===e)return!0;return!1}Pc(e){return this.lc().then(()=>{this.Zu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(const t of this.Zu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.lc()})}Tc(e){this.nc.push(e)}uc(e){const t=this.Zu.indexOf(e);this.Zu.splice(t,1)}}function F0(n){let e=n.message||"";return n.stack&&(e=n.stack.includes(n.message)?n.stack:n.message+`
`+n.stack),e}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $0(n){return function(t,r){if(typeof t!="object"||t===null)return!1;const s=t;for(const a of r)if(a in s&&typeof s[a]=="function")return!0;return!1}(n,["next","error","complete"])}class Ws extends Zd{constructor(e,t,r,s){super(e,t,r,s),this.type="firestore",this._queue=new V0,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new V0(e),this._firestoreClient=void 0,await e}}}function H2(n,e){const t=typeof n=="object"?n:$A(),r=typeof n=="string"?n:md,s=OA(t,"firestore").getImmediate({identifier:r});if(!s._initialized){const a=SR("firestore");a&&B2(s,...a)}return s}function vg(n){if(n._terminated)throw new ve(re.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||W2(n),n._firestoreClient}function W2(n){var e,t,r;const s=n._freezeSettings(),a=function(c,f,h,m){return new gN(c,f,h,m.host,m.ssl,m.experimentalForceLongPolling,m.experimentalAutoDetectLongPolling,jE(m.experimentalLongPollingOptions),m.useFetchStreams,m.isUsingEmulator)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,s);n._componentsProvider||!((t=s.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=s.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:s.localCache._offlineComponentProvider,_online:s.localCache._onlineComponentProvider}),n._firestoreClient=new V2(n._authCredentials,n._appCheckCredentials,n._queue,a,n._componentsProvider&&function(c){const f=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(f),_online:f}}(n._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ha{constructor(e){this._byteString=e}static fromBase64String(e){try{return new ha(qt.fromBase64String(e))}catch(t){throw new ve(re.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new ha(qt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ef{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new ve(re.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wg{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _g{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new ve(re.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new ve(re.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return $e(this._lat,e._lat)||$e(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let a=0;a<r.length;++a)if(r[a]!==s[a])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K2=/^__.*__$/;class q2{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new as(e,this.data,this.fieldMask,t,this.fieldTransforms):new fu(e,this.data,t,this.fieldTransforms)}}class $E{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new as(e,this.data,this.fieldMask,t,this.fieldTransforms)}}function zE(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw Re(40011,{Ic:n})}}class Eg{constructor(e,t,r,s,a,l){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=s,a===void 0&&this.Ec(),this.fieldTransforms=a||[],this.fieldMask=l||[]}get path(){return this.settings.path}get Ic(){return this.settings.Ic}dc(e){return new Eg(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ac(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Vc(e),s}mc(e){var t;const r=(t=this.path)===null||t===void 0?void 0:t.child(e),s=this.dc({path:r,Rc:!1});return s.Ec(),s}fc(e){return this.dc({path:void 0,Rc:!0})}gc(e){return Sd(e,this.settings.methodName,this.settings.yc||!1,this.path,this.settings.wc)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}Ec(){if(this.path)for(let e=0;e<this.path.length;e++)this.Vc(this.path.get(e))}Vc(e){if(e.length===0)throw this.gc("Document fields must not be empty");if(zE(this.Ic)&&K2.test(e))throw this.gc('Document fields cannot begin and end with "__"')}}class G2{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||Qd(e)}bc(e,t,r,s=!1){return new Eg({Ic:e,methodName:t,wc:r,path:Kt.emptyPath(),Rc:!1,yc:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Cg(n){const e=n._freezeSettings(),t=Qd(n._databaseId);return new G2(n._databaseId,!!e.ignoreUndefinedProperties,t)}function Q2(n,e,t,r,s,a={}){const l=n.bc(a.merge||a.mergeFields?2:0,e,t,s);Sg("Data must be an object, but it was:",l,r);const c=UE(r,l);let f,h;if(a.merge)f=new bn(l.fieldMask),h=l.fieldTransforms;else if(a.mergeFields){const m=[];for(const v of a.mergeFields){const w=Wp(e,v,t);if(!l.contains(w))throw new ve(re.INVALID_ARGUMENT,`Field '${w}' is specified in your field mask but missing from your input data.`);HE(m,w)||m.push(w)}f=new bn(m),h=l.fieldTransforms.filter(v=>f.covers(v.field))}else f=null,h=l.fieldTransforms;return new q2(new yn(c),f,h)}class tf extends wg{_toFieldTransform(e){if(e.Ic!==2)throw e.Ic===1?e.gc(`${this._methodName}() can only appear at the top level of your update data`):e.gc(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof tf}}function Y2(n,e,t,r){const s=n.bc(1,e,t);Sg("Data must be an object, but it was:",s,r);const a=[],l=yn.empty();os(r,(f,h)=>{const m=Tg(e,f,t);h=jr(h);const v=s.mc(m);if(h instanceof tf)a.push(m);else{const w=gu(h,v);w!=null&&(a.push(m),l.set(m,w))}});const c=new bn(a);return new $E(l,c,s.fieldTransforms)}function X2(n,e,t,r,s,a){const l=n.bc(1,e,t),c=[Wp(e,r,t)],f=[s];if(a.length%2!=0)throw new ve(re.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let w=0;w<a.length;w+=2)c.push(Wp(e,a[w])),f.push(a[w+1]);const h=[],m=yn.empty();for(let w=c.length-1;w>=0;--w)if(!HE(h,c[w])){const T=c[w];let C=f[w];C=jr(C);const I=l.mc(T);if(C instanceof tf)h.push(T);else{const b=gu(C,I);b!=null&&(h.push(T),m.set(T,b))}}const v=new bn(h);return new $E(m,v,l.fieldTransforms)}function J2(n,e,t,r=!1){return gu(t,n.bc(r?4:3,e))}function gu(n,e){if(BE(n=jr(n)))return Sg("Unsupported field value:",e,n),UE(n,e);if(n instanceof wg)return function(r,s){if(!zE(s.Ic))throw s.gc(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.gc(`${r._methodName}() is not currently supported inside arrays`);const a=r._toFieldTransform(s);a&&s.fieldTransforms.push(a)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.Rc&&e.Ic!==4)throw e.gc("Nested arrays are not supported");return function(r,s){const a=[];let l=0;for(const c of r){let f=gu(c,s.fc(l));f==null&&(f={nullValue:"NULL_VALUE"}),a.push(f),l++}return{arrayValue:{values:a}}}(n,e)}return function(r,s){if((r=jr(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return FN(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const a=Ct.fromDate(r);return{timestampValue:_d(s.serializer,a)}}if(r instanceof Ct){const a=new Ct(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:_d(s.serializer,a)}}if(r instanceof _g)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof ha)return{bytesValue:sE(s.serializer,r._byteString)};if(r instanceof vn){const a=s.databaseId,l=r.firestore._databaseId;if(!l.isEqual(a))throw s.gc(`Document reference is for database ${l.projectId}/${l.database} but should be for database ${a.projectId}/${a.database}`);return{referenceValue:ig(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof xg)return function(l,c){return{mapValue:{fields:{[Mx]:{stringValue:Ox},[gd]:{arrayValue:{values:l.toArray().map(h=>{if(typeof h!="number")throw c.gc("VectorValues must only contain numeric values.");return eg(c.serializer,h)})}}}}}}(r,s);throw s.gc(`Unsupported field value: ${Jd(r)}`)}(n,e)}function UE(n,e){const t={};return Rx(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):os(n,(r,s)=>{const a=gu(s,e.Ac(r));a!=null&&(t[r]=a)}),{mapValue:{fields:t}}}function BE(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof Ct||n instanceof _g||n instanceof ha||n instanceof vn||n instanceof wg||n instanceof xg)}function Sg(n,e,t){if(!BE(t)||!function(s){return typeof s=="object"&&s!==null&&(Object.getPrototypeOf(s)===Object.prototype||Object.getPrototypeOf(s)===null)}(t)){const r=Jd(t);throw r==="an object"?e.gc(n+" a custom object"):e.gc(n+" "+r)}}function Wp(n,e,t){if((e=jr(e))instanceof ef)return e._internalPath;if(typeof e=="string")return Tg(n,e);throw Sd("Field path arguments must be of type string or ",n,!1,void 0,t)}const Z2=new RegExp("[~\\*/\\[\\]]");function Tg(n,e,t){if(e.search(Z2)>=0)throw Sd(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new ef(...e.split("."))._internalPath}catch{throw Sd(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Sd(n,e,t,r,s){const a=r&&!r.isEmpty(),l=s!==void 0;let c=`Function ${e}() called with invalid data`;t&&(c+=" (via `toFirestore()`)"),c+=". ";let f="";return(a||l)&&(f+=" (found",a&&(f+=` in field ${r}`),l&&(f+=` in document ${s}`),f+=")"),new ve(re.INVALID_ARGUMENT,c+n+f)}function HE(n,e){return n.some(t=>t.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class WE{constructor(e,t,r,s,a){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=s,this._converter=a}get id(){return this._key.path.lastSegment()}get ref(){return new vn(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new ek(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(nf("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}}class ek extends WE{data(){return super.data()}}function nf(n,e){return typeof e=="string"?Tg(n,e):e instanceof ef?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function KE(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new ve(re.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Ig{}class qE extends Ig{}function bg(n,e,...t){let r=[];e instanceof Ig&&r.push(e),r=r.concat(t),function(a){const l=a.filter(f=>f instanceof Rg).length,c=a.filter(f=>f instanceof rf).length;if(l>1||l>0&&c>0)throw new ve(re.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)n=s._apply(n);return n}class rf extends qE{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new rf(e,t,r)}_apply(e){const t=this._parse(e);return QE(e._query,t),new ls(e.firestore,e.converter,Dp(e._query,t))}_parse(e){const t=Cg(e.firestore);return function(a,l,c,f,h,m,v){let w;if(h.isKeyField()){if(m==="array-contains"||m==="array-contains-any")throw new ve(re.INVALID_ARGUMENT,`Invalid Query. You can't perform '${m}' queries on documentId().`);if(m==="in"||m==="not-in"){U0(v,m);const C=[];for(const I of v)C.push(z0(f,a,I));w={arrayValue:{values:C}}}else w=z0(f,a,v)}else m!=="in"&&m!=="not-in"&&m!=="array-contains-any"||U0(v,m),w=J2(c,l,v,m==="in"||m==="not-in");return bt.create(h,m,w)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}}function GE(n,e,t){const r=e,s=nf("where",n);return rf._create(s,r,t)}class Rg extends Ig{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new Rg(e,t)}_parse(e){const t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:cr.create(t,this._getOperator())}_apply(e){const t=this._parse(e);return t.getFilters().length===0?e:(function(s,a){let l=s;const c=a.getFlattenedFilters();for(const f of c)QE(l,f),l=Dp(l,f)}(e._query,t),new ls(e.firestore,e.converter,Dp(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Ag extends qE{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new Ag(e,t)}_apply(e){const t=function(s,a,l){if(s.startAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new ve(re.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new tu(a,l)}(e._query,this._field,this._direction);return new ls(e.firestore,e.converter,function(s,a){const l=s.explicitOrderBy.concat([a]);return new Sa(s.path,s.collectionGroup,l,s.filters.slice(),s.limit,s.limitType,s.startAt,s.endAt)}(e._query,t))}}function Kp(n,e="asc"){const t=e,r=nf("orderBy",n);return Ag._create(r,t)}function z0(n,e,t){if(typeof(t=jr(t))=="string"){if(t==="")throw new ve(re.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!Bx(e)&&t.indexOf("/")!==-1)throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);const r=e.path.child(ct.fromString(t));if(!Se.isDocumentKey(r))throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return t0(n,new Se(r))}if(t instanceof vn)return t0(n,t._key);throw new ve(re.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jd(t)}.`)}function U0(n,e){if(!Array.isArray(n)||n.length===0)throw new ve(re.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function QE(n,e){const t=function(s,a){for(const l of s)for(const c of l.getFlattenedFilters())if(a.indexOf(c.op)>=0)return c.op;return null}(n.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new ve(re.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}class tk{convertValue(e,t="none"){switch(es(e)){case 0:return null;case 1:return e.booleanValue;case 2:return Et(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(Zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw Re(62114,{value:e})}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){const r={};return os(e,(s,a)=>{r[s]=this.convertValue(a,t)}),r}convertVectorValue(e){var t,r,s;const a=(s=(r=(t=e.fields)===null||t===void 0?void 0:t[gd].arrayValue)===null||r===void 0?void 0:r.values)===null||s===void 0?void 0:s.map(l=>Et(l.doubleValue));return new xg(a)}convertGeoPoint(e){return new _g(Et(e.latitude),Et(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":const r=Bd(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Jl(e));default:return null}}convertTimestamp(e){const t=Ji(e);return new Ct(t.seconds,t.nanos)}convertDocumentKey(e,t){const r=ct.fromString(e);Ze(dE(r),9688,{name:e});const s=new Zl(r.get(1),r.get(3)),a=new Se(r.popFirst(5));return s.isEqual(t)||ui(`Document ${a} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),a}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nk(n,e,t){let r;return r=n?n.toFirestore(e):e,r}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class YE extends WE{constructor(e,t,r,s,a,l){super(e,t,r,s,l),this._firestore=e,this._firestoreImpl=e,this.metadata=a}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const t=new rd(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){const r=this._document.data.field(nf("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}}class rd extends YE{data(e={}){return super.data(e)}}class XE{constructor(e,t,r,s){this._firestore=e,this._userDataWriter=t,this._snapshot=s,this.metadata=new kl(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new rd(this._firestore,this._userDataWriter,r.key,r,new kl(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new ve(re.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(s,a){if(s._snapshot.oldDocs.isEmpty()){let l=0;return s._snapshot.docChanges.map(c=>{const f=new rd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new kl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);return c.doc,{type:"added",doc:f,oldIndex:-1,newIndex:l++}})}{let l=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(c=>a||c.type!==3).map(c=>{const f=new rd(s._firestore,s._userDataWriter,c.doc.key,c.doc,new kl(s._snapshot.mutatedKeys.has(c.doc.key),s._snapshot.fromCache),s.query.converter);let h=-1,m=-1;return c.type!==0&&(h=l.indexOf(c.doc.key),l=l.delete(c.doc.key)),c.type!==1&&(l=l.add(c.doc),m=l.indexOf(c.doc.key)),{type:rk(c.type),doc:f,oldIndex:h,newIndex:m}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}}function rk(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return Re(61501,{type:n})}}class Ng extends tk{constructor(e){super(),this.firestore=e}convertBytes(e){return new ha(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new vn(this.firestore,null,t)}}function iu(n){n=Or(n,ls);const e=Or(n.firestore,Ws),t=vg(e),r=new Ng(e);return KE(n._query),z2(t,n._query).then(s=>new XE(e,r,n,s))}function Td(n,e,t,...r){n=Or(n,vn);const s=Or(n.firestore,Ws),a=Cg(s);let l;return l=typeof(e=jr(e))=="string"||e instanceof ef?X2(a,"updateDoc",n._key,e,t,r):Y2(a,"updateDoc",n._key,e),Pg(s,[l.toMutation(n._key,ur.exists(!0))])}function B0(n){return Pg(Or(n.firestore,Ws),[new tg(n._key,ur.none())])}function Id(n,e){const t=Or(n.firestore,Ws),r=zs(n),s=nk(n.converter,e);return Pg(t,[Q2(Cg(n.firestore),"addDoc",r._key,s,n.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function JE(n,...e){var t,r,s;n=jr(n);let a={includeMetadataChanges:!1,source:"default"},l=0;typeof e[l]!="object"||$0(e[l])||(a=e[l],l++);const c={includeMetadataChanges:a.includeMetadataChanges,source:a.source};if($0(e[l])){const v=e[l];e[l]=(t=v.next)===null||t===void 0?void 0:t.bind(v),e[l+1]=(r=v.error)===null||r===void 0?void 0:r.bind(v),e[l+2]=(s=v.complete)===null||s===void 0?void 0:s.bind(v)}let f,h,m;if(n instanceof vn)h=Or(n.firestore,Ws),m=Zm(n._key.path),f={next:v=>{e[l]&&e[l](ik(h,n,v))},error:e[l+1],complete:e[l+2]};else{const v=Or(n,ls);h=Or(v.firestore,Ws),m=v._query;const w=new Ng(h);f={next:T=>{e[l]&&e[l](new XE(h,w,v,T))},error:e[l+1],complete:e[l+2]},KE(n._query)}return function(w,T,C,I){const b=new OE(I),R=new IE(T,b,C);return w.asyncQueue.enqueueAndForget(async()=>SE(await Hp(w),R)),()=>{b.xu(),w.asyncQueue.enqueueAndForget(async()=>TE(await Hp(w),R))}}(vg(h),m,c,f)}function Pg(n,e){return function(r,s){const a=new Gi;return r.asyncQueue.enqueueAndForget(async()=>A2(await $2(r),s,a)),a.promise}(vg(n),e)}function ik(n,e,t){const r=t.docs.get(e._key),s=new Ng(n);return new YE(n,s,e._key,r,new kl(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(s){xa=s})(FA),hd(new Ql("firestore",(r,{instanceIdentifier:s,options:a})=>{const l=r.getProvider("app").getImmediate(),c=new Ws(new ZA(r.getProvider("auth-internal")),new nN(l,r.getProvider("app-check-internal")),function(h,m){if(!Object.prototype.hasOwnProperty.apply(h.options,["projectId"]))throw new ve(re.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new Zl(h.options.projectId,m)}(l,s),l);return a=Object.assign({useFetchStreams:t},a),c._setSettings(a),c},"PUBLIC").setMultipleInstances(!0)),ta(Bw,Hw,e),ta(Bw,Hw,"esm2017")})();var sk="firebase",ok="11.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ta(sk,ok,"app");const ak={apiKey:"AIzaSyDwlqDKuq9fpSqfvzON6tBEgMx63IQLMw0",authDomain:"cafeqr-d658f.firebaseapp.com",projectId:"cafeqr-d658f",storageBucket:"cafeqr-d658f.firebasestorage.app",messagingSenderId:"266670888353",appId:"1:266670888353:web:bb50567816c2681197e7e0"},lk=px(ak),Wt=H2(lk),uk=async()=>{const n=lr(Wt,"menuItems");return(await iu(n)).docs.map(r=>({id:r.id,...r.data()}))},ck=async()=>{const n=lr(Wt,"categories");return(await iu(n)).docs.map(r=>({id:r.id,...r.data()}))},dk=async(n,e)=>{const t=lr(Wt,"waiterCalls"),r={tableId:n,timestamp:Ct.now(),status:"pending",message:e};await Id(t,r)},fk=[{id:1,name:"Masa 1",qrCode:"table-1"},{id:2,name:"Masa 2",qrCode:"table-2"},{id:3,name:"Masa 3",qrCode:"table-3"},{id:4,name:"Masa 4",qrCode:"table-4"},{id:5,name:"Masa 5",qrCode:"table-5"},{id:6,name:"Masa 6",qrCode:"table-6"},{id:7,name:"Masa 7",qrCode:"table-7"},{id:8,name:"Masa 8",qrCode:"table-8"},{id:9,name:"Masa 9",qrCode:"table-9"},{id:10,name:"Masa 10",qrCode:"table-10"},{id:11,name:"Masa 11",qrCode:"table-11"},{id:12,name:"Masa 12",qrCode:"table-12"},{id:13,name:"Masa 13",qrCode:"table-13"},{id:14,name:"Masa 14",qrCode:"table-14"},{id:15,name:"Masa 15",qrCode:"table-15"},{id:16,name:"Masa 16",qrCode:"table-16"},{id:17,name:"Masa 17",qrCode:"table-17"},{id:18,name:"Masa 18",qrCode:"table-18"},{id:19,name:"Masa 19",qrCode:"table-19"},{id:20,name:"Masa 20",qrCode:"table-20"}],hk=(n,e,t,r)=>{var a,l,c,f;const s=[t,{code:e,...r||{}}];if((l=(a=n==null?void 0:n.services)==null?void 0:a.logger)!=null&&l.forward)return n.services.logger.forward(s,"warn","react-i18next::",!0);Us(s[0])&&(s[0]=`react-i18next:: ${s[0]}`),(f=(c=n==null?void 0:n.services)==null?void 0:c.logger)!=null&&f.warn?n.services.logger.warn(...s):console!=null&&console.warn&&console.warn(...s)},H0={},qp=(n,e,t,r)=>{Us(t)&&H0[t]||(Us(t)&&(H0[t]=new Date),hk(n,e,t,r))},ZE=(n,e)=>()=>{if(n.isInitialized)e();else{const t=()=>{setTimeout(()=>{n.off("initialized",t)},0),e()};n.on("initialized",t)}},Gp=(n,e,t)=>{n.loadNamespaces(e,ZE(n,t))},W0=(n,e,t,r)=>{if(Us(t)&&(t=[t]),n.options.preload&&n.options.preload.indexOf(e)>-1)return Gp(n,t,r);t.forEach(s=>{n.options.ns.indexOf(s)<0&&n.options.ns.push(s)}),n.loadLanguages(e,ZE(n,r))},pk=(n,e,t={})=>!e.languages||!e.languages.length?(qp(e,"NO_LANGUAGES","i18n.languages were undefined or empty",{languages:e.languages}),!0):e.hasLoadedNamespace(n,{lng:t.lng,precheck:(r,s)=>{var a;if(((a=t.bindI18n)==null?void 0:a.indexOf("languageChanging"))>-1&&r.services.backendConnector.backend&&r.isLanguageChangingTo&&!s(r.isLanguageChangingTo,n))return!1}}),Us=n=>typeof n=="string",mk=n=>typeof n=="object"&&n!==null,gk=/&(?:amp|#38|lt|#60|gt|#62|apos|#39|quot|#34|nbsp|#160|copy|#169|reg|#174|hellip|#8230|#x2F|#47);/g,yk={"&amp;":"&","&#38;":"&","&lt;":"<","&#60;":"<","&gt;":">","&#62;":">","&apos;":"'","&#39;":"'","&quot;":'"',"&#34;":'"',"&nbsp;":" ","&#160;":" ","&copy;":"©","&#169;":"©","&reg;":"®","&#174;":"®","&hellip;":"…","&#8230;":"…","&#x2F;":"/","&#47;":"/"},vk=n=>yk[n],wk=n=>n.replace(gk,vk);let Qp={bindI18n:"languageChanged",bindI18nStore:"",transEmptyNodeValue:"",transSupportBasicHtmlNodes:!0,transWrapTextNodes:"",transKeepBasicHtmlNodesFor:["br","strong","i","p"],useSuspense:!0,unescape:wk};const _k=(n={})=>{Qp={...Qp,...n}},xk=()=>Qp;let eC;const Ek=n=>{eC=n},Ck=()=>eC,Sk={type:"3rdParty",init(n){_k(n.options.react),Ek(n)}},Tk=E.createContext();class Ik{constructor(){this.usedNamespaces={}}addUsedNamespaces(e){e.forEach(t=>{this.usedNamespaces[t]||(this.usedNamespaces[t]=!0)})}getUsedNamespaces(){return Object.keys(this.usedNamespaces)}}const bk=(n,e)=>{const t=E.useRef();return E.useEffect(()=>{t.current=n},[n,e]),t.current},tC=(n,e,t,r)=>n.getFixedT(e,t,r),Rk=(n,e,t,r)=>E.useCallback(tC(n,e,t,r),[n,e,t,r]),kg=(n,e={})=>{var z,q,Z,L;const{i18n:t}=e,{i18n:r,defaultNS:s}=E.useContext(Tk)||{},a=t||r||Ck();if(a&&!a.reportNamespaces&&(a.reportNamespaces=new Ik),!a){qp(a,"NO_I18NEXT_INSTANCE","useTranslation: You will need to pass in an i18next instance by using initReactI18next");const N=(V,F)=>Us(F)?F:mk(F)&&Us(F.defaultValue)?F.defaultValue:Array.isArray(V)?V[V.length-1]:V,M=[N,{},!1];return M.t=N,M.i18n={},M.ready=!1,M}(z=a.options.react)!=null&&z.wait&&qp(a,"DEPRECATED_OPTION","useTranslation: It seems you are still using the old wait option, you may migrate to the new useSuspense behaviour.");const l={...xk(),...a.options.react,...e},{useSuspense:c,keyPrefix:f}=l;let h=s||((q=a.options)==null?void 0:q.defaultNS);h=Us(h)?[h]:h||["translation"],(L=(Z=a.reportNamespaces).addUsedNamespaces)==null||L.call(Z,h);const m=(a.isInitialized||a.initializedStoreOnce)&&h.every(N=>pk(N,a,l)),v=Rk(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),w=()=>v,T=()=>tC(a,e.lng||null,l.nsMode==="fallback"?h:h[0],f),[C,I]=E.useState(w);let b=h.join();e.lng&&(b=`${e.lng}${b}`);const R=bk(b),D=E.useRef(!0);E.useEffect(()=>{const{bindI18n:N,bindI18nStore:M}=l;D.current=!0,!m&&!c&&(e.lng?W0(a,e.lng,h,()=>{D.current&&I(T)}):Gp(a,h,()=>{D.current&&I(T)})),m&&R&&R!==b&&D.current&&I(T);const V=()=>{D.current&&I(T)};return N&&(a==null||a.on(N,V)),M&&(a==null||a.store.on(M,V)),()=>{D.current=!1,a&&(N==null||N.split(" ").forEach(F=>a.off(F,V))),M&&a&&M.split(" ").forEach(F=>a.store.off(F,V))}},[a,b]),E.useEffect(()=>{D.current&&m&&I(w)},[a,f,m]);const j=[C,a,m];if(j.t=C,j.i18n=a,j.ready=m,m||!m&&!c)return j;throw new Promise(N=>{e.lng?W0(a,e.lng,h,()=>N()):Gp(a,h,()=>N())})},Ak=({tableId:n})=>{const[e,t]=E.useState(!1),[r,s]=E.useState(null),a=async()=>{const l=Date.now();if(r&&l-r<3e4){alert("Lütfen 30 saniye bekleyip tekrar deneyin.");return}t(!0);try{await dk(n,"Müşteri garson çağırdı"),s(l),alert("Garson çağrısı gönderildi! Garson en kısa sürede gelecektir.")}catch(c){console.error("Garson çağrısı gönderilirken hata oluştu:",c),alert("Garson çağrısı gönderilirken bir hata oluştu. Lütfen tekrar deneyin.")}finally{t(!1)}};return y.jsx("button",{onClick:a,disabled:e,className:`w-full py-3 px-4 rounded-lg font-medium transition-colors ${e?"bg-gray-300 text-gray-500 cursor-not-allowed":"bg-blue-500 hover:bg-blue-600 text-white"}`,children:e?"Gönderiliyor...":"🔔 Garson Çağır"})},Nk=({tableId:n})=>{const{items:e,getTotalItems:t,getTotalPrice:r,updateQuantity:s,removeFromCart:a}=Bm(),[l,c]=E.useState(!1),f=cu();return t()===0?null:y.jsxs("div",{className:"fixed bottom-4 right-4 z-50",children:[!l&&y.jsxs("button",{onClick:()=>c(!0),className:"bg-amber-500 hover:bg-amber-600 text-white rounded-full p-4 shadow-lg flex items-center gap-2 transition-all duration-200 hover:scale-105",children:[y.jsxs("div",{className:"relative",children:["🛒",y.jsx("span",{className:"absolute -top-2 -right-2 bg-red-500 text-white text-xs rounded-full h-5 w-5 flex items-center justify-center",children:t()})]}),y.jsxs("span",{className:"font-medium",children:[r()," ₺"]})]}),l&&y.jsxs("div",{className:"bg-white rounded-lg shadow-xl border-2 border-amber-200 w-80 max-h-96 overflow-hidden",children:[y.jsxs("div",{className:"bg-amber-500 text-white p-3 flex justify-between items-center",children:[y.jsxs("h3",{className:"font-semibold",children:["Sepetim (",t()," ürün)"]}),y.jsx("button",{onClick:()=>c(!1),className:"text-white hover:text-amber-200",children:"✕"})]}),y.jsx("div",{className:"max-h-48 overflow-y-auto p-3 space-y-2",children:e.map(h=>y.jsxs("div",{className:"flex justify-between items-center bg-gray-50 p-2 rounded",children:[y.jsxs("div",{className:"flex-1",children:[y.jsx("div",{className:"font-medium text-sm",children:h.name_tr}),y.jsxs("div",{className:"text-amber-600 text-sm",children:[h.price," ₺"]})]}),y.jsxs("div",{className:"flex items-center gap-2",children:[y.jsx("button",{onClick:()=>s(parseInt(h.id),h.quantity-1),className:"bg-gray-200 hover:bg-gray-300 text-gray-700 w-6 h-6 rounded-full text-xs",children:"-"}),y.jsx("span",{className:"text-sm font-medium w-6 text-center",children:h.quantity}),y.jsx("button",{onClick:()=>s(parseInt(h.id),h.quantity+1),className:"bg-amber-500 hover:bg-amber-600 text-white w-6 h-6 rounded-full text-xs",children:"+"}),y.jsx("button",{onClick:()=>a(parseInt(h.id)),className:"bg-red-500 hover:bg-red-600 text-white w-6 h-6 rounded-full text-xs ml-1",children:"🗑"})]})]},h.id))}),y.jsxs("div",{className:"border-t p-3 bg-gray-50",children:[y.jsxs("div",{className:"flex justify-between items-center mb-3",children:[y.jsx("span",{className:"font-semibold",children:"Toplam:"}),y.jsxs("span",{className:"font-bold text-amber-600 text-lg",children:[r()," ₺"]})]}),y.jsx("button",{onClick:()=>f(`/checkout/${n}`),className:"w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md font-medium transition-colors",children:"Siparişi Tamamla"})]})]})]})};function K0(n,[e,t]){return Math.min(t,Math.max(e,n))}function Me(n,e,{checkForDefaultPrevented:t=!0}={}){return function(s){if(n==null||n(s),t===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function Pk(n,e){const t=E.createContext(e),r=a=>{const{children:l,...c}=a,f=E.useMemo(()=>c,Object.values(c));return y.jsx(t.Provider,{value:f,children:l})};r.displayName=n+"Provider";function s(a){const l=E.useContext(t);if(l)return l;if(e!==void 0)return e;throw new Error(`\`${a}\` must be used within \`${n}\``)}return[r,s]}function us(n,e=[]){let t=[];function r(a,l){const c=E.createContext(l),f=t.length;t=[...t,l];const h=v=>{var R;const{scope:w,children:T,...C}=v,I=((R=w==null?void 0:w[n])==null?void 0:R[f])||c,b=E.useMemo(()=>C,Object.values(C));return y.jsx(I.Provider,{value:b,children:T})};h.displayName=a+"Provider";function m(v,w){var I;const T=((I=w==null?void 0:w[n])==null?void 0:I[f])||c,C=E.useContext(T);if(C)return C;if(l!==void 0)return l;throw new Error(`\`${v}\` must be used within \`${a}\``)}return[h,m]}const s=()=>{const a=t.map(l=>E.createContext(l));return function(c){const f=(c==null?void 0:c[n])||a;return E.useMemo(()=>({[`__scope${n}`]:{...c,[n]:f}}),[c,f])}};return s.scopeName=n,[r,kk(s,...e)]}function kk(...n){const e=n[0];if(n.length===1)return e;const t=()=>{const r=n.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(a){const l=r.reduce((c,{useScope:f,scopeName:h})=>{const v=f(a)[`__scope${h}`];return{...c,...v}},{});return E.useMemo(()=>({[`__scope${e.scopeName}`]:l}),[l])}};return t.scopeName=e.scopeName,t}function q0(n,e){if(typeof n=="function")return n(e);n!=null&&(n.current=e)}function nC(...n){return e=>{let t=!1;const r=n.map(s=>{const a=q0(s,e);return!t&&typeof a=="function"&&(t=!0),a});if(t)return()=>{for(let s=0;s<r.length;s++){const a=r[s];typeof a=="function"?a():q0(n[s],null)}}}}function st(...n){return E.useCallback(nC(...n),n)}function pa(n){const e=Mk(n),t=E.forwardRef((r,s)=>{const{children:a,...l}=r,c=E.Children.toArray(a),f=c.find(Lk);if(f){const h=f.props.children,m=c.map(v=>v===f?E.Children.count(h)>1?E.Children.only(null):E.isValidElement(h)?h.props.children:null:v);return y.jsx(e,{...l,ref:s,children:E.isValidElement(h)?E.cloneElement(h,void 0,m):null})}return y.jsx(e,{...l,ref:s,children:a})});return t.displayName=`${n}.Slot`,t}var Dk=pa("Slot");function Mk(n){const e=E.forwardRef((t,r)=>{const{children:s,...a}=t;if(E.isValidElement(s)){const l=Vk(s),c=jk(a,s.props);return s.type!==E.Fragment&&(c.ref=r?nC(r,l):l),E.cloneElement(s,c)}return E.Children.count(s)>1?E.Children.only(null):null});return e.displayName=`${n}.SlotClone`,e}var rC=Symbol("radix.slottable");function Ok(n){const e=({children:t})=>y.jsx(y.Fragment,{children:t});return e.displayName=`${n}.Slottable`,e.__radixId=rC,e}function Lk(n){return E.isValidElement(n)&&typeof n.type=="function"&&"__radixId"in n.type&&n.type.__radixId===rC}function jk(n,e){const t={...e};for(const r in e){const s=n[r],a=e[r];/^on[A-Z]/.test(r)?s&&a?t[r]=(...c)=>{const f=a(...c);return s(...c),f}:s&&(t[r]=s):r==="style"?t[r]={...s,...a}:r==="className"&&(t[r]=[s,a].filter(Boolean).join(" "))}return{...n,...t}}function Vk(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}function Dg(n){const e=n+"CollectionProvider",[t,r]=us(e),[s,a]=t(e,{collectionRef:{current:null},itemMap:new Map}),l=I=>{const{scope:b,children:R}=I,D=nt.useRef(null),j=nt.useRef(new Map).current;return y.jsx(s,{scope:b,itemMap:j,collectionRef:D,children:R})};l.displayName=e;const c=n+"CollectionSlot",f=pa(c),h=nt.forwardRef((I,b)=>{const{scope:R,children:D}=I,j=a(c,R),z=st(b,j.collectionRef);return y.jsx(f,{ref:z,children:D})});h.displayName=c;const m=n+"CollectionItemSlot",v="data-radix-collection-item",w=pa(m),T=nt.forwardRef((I,b)=>{const{scope:R,children:D,...j}=I,z=nt.useRef(null),q=st(b,z),Z=a(m,R);return nt.useEffect(()=>(Z.itemMap.set(z,{ref:z,...j}),()=>void Z.itemMap.delete(z))),y.jsx(w,{[v]:"",ref:q,children:D})});T.displayName=m;function C(I){const b=a(n+"CollectionConsumer",I);return nt.useCallback(()=>{const D=b.collectionRef.current;if(!D)return[];const j=Array.from(D.querySelectorAll(`[${v}]`));return Array.from(b.itemMap.values()).sort((Z,L)=>j.indexOf(Z.ref.current)-j.indexOf(L.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:l,Slot:h,ItemSlot:T},C,r]}var Fk=E.createContext(void 0);function Mg(n){const e=E.useContext(Fk);return n||e||"ltr"}var $k=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],Fe=$k.reduce((n,e)=>{const t=pa(`Primitive.${e}`),r=E.forwardRef((s,a)=>{const{asChild:l,...c}=s,f=l?t:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),y.jsx(f,{...c,ref:a})});return r.displayName=`Primitive.${e}`,{...n,[e]:r}},{});function iC(n,e){n&&wa.flushSync(()=>n.dispatchEvent(e))}function zn(n){const e=E.useRef(n);return E.useEffect(()=>{e.current=n}),E.useMemo(()=>(...t)=>{var r;return(r=e.current)==null?void 0:r.call(e,...t)},[])}function zk(n,e=globalThis==null?void 0:globalThis.document){const t=zn(n);E.useEffect(()=>{const r=s=>{s.key==="Escape"&&t(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[t,e])}var Uk="DismissableLayer",Yp="dismissableLayer.update",Bk="dismissableLayer.pointerDownOutside",Hk="dismissableLayer.focusOutside",G0,sC=E.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),sf=E.forwardRef((n,e)=>{const{disableOutsidePointerEvents:t=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:a,onInteractOutside:l,onDismiss:c,...f}=n,h=E.useContext(sC),[m,v]=E.useState(null),w=(m==null?void 0:m.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,T]=E.useState({}),C=st(e,L=>v(L)),I=Array.from(h.layers),[b]=[...h.layersWithOutsidePointerEventsDisabled].slice(-1),R=I.indexOf(b),D=m?I.indexOf(m):-1,j=h.layersWithOutsidePointerEventsDisabled.size>0,z=D>=R,q=Kk(L=>{const N=L.target,M=[...h.branches].some(V=>V.contains(N));!z||M||(s==null||s(L),l==null||l(L),L.defaultPrevented||c==null||c())},w),Z=qk(L=>{const N=L.target;[...h.branches].some(V=>V.contains(N))||(a==null||a(L),l==null||l(L),L.defaultPrevented||c==null||c())},w);return zk(L=>{D===h.layers.size-1&&(r==null||r(L),!L.defaultPrevented&&c&&(L.preventDefault(),c()))},w),E.useEffect(()=>{if(m)return t&&(h.layersWithOutsidePointerEventsDisabled.size===0&&(G0=w.body.style.pointerEvents,w.body.style.pointerEvents="none"),h.layersWithOutsidePointerEventsDisabled.add(m)),h.layers.add(m),Q0(),()=>{t&&h.layersWithOutsidePointerEventsDisabled.size===1&&(w.body.style.pointerEvents=G0)}},[m,w,t,h]),E.useEffect(()=>()=>{m&&(h.layers.delete(m),h.layersWithOutsidePointerEventsDisabled.delete(m),Q0())},[m,h]),E.useEffect(()=>{const L=()=>T({});return document.addEventListener(Yp,L),()=>document.removeEventListener(Yp,L)},[]),y.jsx(Fe.div,{...f,ref:C,style:{pointerEvents:j?z?"auto":"none":void 0,...n.style},onFocusCapture:Me(n.onFocusCapture,Z.onFocusCapture),onBlurCapture:Me(n.onBlurCapture,Z.onBlurCapture),onPointerDownCapture:Me(n.onPointerDownCapture,q.onPointerDownCapture)})});sf.displayName=Uk;var Wk="DismissableLayerBranch",oC=E.forwardRef((n,e)=>{const t=E.useContext(sC),r=E.useRef(null),s=st(e,r);return E.useEffect(()=>{const a=r.current;if(a)return t.branches.add(a),()=>{t.branches.delete(a)}},[t.branches]),y.jsx(Fe.div,{...n,ref:s})});oC.displayName=Wk;function Kk(n,e=globalThis==null?void 0:globalThis.document){const t=zn(n),r=E.useRef(!1),s=E.useRef(()=>{});return E.useEffect(()=>{const a=c=>{if(c.target&&!r.current){let f=function(){aC(Bk,t,h,{discrete:!0})};const h={originalEvent:c};c.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=f,e.addEventListener("click",s.current,{once:!0})):f()}else e.removeEventListener("click",s.current);r.current=!1},l=window.setTimeout(()=>{e.addEventListener("pointerdown",a)},0);return()=>{window.clearTimeout(l),e.removeEventListener("pointerdown",a),e.removeEventListener("click",s.current)}},[e,t]),{onPointerDownCapture:()=>r.current=!0}}function qk(n,e=globalThis==null?void 0:globalThis.document){const t=zn(n),r=E.useRef(!1);return E.useEffect(()=>{const s=a=>{a.target&&!r.current&&aC(Hk,t,{originalEvent:a},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,t]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function Q0(){const n=new CustomEvent(Yp);document.dispatchEvent(n)}function aC(n,e,t,{discrete:r}){const s=t.originalEvent.target,a=new CustomEvent(n,{bubbles:!1,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?iC(s,a):s.dispatchEvent(a)}var Gk=sf,Qk=oC,sp=0;function lC(){E.useEffect(()=>{const n=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",n[0]??Y0()),document.body.insertAdjacentElement("beforeend",n[1]??Y0()),sp++,()=>{sp===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),sp--}},[])}function Y0(){const n=document.createElement("span");return n.setAttribute("data-radix-focus-guard",""),n.tabIndex=0,n.style.outline="none",n.style.opacity="0",n.style.position="fixed",n.style.pointerEvents="none",n}var op="focusScope.autoFocusOnMount",ap="focusScope.autoFocusOnUnmount",X0={bubbles:!1,cancelable:!0},Yk="FocusScope",Og=E.forwardRef((n,e)=>{const{loop:t=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:a,...l}=n,[c,f]=E.useState(null),h=zn(s),m=zn(a),v=E.useRef(null),w=st(e,I=>f(I)),T=E.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;E.useEffect(()=>{if(r){let I=function(j){if(T.paused||!c)return;const z=j.target;c.contains(z)?v.current=z:$i(v.current,{select:!0})},b=function(j){if(T.paused||!c)return;const z=j.relatedTarget;z!==null&&(c.contains(z)||$i(v.current,{select:!0}))},R=function(j){if(document.activeElement===document.body)for(const q of j)q.removedNodes.length>0&&$i(c)};document.addEventListener("focusin",I),document.addEventListener("focusout",b);const D=new MutationObserver(R);return c&&D.observe(c,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",I),document.removeEventListener("focusout",b),D.disconnect()}}},[r,c,T.paused]),E.useEffect(()=>{if(c){Z0.add(T);const I=document.activeElement;if(!c.contains(I)){const R=new CustomEvent(op,X0);c.addEventListener(op,h),c.dispatchEvent(R),R.defaultPrevented||(Xk(nD(uC(c)),{select:!0}),document.activeElement===I&&$i(c))}return()=>{c.removeEventListener(op,h),setTimeout(()=>{const R=new CustomEvent(ap,X0);c.addEventListener(ap,m),c.dispatchEvent(R),R.defaultPrevented||$i(I??document.body,{select:!0}),c.removeEventListener(ap,m),Z0.remove(T)},0)}}},[c,h,m,T]);const C=E.useCallback(I=>{if(!t&&!r||T.paused)return;const b=I.key==="Tab"&&!I.altKey&&!I.ctrlKey&&!I.metaKey,R=document.activeElement;if(b&&R){const D=I.currentTarget,[j,z]=Jk(D);j&&z?!I.shiftKey&&R===z?(I.preventDefault(),t&&$i(j,{select:!0})):I.shiftKey&&R===j&&(I.preventDefault(),t&&$i(z,{select:!0})):R===D&&I.preventDefault()}},[t,r,T.paused]);return y.jsx(Fe.div,{tabIndex:-1,...l,ref:w,onKeyDown:C})});Og.displayName=Yk;function Xk(n,{select:e=!1}={}){const t=document.activeElement;for(const r of n)if($i(r,{select:e}),document.activeElement!==t)return}function Jk(n){const e=uC(n),t=J0(e,n),r=J0(e.reverse(),n);return[t,r]}function uC(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function J0(n,e){for(const t of n)if(!Zk(t,{upTo:e}))return t}function Zk(n,{upTo:e}){if(getComputedStyle(n).visibility==="hidden")return!0;for(;n;){if(e!==void 0&&n===e)return!1;if(getComputedStyle(n).display==="none")return!0;n=n.parentElement}return!1}function eD(n){return n instanceof HTMLInputElement&&"select"in n}function $i(n,{select:e=!1}={}){if(n&&n.focus){const t=document.activeElement;n.focus({preventScroll:!0}),n!==t&&eD(n)&&e&&n.select()}}var Z0=tD();function tD(){let n=[];return{add(e){const t=n[0];e!==t&&(t==null||t.pause()),n=e_(n,e),n.unshift(e)},remove(e){var t;n=e_(n,e),(t=n[0])==null||t.resume()}}}function e_(n,e){const t=[...n],r=t.indexOf(e);return r!==-1&&t.splice(r,1),t}function nD(n){return n.filter(e=>e.tagName!=="A")}var Gt=globalThis!=null&&globalThis.document?E.useLayoutEffect:()=>{},rD=H_[" useId ".trim().toString()]||(()=>{}),iD=0;function Yi(n){const[e,t]=E.useState(rD());return Gt(()=>{t(r=>r??String(iD++))},[n]),e?`radix-${e}`:""}const sD=["top","right","bottom","left"],rs=Math.min,In=Math.max,bd=Math.round,zc=Math.floor,Lr=n=>({x:n,y:n}),oD={left:"right",right:"left",bottom:"top",top:"bottom"},aD={start:"end",end:"start"};function Xp(n,e,t){return In(n,rs(e,t))}function di(n,e){return typeof n=="function"?n(e):n}function fi(n){return n.split("-")[0]}function Ia(n){return n.split("-")[1]}function Lg(n){return n==="x"?"y":"x"}function jg(n){return n==="y"?"height":"width"}function Pr(n){return["top","bottom"].includes(fi(n))?"y":"x"}function Vg(n){return Lg(Pr(n))}function lD(n,e,t){t===void 0&&(t=!1);const r=Ia(n),s=Vg(n),a=jg(s);let l=s==="x"?r===(t?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[a]>e.floating[a]&&(l=Rd(l)),[l,Rd(l)]}function uD(n){const e=Rd(n);return[Jp(n),e,Jp(e)]}function Jp(n){return n.replace(/start|end/g,e=>aD[e])}function cD(n,e,t){const r=["left","right"],s=["right","left"],a=["top","bottom"],l=["bottom","top"];switch(n){case"top":case"bottom":return t?e?s:r:e?r:s;case"left":case"right":return e?a:l;default:return[]}}function dD(n,e,t,r){const s=Ia(n);let a=cD(fi(n),t==="start",r);return s&&(a=a.map(l=>l+"-"+s),e&&(a=a.concat(a.map(Jp)))),a}function Rd(n){return n.replace(/left|right|bottom|top/g,e=>oD[e])}function fD(n){return{top:0,right:0,bottom:0,left:0,...n}}function cC(n){return typeof n!="number"?fD(n):{top:n,right:n,bottom:n,left:n}}function Ad(n){const{x:e,y:t,width:r,height:s}=n;return{width:r,height:s,top:t,left:e,right:e+r,bottom:t+s,x:e,y:t}}function t_(n,e,t){let{reference:r,floating:s}=n;const a=Pr(e),l=Vg(e),c=jg(l),f=fi(e),h=a==="y",m=r.x+r.width/2-s.width/2,v=r.y+r.height/2-s.height/2,w=r[c]/2-s[c]/2;let T;switch(f){case"top":T={x:m,y:r.y-s.height};break;case"bottom":T={x:m,y:r.y+r.height};break;case"right":T={x:r.x+r.width,y:v};break;case"left":T={x:r.x-s.width,y:v};break;default:T={x:r.x,y:r.y}}switch(Ia(e)){case"start":T[l]-=w*(t&&h?-1:1);break;case"end":T[l]+=w*(t&&h?-1:1);break}return T}const hD=async(n,e,t)=>{const{placement:r="bottom",strategy:s="absolute",middleware:a=[],platform:l}=t,c=a.filter(Boolean),f=await(l.isRTL==null?void 0:l.isRTL(e));let h=await l.getElementRects({reference:n,floating:e,strategy:s}),{x:m,y:v}=t_(h,r,f),w=r,T={},C=0;for(let I=0;I<c.length;I++){const{name:b,fn:R}=c[I],{x:D,y:j,data:z,reset:q}=await R({x:m,y:v,initialPlacement:r,placement:w,strategy:s,middlewareData:T,rects:h,platform:l,elements:{reference:n,floating:e}});m=D??m,v=j??v,T={...T,[b]:{...T[b],...z}},q&&C<=50&&(C++,typeof q=="object"&&(q.placement&&(w=q.placement),q.rects&&(h=q.rects===!0?await l.getElementRects({reference:n,floating:e,strategy:s}):q.rects),{x:m,y:v}=t_(h,w,f)),I=-1)}return{x:m,y:v,placement:w,strategy:s,middlewareData:T}};async function su(n,e){var t;e===void 0&&(e={});const{x:r,y:s,platform:a,rects:l,elements:c,strategy:f}=n,{boundary:h="clippingAncestors",rootBoundary:m="viewport",elementContext:v="floating",altBoundary:w=!1,padding:T=0}=di(e,n),C=cC(T),b=c[w?v==="floating"?"reference":"floating":v],R=Ad(await a.getClippingRect({element:(t=await(a.isElement==null?void 0:a.isElement(b)))==null||t?b:b.contextElement||await(a.getDocumentElement==null?void 0:a.getDocumentElement(c.floating)),boundary:h,rootBoundary:m,strategy:f})),D=v==="floating"?{x:r,y:s,width:l.floating.width,height:l.floating.height}:l.reference,j=await(a.getOffsetParent==null?void 0:a.getOffsetParent(c.floating)),z=await(a.isElement==null?void 0:a.isElement(j))?await(a.getScale==null?void 0:a.getScale(j))||{x:1,y:1}:{x:1,y:1},q=Ad(a.convertOffsetParentRelativeRectToViewportRelativeRect?await a.convertOffsetParentRelativeRectToViewportRelativeRect({elements:c,rect:D,offsetParent:j,strategy:f}):D);return{top:(R.top-q.top+C.top)/z.y,bottom:(q.bottom-R.bottom+C.bottom)/z.y,left:(R.left-q.left+C.left)/z.x,right:(q.right-R.right+C.right)/z.x}}const pD=n=>({name:"arrow",options:n,async fn(e){const{x:t,y:r,placement:s,rects:a,platform:l,elements:c,middlewareData:f}=e,{element:h,padding:m=0}=di(n,e)||{};if(h==null)return{};const v=cC(m),w={x:t,y:r},T=Vg(s),C=jg(T),I=await l.getDimensions(h),b=T==="y",R=b?"top":"left",D=b?"bottom":"right",j=b?"clientHeight":"clientWidth",z=a.reference[C]+a.reference[T]-w[T]-a.floating[C],q=w[T]-a.reference[T],Z=await(l.getOffsetParent==null?void 0:l.getOffsetParent(h));let L=Z?Z[j]:0;(!L||!await(l.isElement==null?void 0:l.isElement(Z)))&&(L=c.floating[j]||a.floating[C]);const N=z/2-q/2,M=L/2-I[C]/2-1,V=rs(v[R],M),F=rs(v[D],M),P=V,O=L-I[C]-F,ee=L/2-I[C]/2+N,ie=Xp(P,ee,O),ce=!f.arrow&&Ia(s)!=null&&ee!==ie&&a.reference[C]/2-(ee<P?V:F)-I[C]/2<0,de=ce?ee<P?ee-P:ee-O:0;return{[T]:w[T]+de,data:{[T]:ie,centerOffset:ee-ie-de,...ce&&{alignmentOffset:de}},reset:ce}}}),mD=function(n){return n===void 0&&(n={}),{name:"flip",options:n,async fn(e){var t,r;const{placement:s,middlewareData:a,rects:l,initialPlacement:c,platform:f,elements:h}=e,{mainAxis:m=!0,crossAxis:v=!0,fallbackPlacements:w,fallbackStrategy:T="bestFit",fallbackAxisSideDirection:C="none",flipAlignment:I=!0,...b}=di(n,e);if((t=a.arrow)!=null&&t.alignmentOffset)return{};const R=fi(s),D=Pr(c),j=fi(c)===c,z=await(f.isRTL==null?void 0:f.isRTL(h.floating)),q=w||(j||!I?[Rd(c)]:uD(c)),Z=C!=="none";!w&&Z&&q.push(...dD(c,I,C,z));const L=[c,...q],N=await su(e,b),M=[];let V=((r=a.flip)==null?void 0:r.overflows)||[];if(m&&M.push(N[R]),v){const ee=lD(s,l,z);M.push(N[ee[0]],N[ee[1]])}if(V=[...V,{placement:s,overflows:M}],!M.every(ee=>ee<=0)){var F,P;const ee=(((F=a.flip)==null?void 0:F.index)||0)+1,ie=L[ee];if(ie&&(!(v==="alignment"?D!==Pr(ie):!1)||V.every(Q=>Q.overflows[0]>0&&Pr(Q.placement)===D)))return{data:{index:ee,overflows:V},reset:{placement:ie}};let ce=(P=V.filter(de=>de.overflows[0]<=0).sort((de,Q)=>de.overflows[1]-Q.overflows[1])[0])==null?void 0:P.placement;if(!ce)switch(T){case"bestFit":{var O;const de=(O=V.filter(Q=>{if(Z){const te=Pr(Q.placement);return te===D||te==="y"}return!0}).map(Q=>[Q.placement,Q.overflows.filter(te=>te>0).reduce((te,le)=>te+le,0)]).sort((Q,te)=>Q[1]-te[1])[0])==null?void 0:O[0];de&&(ce=de);break}case"initialPlacement":ce=c;break}if(s!==ce)return{reset:{placement:ce}}}return{}}}};function n_(n,e){return{top:n.top-e.height,right:n.right-e.width,bottom:n.bottom-e.height,left:n.left-e.width}}function r_(n){return sD.some(e=>n[e]>=0)}const gD=function(n){return n===void 0&&(n={}),{name:"hide",options:n,async fn(e){const{rects:t}=e,{strategy:r="referenceHidden",...s}=di(n,e);switch(r){case"referenceHidden":{const a=await su(e,{...s,elementContext:"reference"}),l=n_(a,t.reference);return{data:{referenceHiddenOffsets:l,referenceHidden:r_(l)}}}case"escaped":{const a=await su(e,{...s,altBoundary:!0}),l=n_(a,t.floating);return{data:{escapedOffsets:l,escaped:r_(l)}}}default:return{}}}}};async function yD(n,e){const{placement:t,platform:r,elements:s}=n,a=await(r.isRTL==null?void 0:r.isRTL(s.floating)),l=fi(t),c=Ia(t),f=Pr(t)==="y",h=["left","top"].includes(l)?-1:1,m=a&&f?-1:1,v=di(e,n);let{mainAxis:w,crossAxis:T,alignmentAxis:C}=typeof v=="number"?{mainAxis:v,crossAxis:0,alignmentAxis:null}:{mainAxis:v.mainAxis||0,crossAxis:v.crossAxis||0,alignmentAxis:v.alignmentAxis};return c&&typeof C=="number"&&(T=c==="end"?C*-1:C),f?{x:T*m,y:w*h}:{x:w*h,y:T*m}}const vD=function(n){return n===void 0&&(n=0),{name:"offset",options:n,async fn(e){var t,r;const{x:s,y:a,placement:l,middlewareData:c}=e,f=await yD(e,n);return l===((t=c.offset)==null?void 0:t.placement)&&(r=c.arrow)!=null&&r.alignmentOffset?{}:{x:s+f.x,y:a+f.y,data:{...f,placement:l}}}}},wD=function(n){return n===void 0&&(n={}),{name:"shift",options:n,async fn(e){const{x:t,y:r,placement:s}=e,{mainAxis:a=!0,crossAxis:l=!1,limiter:c={fn:b=>{let{x:R,y:D}=b;return{x:R,y:D}}},...f}=di(n,e),h={x:t,y:r},m=await su(e,f),v=Pr(fi(s)),w=Lg(v);let T=h[w],C=h[v];if(a){const b=w==="y"?"top":"left",R=w==="y"?"bottom":"right",D=T+m[b],j=T-m[R];T=Xp(D,T,j)}if(l){const b=v==="y"?"top":"left",R=v==="y"?"bottom":"right",D=C+m[b],j=C-m[R];C=Xp(D,C,j)}const I=c.fn({...e,[w]:T,[v]:C});return{...I,data:{x:I.x-t,y:I.y-r,enabled:{[w]:a,[v]:l}}}}}},_D=function(n){return n===void 0&&(n={}),{options:n,fn(e){const{x:t,y:r,placement:s,rects:a,middlewareData:l}=e,{offset:c=0,mainAxis:f=!0,crossAxis:h=!0}=di(n,e),m={x:t,y:r},v=Pr(s),w=Lg(v);let T=m[w],C=m[v];const I=di(c,e),b=typeof I=="number"?{mainAxis:I,crossAxis:0}:{mainAxis:0,crossAxis:0,...I};if(f){const j=w==="y"?"height":"width",z=a.reference[w]-a.floating[j]+b.mainAxis,q=a.reference[w]+a.reference[j]-b.mainAxis;T<z?T=z:T>q&&(T=q)}if(h){var R,D;const j=w==="y"?"width":"height",z=["top","left"].includes(fi(s)),q=a.reference[v]-a.floating[j]+(z&&((R=l.offset)==null?void 0:R[v])||0)+(z?0:b.crossAxis),Z=a.reference[v]+a.reference[j]+(z?0:((D=l.offset)==null?void 0:D[v])||0)-(z?b.crossAxis:0);C<q?C=q:C>Z&&(C=Z)}return{[w]:T,[v]:C}}}},xD=function(n){return n===void 0&&(n={}),{name:"size",options:n,async fn(e){var t,r;const{placement:s,rects:a,platform:l,elements:c}=e,{apply:f=()=>{},...h}=di(n,e),m=await su(e,h),v=fi(s),w=Ia(s),T=Pr(s)==="y",{width:C,height:I}=a.floating;let b,R;v==="top"||v==="bottom"?(b=v,R=w===(await(l.isRTL==null?void 0:l.isRTL(c.floating))?"start":"end")?"left":"right"):(R=v,b=w==="end"?"top":"bottom");const D=I-m.top-m.bottom,j=C-m.left-m.right,z=rs(I-m[b],D),q=rs(C-m[R],j),Z=!e.middlewareData.shift;let L=z,N=q;if((t=e.middlewareData.shift)!=null&&t.enabled.x&&(N=j),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(L=D),Z&&!w){const V=In(m.left,0),F=In(m.right,0),P=In(m.top,0),O=In(m.bottom,0);T?N=C-2*(V!==0||F!==0?V+F:In(m.left,m.right)):L=I-2*(P!==0||O!==0?P+O:In(m.top,m.bottom))}await f({...e,availableWidth:N,availableHeight:L});const M=await l.getDimensions(c.floating);return C!==M.width||I!==M.height?{reset:{rects:!0}}:{}}}};function of(){return typeof window<"u"}function ba(n){return dC(n)?(n.nodeName||"").toLowerCase():"#document"}function Rn(n){var e;return(n==null||(e=n.ownerDocument)==null?void 0:e.defaultView)||window}function $r(n){var e;return(e=(dC(n)?n.ownerDocument:n.document)||window.document)==null?void 0:e.documentElement}function dC(n){return of()?n instanceof Node||n instanceof Rn(n).Node:!1}function dr(n){return of()?n instanceof Element||n instanceof Rn(n).Element:!1}function Fr(n){return of()?n instanceof HTMLElement||n instanceof Rn(n).HTMLElement:!1}function i_(n){return!of()||typeof ShadowRoot>"u"?!1:n instanceof ShadowRoot||n instanceof Rn(n).ShadowRoot}function yu(n){const{overflow:e,overflowX:t,overflowY:r,display:s}=fr(n);return/auto|scroll|overlay|hidden|clip/.test(e+r+t)&&!["inline","contents"].includes(s)}function ED(n){return["table","td","th"].includes(ba(n))}function af(n){return[":popover-open",":modal"].some(e=>{try{return n.matches(e)}catch{return!1}})}function Fg(n){const e=$g(),t=dr(n)?fr(n):n;return["transform","translate","scale","rotate","perspective"].some(r=>t[r]?t[r]!=="none":!1)||(t.containerType?t.containerType!=="normal":!1)||!e&&(t.backdropFilter?t.backdropFilter!=="none":!1)||!e&&(t.filter?t.filter!=="none":!1)||["transform","translate","scale","rotate","perspective","filter"].some(r=>(t.willChange||"").includes(r))||["paint","layout","strict","content"].some(r=>(t.contain||"").includes(r))}function CD(n){let e=is(n);for(;Fr(e)&&!ma(e);){if(Fg(e))return e;if(af(e))return null;e=is(e)}return null}function $g(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}function ma(n){return["html","body","#document"].includes(ba(n))}function fr(n){return Rn(n).getComputedStyle(n)}function lf(n){return dr(n)?{scrollLeft:n.scrollLeft,scrollTop:n.scrollTop}:{scrollLeft:n.scrollX,scrollTop:n.scrollY}}function is(n){if(ba(n)==="html")return n;const e=n.assignedSlot||n.parentNode||i_(n)&&n.host||$r(n);return i_(e)?e.host:e}function fC(n){const e=is(n);return ma(e)?n.ownerDocument?n.ownerDocument.body:n.body:Fr(e)&&yu(e)?e:fC(e)}function ou(n,e,t){var r;e===void 0&&(e=[]),t===void 0&&(t=!0);const s=fC(n),a=s===((r=n.ownerDocument)==null?void 0:r.body),l=Rn(s);if(a){const c=Zp(l);return e.concat(l,l.visualViewport||[],yu(s)?s:[],c&&t?ou(c):[])}return e.concat(s,ou(s,[],t))}function Zp(n){return n.parent&&Object.getPrototypeOf(n.parent)?n.frameElement:null}function hC(n){const e=fr(n);let t=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Fr(n),a=s?n.offsetWidth:t,l=s?n.offsetHeight:r,c=bd(t)!==a||bd(r)!==l;return c&&(t=a,r=l),{width:t,height:r,$:c}}function zg(n){return dr(n)?n:n.contextElement}function ra(n){const e=zg(n);if(!Fr(e))return Lr(1);const t=e.getBoundingClientRect(),{width:r,height:s,$:a}=hC(e);let l=(a?bd(t.width):t.width)/r,c=(a?bd(t.height):t.height)/s;return(!l||!Number.isFinite(l))&&(l=1),(!c||!Number.isFinite(c))&&(c=1),{x:l,y:c}}const SD=Lr(0);function pC(n){const e=Rn(n);return!$g()||!e.visualViewport?SD:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function TD(n,e,t){return e===void 0&&(e=!1),!t||e&&t!==Rn(n)?!1:e}function Ks(n,e,t,r){e===void 0&&(e=!1),t===void 0&&(t=!1);const s=n.getBoundingClientRect(),a=zg(n);let l=Lr(1);e&&(r?dr(r)&&(l=ra(r)):l=ra(n));const c=TD(a,t,r)?pC(a):Lr(0);let f=(s.left+c.x)/l.x,h=(s.top+c.y)/l.y,m=s.width/l.x,v=s.height/l.y;if(a){const w=Rn(a),T=r&&dr(r)?Rn(r):r;let C=w,I=Zp(C);for(;I&&r&&T!==C;){const b=ra(I),R=I.getBoundingClientRect(),D=fr(I),j=R.left+(I.clientLeft+parseFloat(D.paddingLeft))*b.x,z=R.top+(I.clientTop+parseFloat(D.paddingTop))*b.y;f*=b.x,h*=b.y,m*=b.x,v*=b.y,f+=j,h+=z,C=Rn(I),I=Zp(C)}}return Ad({width:m,height:v,x:f,y:h})}function Ug(n,e){const t=lf(n).scrollLeft;return e?e.left+t:Ks($r(n)).left+t}function mC(n,e,t){t===void 0&&(t=!1);const r=n.getBoundingClientRect(),s=r.left+e.scrollLeft-(t?0:Ug(n,r)),a=r.top+e.scrollTop;return{x:s,y:a}}function ID(n){let{elements:e,rect:t,offsetParent:r,strategy:s}=n;const a=s==="fixed",l=$r(r),c=e?af(e.floating):!1;if(r===l||c&&a)return t;let f={scrollLeft:0,scrollTop:0},h=Lr(1);const m=Lr(0),v=Fr(r);if((v||!v&&!a)&&((ba(r)!=="body"||yu(l))&&(f=lf(r)),Fr(r))){const T=Ks(r);h=ra(r),m.x=T.x+r.clientLeft,m.y=T.y+r.clientTop}const w=l&&!v&&!a?mC(l,f,!0):Lr(0);return{width:t.width*h.x,height:t.height*h.y,x:t.x*h.x-f.scrollLeft*h.x+m.x+w.x,y:t.y*h.y-f.scrollTop*h.y+m.y+w.y}}function bD(n){return Array.from(n.getClientRects())}function RD(n){const e=$r(n),t=lf(n),r=n.ownerDocument.body,s=In(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),a=In(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let l=-t.scrollLeft+Ug(n);const c=-t.scrollTop;return fr(r).direction==="rtl"&&(l+=In(e.clientWidth,r.clientWidth)-s),{width:s,height:a,x:l,y:c}}function AD(n,e){const t=Rn(n),r=$r(n),s=t.visualViewport;let a=r.clientWidth,l=r.clientHeight,c=0,f=0;if(s){a=s.width,l=s.height;const h=$g();(!h||h&&e==="fixed")&&(c=s.offsetLeft,f=s.offsetTop)}return{width:a,height:l,x:c,y:f}}function ND(n,e){const t=Ks(n,!0,e==="fixed"),r=t.top+n.clientTop,s=t.left+n.clientLeft,a=Fr(n)?ra(n):Lr(1),l=n.clientWidth*a.x,c=n.clientHeight*a.y,f=s*a.x,h=r*a.y;return{width:l,height:c,x:f,y:h}}function s_(n,e,t){let r;if(e==="viewport")r=AD(n,t);else if(e==="document")r=RD($r(n));else if(dr(e))r=ND(e,t);else{const s=pC(n);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return Ad(r)}function gC(n,e){const t=is(n);return t===e||!dr(t)||ma(t)?!1:fr(t).position==="fixed"||gC(t,e)}function PD(n,e){const t=e.get(n);if(t)return t;let r=ou(n,[],!1).filter(c=>dr(c)&&ba(c)!=="body"),s=null;const a=fr(n).position==="fixed";let l=a?is(n):n;for(;dr(l)&&!ma(l);){const c=fr(l),f=Fg(l);!f&&c.position==="fixed"&&(s=null),(a?!f&&!s:!f&&c.position==="static"&&!!s&&["absolute","fixed"].includes(s.position)||yu(l)&&!f&&gC(n,l))?r=r.filter(m=>m!==l):s=c,l=is(l)}return e.set(n,r),r}function kD(n){let{element:e,boundary:t,rootBoundary:r,strategy:s}=n;const l=[...t==="clippingAncestors"?af(e)?[]:PD(e,this._c):[].concat(t),r],c=l[0],f=l.reduce((h,m)=>{const v=s_(e,m,s);return h.top=In(v.top,h.top),h.right=rs(v.right,h.right),h.bottom=rs(v.bottom,h.bottom),h.left=In(v.left,h.left),h},s_(e,c,s));return{width:f.right-f.left,height:f.bottom-f.top,x:f.left,y:f.top}}function DD(n){const{width:e,height:t}=hC(n);return{width:e,height:t}}function MD(n,e,t){const r=Fr(e),s=$r(e),a=t==="fixed",l=Ks(n,!0,a,e);let c={scrollLeft:0,scrollTop:0};const f=Lr(0);function h(){f.x=Ug(s)}if(r||!r&&!a)if((ba(e)!=="body"||yu(s))&&(c=lf(e)),r){const T=Ks(e,!0,a,e);f.x=T.x+e.clientLeft,f.y=T.y+e.clientTop}else s&&h();a&&!r&&s&&h();const m=s&&!r&&!a?mC(s,c):Lr(0),v=l.left+c.scrollLeft-f.x-m.x,w=l.top+c.scrollTop-f.y-m.y;return{x:v,y:w,width:l.width,height:l.height}}function lp(n){return fr(n).position==="static"}function o_(n,e){if(!Fr(n)||fr(n).position==="fixed")return null;if(e)return e(n);let t=n.offsetParent;return $r(n)===t&&(t=t.ownerDocument.body),t}function yC(n,e){const t=Rn(n);if(af(n))return t;if(!Fr(n)){let s=is(n);for(;s&&!ma(s);){if(dr(s)&&!lp(s))return s;s=is(s)}return t}let r=o_(n,e);for(;r&&ED(r)&&lp(r);)r=o_(r,e);return r&&ma(r)&&lp(r)&&!Fg(r)?t:r||CD(n)||t}const OD=async function(n){const e=this.getOffsetParent||yC,t=this.getDimensions,r=await t(n.floating);return{reference:MD(n.reference,await e(n.floating),n.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function LD(n){return fr(n).direction==="rtl"}const jD={convertOffsetParentRelativeRectToViewportRelativeRect:ID,getDocumentElement:$r,getClippingRect:kD,getOffsetParent:yC,getElementRects:OD,getClientRects:bD,getDimensions:DD,getScale:ra,isElement:dr,isRTL:LD};function vC(n,e){return n.x===e.x&&n.y===e.y&&n.width===e.width&&n.height===e.height}function VD(n,e){let t=null,r;const s=$r(n);function a(){var c;clearTimeout(r),(c=t)==null||c.disconnect(),t=null}function l(c,f){c===void 0&&(c=!1),f===void 0&&(f=1),a();const h=n.getBoundingClientRect(),{left:m,top:v,width:w,height:T}=h;if(c||e(),!w||!T)return;const C=zc(v),I=zc(s.clientWidth-(m+w)),b=zc(s.clientHeight-(v+T)),R=zc(m),j={rootMargin:-C+"px "+-I+"px "+-b+"px "+-R+"px",threshold:In(0,rs(1,f))||1};let z=!0;function q(Z){const L=Z[0].intersectionRatio;if(L!==f){if(!z)return l();L?l(!1,L):r=setTimeout(()=>{l(!1,1e-7)},1e3)}L===1&&!vC(h,n.getBoundingClientRect())&&l(),z=!1}try{t=new IntersectionObserver(q,{...j,root:s.ownerDocument})}catch{t=new IntersectionObserver(q,j)}t.observe(n)}return l(!0),a}function FD(n,e,t,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:a=!0,elementResize:l=typeof ResizeObserver=="function",layoutShift:c=typeof IntersectionObserver=="function",animationFrame:f=!1}=r,h=zg(n),m=s||a?[...h?ou(h):[],...ou(e)]:[];m.forEach(R=>{s&&R.addEventListener("scroll",t,{passive:!0}),a&&R.addEventListener("resize",t)});const v=h&&c?VD(h,t):null;let w=-1,T=null;l&&(T=new ResizeObserver(R=>{let[D]=R;D&&D.target===h&&T&&(T.unobserve(e),cancelAnimationFrame(w),w=requestAnimationFrame(()=>{var j;(j=T)==null||j.observe(e)})),t()}),h&&!f&&T.observe(h),T.observe(e));let C,I=f?Ks(n):null;f&&b();function b(){const R=Ks(n);I&&!vC(I,R)&&t(),I=R,C=requestAnimationFrame(b)}return t(),()=>{var R;m.forEach(D=>{s&&D.removeEventListener("scroll",t),a&&D.removeEventListener("resize",t)}),v==null||v(),(R=T)==null||R.disconnect(),T=null,f&&cancelAnimationFrame(C)}}const $D=vD,zD=wD,UD=mD,BD=xD,HD=gD,a_=pD,WD=_D,KD=(n,e,t)=>{const r=new Map,s={platform:jD,...t},a={...s.platform,_c:r};return hD(n,e,{...s,platform:a})};var qD=typeof document<"u",GD=function(){},id=qD?E.useLayoutEffect:GD;function Nd(n,e){if(n===e)return!0;if(typeof n!=typeof e)return!1;if(typeof n=="function"&&n.toString()===e.toString())return!0;let t,r,s;if(n&&e&&typeof n=="object"){if(Array.isArray(n)){if(t=n.length,t!==e.length)return!1;for(r=t;r--!==0;)if(!Nd(n[r],e[r]))return!1;return!0}if(s=Object.keys(n),t=s.length,t!==Object.keys(e).length)return!1;for(r=t;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=t;r--!==0;){const a=s[r];if(!(a==="_owner"&&n.$$typeof)&&!Nd(n[a],e[a]))return!1}return!0}return n!==n&&e!==e}function wC(n){return typeof window>"u"?1:(n.ownerDocument.defaultView||window).devicePixelRatio||1}function l_(n,e){const t=wC(n);return Math.round(e*t)/t}function up(n){const e=E.useRef(n);return id(()=>{e.current=n}),e}function QD(n){n===void 0&&(n={});const{placement:e="bottom",strategy:t="absolute",middleware:r=[],platform:s,elements:{reference:a,floating:l}={},transform:c=!0,whileElementsMounted:f,open:h}=n,[m,v]=E.useState({x:0,y:0,strategy:t,placement:e,middlewareData:{},isPositioned:!1}),[w,T]=E.useState(r);Nd(w,r)||T(r);const[C,I]=E.useState(null),[b,R]=E.useState(null),D=E.useCallback(Q=>{Q!==Z.current&&(Z.current=Q,I(Q))},[]),j=E.useCallback(Q=>{Q!==L.current&&(L.current=Q,R(Q))},[]),z=a||C,q=l||b,Z=E.useRef(null),L=E.useRef(null),N=E.useRef(m),M=f!=null,V=up(f),F=up(s),P=up(h),O=E.useCallback(()=>{if(!Z.current||!L.current)return;const Q={placement:e,strategy:t,middleware:w};F.current&&(Q.platform=F.current),KD(Z.current,L.current,Q).then(te=>{const le={...te,isPositioned:P.current!==!1};ee.current&&!Nd(N.current,le)&&(N.current=le,wa.flushSync(()=>{v(le)}))})},[w,e,t,F,P]);id(()=>{h===!1&&N.current.isPositioned&&(N.current.isPositioned=!1,v(Q=>({...Q,isPositioned:!1})))},[h]);const ee=E.useRef(!1);id(()=>(ee.current=!0,()=>{ee.current=!1}),[]),id(()=>{if(z&&(Z.current=z),q&&(L.current=q),z&&q){if(V.current)return V.current(z,q,O);O()}},[z,q,O,V,M]);const ie=E.useMemo(()=>({reference:Z,floating:L,setReference:D,setFloating:j}),[D,j]),ce=E.useMemo(()=>({reference:z,floating:q}),[z,q]),de=E.useMemo(()=>{const Q={position:t,left:0,top:0};if(!ce.floating)return Q;const te=l_(ce.floating,m.x),le=l_(ce.floating,m.y);return c?{...Q,transform:"translate("+te+"px, "+le+"px)",...wC(ce.floating)>=1.5&&{willChange:"transform"}}:{position:t,left:te,top:le}},[t,c,ce.floating,m.x,m.y]);return E.useMemo(()=>({...m,update:O,refs:ie,elements:ce,floatingStyles:de}),[m,O,ie,ce,de])}const YD=n=>{function e(t){return{}.hasOwnProperty.call(t,"current")}return{name:"arrow",options:n,fn(t){const{element:r,padding:s}=typeof n=="function"?n(t):n;return r&&e(r)?r.current!=null?a_({element:r.current,padding:s}).fn(t):{}:r?a_({element:r,padding:s}).fn(t):{}}}},XD=(n,e)=>({...$D(n),options:[n,e]}),JD=(n,e)=>({...zD(n),options:[n,e]}),ZD=(n,e)=>({...WD(n),options:[n,e]}),eM=(n,e)=>({...UD(n),options:[n,e]}),tM=(n,e)=>({...BD(n),options:[n,e]}),nM=(n,e)=>({...HD(n),options:[n,e]}),rM=(n,e)=>({...YD(n),options:[n,e]});var iM="Arrow",_C=E.forwardRef((n,e)=>{const{children:t,width:r=10,height:s=5,...a}=n;return y.jsx(Fe.svg,{...a,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:n.asChild?t:y.jsx("polygon",{points:"0,0 30,0 15,10"})})});_C.displayName=iM;var sM=_C;function oM(n){const[e,t]=E.useState(void 0);return Gt(()=>{if(n){t({width:n.offsetWidth,height:n.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const a=s[0];let l,c;if("borderBoxSize"in a){const f=a.borderBoxSize,h=Array.isArray(f)?f[0]:f;l=h.inlineSize,c=h.blockSize}else l=n.offsetWidth,c=n.offsetHeight;t({width:l,height:c})});return r.observe(n,{box:"border-box"}),()=>r.unobserve(n)}else t(void 0)},[n]),e}var Bg="Popper",[xC,EC]=us(Bg),[aM,CC]=xC(Bg),SC=n=>{const{__scopePopper:e,children:t}=n,[r,s]=E.useState(null);return y.jsx(aM,{scope:e,anchor:r,onAnchorChange:s,children:t})};SC.displayName=Bg;var TC="PopperAnchor",IC=E.forwardRef((n,e)=>{const{__scopePopper:t,virtualRef:r,...s}=n,a=CC(TC,t),l=E.useRef(null),c=st(e,l);return E.useEffect(()=>{a.onAnchorChange((r==null?void 0:r.current)||l.current)}),r?null:y.jsx(Fe.div,{...s,ref:c})});IC.displayName=TC;var Hg="PopperContent",[lM,uM]=xC(Hg),bC=E.forwardRef((n,e)=>{var he,Ee,Le,ke,ze,Ke;const{__scopePopper:t,side:r="bottom",sideOffset:s=0,align:a="center",alignOffset:l=0,arrowPadding:c=0,avoidCollisions:f=!0,collisionBoundary:h=[],collisionPadding:m=0,sticky:v="partial",hideWhenDetached:w=!1,updatePositionStrategy:T="optimized",onPlaced:C,...I}=n,b=CC(Hg,t),[R,D]=E.useState(null),j=st(e,yt=>D(yt)),[z,q]=E.useState(null),Z=oM(z),L=(Z==null?void 0:Z.width)??0,N=(Z==null?void 0:Z.height)??0,M=r+(a!=="center"?"-"+a:""),V=typeof m=="number"?m:{top:0,right:0,bottom:0,left:0,...m},F=Array.isArray(h)?h:[h],P=F.length>0,O={padding:V,boundary:F.filter(dM),altBoundary:P},{refs:ee,floatingStyles:ie,placement:ce,isPositioned:de,middlewareData:Q}=QD({strategy:"fixed",placement:M,whileElementsMounted:(...yt)=>FD(...yt,{animationFrame:T==="always"}),elements:{reference:b.anchor},middleware:[XD({mainAxis:s+N,alignmentAxis:l}),f&&JD({mainAxis:!0,crossAxis:!1,limiter:v==="partial"?ZD():void 0,...O}),f&&eM({...O}),tM({...O,apply:({elements:yt,rects:Mt,availableWidth:An,availableHeight:Un})=>{const{width:Bn,height:to}=Mt.reference,Hn=yt.floating.style;Hn.setProperty("--radix-popper-available-width",`${An}px`),Hn.setProperty("--radix-popper-available-height",`${Un}px`),Hn.setProperty("--radix-popper-anchor-width",`${Bn}px`),Hn.setProperty("--radix-popper-anchor-height",`${to}px`)}}),z&&rM({element:z,padding:c}),fM({arrowWidth:L,arrowHeight:N}),w&&nM({strategy:"referenceHidden",...O})]}),[te,le]=NC(ce),U=zn(C);Gt(()=>{de&&(U==null||U())},[de,U]);const J=(he=Q.arrow)==null?void 0:he.x,pe=(Ee=Q.arrow)==null?void 0:Ee.y,Ce=((Le=Q.arrow)==null?void 0:Le.centerOffset)!==0,[Ae,je]=E.useState();return Gt(()=>{R&&je(window.getComputedStyle(R).zIndex)},[R]),y.jsx("div",{ref:ee.setFloating,"data-radix-popper-content-wrapper":"",style:{...ie,transform:de?ie.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:Ae,"--radix-popper-transform-origin":[(ke=Q.transformOrigin)==null?void 0:ke.x,(ze=Q.transformOrigin)==null?void 0:ze.y].join(" "),...((Ke=Q.hide)==null?void 0:Ke.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:n.dir,children:y.jsx(lM,{scope:t,placedSide:te,onArrowChange:q,arrowX:J,arrowY:pe,shouldHideArrow:Ce,children:y.jsx(Fe.div,{"data-side":te,"data-align":le,...I,ref:j,style:{...I.style,animation:de?void 0:"none"}})})})});bC.displayName=Hg;var RC="PopperArrow",cM={top:"bottom",right:"left",bottom:"top",left:"right"},AC=E.forwardRef(function(e,t){const{__scopePopper:r,...s}=e,a=uM(RC,r),l=cM[a.placedSide];return y.jsx("span",{ref:a.onArrowChange,style:{position:"absolute",left:a.arrowX,top:a.arrowY,[l]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[a.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[a.placedSide],visibility:a.shouldHideArrow?"hidden":void 0},children:y.jsx(sM,{...s,ref:t,style:{...s.style,display:"block"}})})});AC.displayName=RC;function dM(n){return n!==null}var fM=n=>({name:"transformOrigin",options:n,fn(e){var b,R,D;const{placement:t,rects:r,middlewareData:s}=e,l=((b=s.arrow)==null?void 0:b.centerOffset)!==0,c=l?0:n.arrowWidth,f=l?0:n.arrowHeight,[h,m]=NC(t),v={start:"0%",center:"50%",end:"100%"}[m],w=(((R=s.arrow)==null?void 0:R.x)??0)+c/2,T=(((D=s.arrow)==null?void 0:D.y)??0)+f/2;let C="",I="";return h==="bottom"?(C=l?v:`${w}px`,I=`${-f}px`):h==="top"?(C=l?v:`${w}px`,I=`${r.floating.height+f}px`):h==="right"?(C=`${-f}px`,I=l?v:`${T}px`):h==="left"&&(C=`${r.floating.width+f}px`,I=l?v:`${T}px`),{data:{x:C,y:I}}}});function NC(n){const[e,t="center"]=n.split("-");return[e,t]}var hM=SC,pM=IC,mM=bC,gM=AC,yM="Portal",uf=E.forwardRef((n,e)=>{var c;const{container:t,...r}=n,[s,a]=E.useState(!1);Gt(()=>a(!0),[]);const l=t||s&&((c=globalThis==null?void 0:globalThis.document)==null?void 0:c.body);return l?fR.createPortal(y.jsx(Fe.div,{...r,ref:e}),l):null});uf.displayName=yM;var vM=H_[" useInsertionEffect ".trim().toString()]||Gt;function ga({prop:n,defaultProp:e,onChange:t=()=>{},caller:r}){const[s,a,l]=wM({defaultProp:e,onChange:t}),c=n!==void 0,f=c?n:s;{const m=E.useRef(n!==void 0);E.useEffect(()=>{const v=m.current;v!==c&&console.warn(`${r} is changing from ${v?"controlled":"uncontrolled"} to ${c?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),m.current=c},[c,r])}const h=E.useCallback(m=>{var v;if(c){const w=_M(m)?m(n):m;w!==n&&((v=l.current)==null||v.call(l,w))}else a(m)},[c,n,a,l]);return[f,h]}function wM({defaultProp:n,onChange:e}){const[t,r]=E.useState(n),s=E.useRef(t),a=E.useRef(e);return vM(()=>{a.current=e},[e]),E.useEffect(()=>{var l;s.current!==t&&((l=a.current)==null||l.call(a,t),s.current=t)},[t,s]),[t,r,a]}function _M(n){return typeof n=="function"}function xM(n){const e=E.useRef({value:n,previous:n});return E.useMemo(()=>(e.current.value!==n&&(e.current.previous=e.current.value,e.current.value=n),e.current.previous),[n])}var PC=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),EM="VisuallyHidden",Wg=E.forwardRef((n,e)=>y.jsx(Fe.span,{...n,ref:e,style:{...PC,...n.style}}));Wg.displayName=EM;var CM=function(n){if(typeof document>"u")return null;var e=Array.isArray(n)?n[0]:n;return e.ownerDocument.body},Ko=new WeakMap,Uc=new WeakMap,Bc={},cp=0,kC=function(n){return n&&(n.host||kC(n.parentNode))},SM=function(n,e){return e.map(function(t){if(n.contains(t))return t;var r=kC(t);return r&&n.contains(r)?r:(console.error("aria-hidden",t,"in not contained inside",n,". Doing nothing"),null)}).filter(function(t){return!!t})},TM=function(n,e,t,r){var s=SM(e,Array.isArray(n)?n:[n]);Bc[t]||(Bc[t]=new WeakMap);var a=Bc[t],l=[],c=new Set,f=new Set(s),h=function(v){!v||c.has(v)||(c.add(v),h(v.parentNode))};s.forEach(h);var m=function(v){!v||f.has(v)||Array.prototype.forEach.call(v.children,function(w){if(c.has(w))m(w);else try{var T=w.getAttribute(r),C=T!==null&&T!=="false",I=(Ko.get(w)||0)+1,b=(a.get(w)||0)+1;Ko.set(w,I),a.set(w,b),l.push(w),I===1&&C&&Uc.set(w,!0),b===1&&w.setAttribute(t,"true"),C||w.setAttribute(r,"true")}catch(R){console.error("aria-hidden: cannot operate on ",w,R)}})};return m(e),c.clear(),cp++,function(){l.forEach(function(v){var w=Ko.get(v)-1,T=a.get(v)-1;Ko.set(v,w),a.set(v,T),w||(Uc.has(v)||v.removeAttribute(r),Uc.delete(v)),T||v.removeAttribute(t)}),cp--,cp||(Ko=new WeakMap,Ko=new WeakMap,Uc=new WeakMap,Bc={})}},DC=function(n,e,t){t===void 0&&(t="data-aria-hidden");var r=Array.from(Array.isArray(n)?n:[n]),s=CM(n);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live], script"))),TM(r,s,t,"aria-hidden")):function(){return null}},Nr=function(){return Nr=Object.assign||function(e){for(var t,r=1,s=arguments.length;r<s;r++){t=arguments[r];for(var a in t)Object.prototype.hasOwnProperty.call(t,a)&&(e[a]=t[a])}return e},Nr.apply(this,arguments)};function MC(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(n);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(n,r[s])&&(t[r[s]]=n[r[s]]);return t}function IM(n,e,t){if(t||arguments.length===2)for(var r=0,s=e.length,a;r<s;r++)(a||!(r in e))&&(a||(a=Array.prototype.slice.call(e,0,r)),a[r]=e[r]);return n.concat(a||Array.prototype.slice.call(e))}var sd="right-scroll-bar-position",od="width-before-scroll-bar",bM="with-scroll-bars-hidden",RM="--removed-body-scroll-bar-size";function dp(n,e){return typeof n=="function"?n(e):n&&(n.current=e),n}function AM(n,e){var t=E.useState(function(){return{value:n,callback:e,facade:{get current(){return t.value},set current(r){var s=t.value;s!==r&&(t.value=r,t.callback(r,s))}}}})[0];return t.callback=e,t.facade}var NM=typeof window<"u"?E.useLayoutEffect:E.useEffect,u_=new WeakMap;function PM(n,e){var t=AM(null,function(r){return n.forEach(function(s){return dp(s,r)})});return NM(function(){var r=u_.get(t);if(r){var s=new Set(r),a=new Set(n),l=t.current;s.forEach(function(c){a.has(c)||dp(c,null)}),a.forEach(function(c){s.has(c)||dp(c,l)})}u_.set(t,n)},[n]),t}function kM(n){return n}function DM(n,e){e===void 0&&(e=kM);var t=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return t.length?t[t.length-1]:n},useMedium:function(a){var l=e(a,r);return t.push(l),function(){t=t.filter(function(c){return c!==l})}},assignSyncMedium:function(a){for(r=!0;t.length;){var l=t;t=[],l.forEach(a)}t={push:function(c){return a(c)},filter:function(){return t}}},assignMedium:function(a){r=!0;var l=[];if(t.length){var c=t;t=[],c.forEach(a),l=t}var f=function(){var m=l;l=[],m.forEach(a)},h=function(){return Promise.resolve().then(f)};h(),t={push:function(m){l.push(m),h()},filter:function(m){return l=l.filter(m),t}}}};return s}function MM(n){n===void 0&&(n={});var e=DM(null);return e.options=Nr({async:!0,ssr:!1},n),e}var OC=function(n){var e=n.sideCar,t=MC(n,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return E.createElement(r,Nr({},t))};OC.isSideCarExport=!0;function OM(n,e){return n.useMedium(e),OC}var LC=MM(),fp=function(){},cf=E.forwardRef(function(n,e){var t=E.useRef(null),r=E.useState({onScrollCapture:fp,onWheelCapture:fp,onTouchMoveCapture:fp}),s=r[0],a=r[1],l=n.forwardProps,c=n.children,f=n.className,h=n.removeScrollBar,m=n.enabled,v=n.shards,w=n.sideCar,T=n.noRelative,C=n.noIsolation,I=n.inert,b=n.allowPinchZoom,R=n.as,D=R===void 0?"div":R,j=n.gapMode,z=MC(n,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),q=w,Z=PM([t,e]),L=Nr(Nr({},z),s);return E.createElement(E.Fragment,null,m&&E.createElement(q,{sideCar:LC,removeScrollBar:h,shards:v,noRelative:T,noIsolation:C,inert:I,setCallbacks:a,allowPinchZoom:!!b,lockRef:t,gapMode:j}),l?E.cloneElement(E.Children.only(c),Nr(Nr({},L),{ref:Z})):E.createElement(D,Nr({},L,{className:f,ref:Z}),c))});cf.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};cf.classNames={fullWidth:od,zeroRight:sd};var LM=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function jM(){if(!document)return null;var n=document.createElement("style");n.type="text/css";var e=LM();return e&&n.setAttribute("nonce",e),n}function VM(n,e){n.styleSheet?n.styleSheet.cssText=e:n.appendChild(document.createTextNode(e))}function FM(n){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(n)}var $M=function(){var n=0,e=null;return{add:function(t){n==0&&(e=jM())&&(VM(e,t),FM(e)),n++},remove:function(){n--,!n&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},zM=function(){var n=$M();return function(e,t){E.useEffect(function(){return n.add(e),function(){n.remove()}},[e&&t])}},jC=function(){var n=zM(),e=function(t){var r=t.styles,s=t.dynamic;return n(r,s),null};return e},UM={left:0,top:0,right:0,gap:0},hp=function(n){return parseInt(n||"",10)||0},BM=function(n){var e=window.getComputedStyle(document.body),t=e[n==="padding"?"paddingLeft":"marginLeft"],r=e[n==="padding"?"paddingTop":"marginTop"],s=e[n==="padding"?"paddingRight":"marginRight"];return[hp(t),hp(r),hp(s)]},HM=function(n){if(n===void 0&&(n="margin"),typeof window>"u")return UM;var e=BM(n),t=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-t+e[2]-e[0])}},WM=jC(),ia="data-scroll-locked",KM=function(n,e,t,r){var s=n.left,a=n.top,l=n.right,c=n.gap;return t===void 0&&(t="margin"),`
  .`.concat(bM,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(c,"px ").concat(r,`;
  }
  body[`).concat(ia,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),t==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(a,`px;
    padding-right: `).concat(l,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(c,"px ").concat(r,`;
    `),t==="padding"&&"padding-right: ".concat(c,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(sd,` {
    right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(od,` {
    margin-right: `).concat(c,"px ").concat(r,`;
  }
  
  .`).concat(sd," .").concat(sd,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(od," .").concat(od,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(ia,`] {
    `).concat(RM,": ").concat(c,`px;
  }
`)},c_=function(){var n=parseInt(document.body.getAttribute(ia)||"0",10);return isFinite(n)?n:0},qM=function(){E.useEffect(function(){return document.body.setAttribute(ia,(c_()+1).toString()),function(){var n=c_()-1;n<=0?document.body.removeAttribute(ia):document.body.setAttribute(ia,n.toString())}},[])},GM=function(n){var e=n.noRelative,t=n.noImportant,r=n.gapMode,s=r===void 0?"margin":r;qM();var a=E.useMemo(function(){return HM(s)},[s]);return E.createElement(WM,{styles:KM(a,!e,s,t?"":"!important")})},em=!1;if(typeof window<"u")try{var Hc=Object.defineProperty({},"passive",{get:function(){return em=!0,!0}});window.addEventListener("test",Hc,Hc),window.removeEventListener("test",Hc,Hc)}catch{em=!1}var qo=em?{passive:!1}:!1,QM=function(n){return n.tagName==="TEXTAREA"},VC=function(n,e){if(!(n instanceof Element))return!1;var t=window.getComputedStyle(n);return t[e]!=="hidden"&&!(t.overflowY===t.overflowX&&!QM(n)&&t[e]==="visible")},YM=function(n){return VC(n,"overflowY")},XM=function(n){return VC(n,"overflowX")},d_=function(n,e){var t=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=FC(n,r);if(s){var a=$C(n,r),l=a[1],c=a[2];if(l>c)return!0}r=r.parentNode}while(r&&r!==t.body);return!1},JM=function(n){var e=n.scrollTop,t=n.scrollHeight,r=n.clientHeight;return[e,t,r]},ZM=function(n){var e=n.scrollLeft,t=n.scrollWidth,r=n.clientWidth;return[e,t,r]},FC=function(n,e){return n==="v"?YM(e):XM(e)},$C=function(n,e){return n==="v"?JM(e):ZM(e)},eO=function(n,e){return n==="h"&&e==="rtl"?-1:1},tO=function(n,e,t,r,s){var a=eO(n,window.getComputedStyle(e).direction),l=a*r,c=t.target,f=e.contains(c),h=!1,m=l>0,v=0,w=0;do{if(!c)break;var T=$C(n,c),C=T[0],I=T[1],b=T[2],R=I-b-a*C;(C||R)&&FC(n,c)&&(v+=R,w+=C);var D=c.parentNode;c=D&&D.nodeType===Node.DOCUMENT_FRAGMENT_NODE?D.host:D}while(!f&&c!==document.body||f&&(e.contains(c)||e===c));return(m&&Math.abs(v)<1||!m&&Math.abs(w)<1)&&(h=!0),h},Wc=function(n){return"changedTouches"in n?[n.changedTouches[0].clientX,n.changedTouches[0].clientY]:[0,0]},f_=function(n){return[n.deltaX,n.deltaY]},h_=function(n){return n&&"current"in n?n.current:n},nO=function(n,e){return n[0]===e[0]&&n[1]===e[1]},rO=function(n){return`
  .block-interactivity-`.concat(n,` {pointer-events: none;}
  .allow-interactivity-`).concat(n,` {pointer-events: all;}
`)},iO=0,Go=[];function sO(n){var e=E.useRef([]),t=E.useRef([0,0]),r=E.useRef(),s=E.useState(iO++)[0],a=E.useState(jC)[0],l=E.useRef(n);E.useEffect(function(){l.current=n},[n]),E.useEffect(function(){if(n.inert){document.body.classList.add("block-interactivity-".concat(s));var I=IM([n.lockRef.current],(n.shards||[]).map(h_),!0).filter(Boolean);return I.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),I.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[n.inert,n.lockRef.current,n.shards]);var c=E.useCallback(function(I,b){if("touches"in I&&I.touches.length===2||I.type==="wheel"&&I.ctrlKey)return!l.current.allowPinchZoom;var R=Wc(I),D=t.current,j="deltaX"in I?I.deltaX:D[0]-R[0],z="deltaY"in I?I.deltaY:D[1]-R[1],q,Z=I.target,L=Math.abs(j)>Math.abs(z)?"h":"v";if("touches"in I&&L==="h"&&Z.type==="range")return!1;var N=d_(L,Z);if(!N)return!0;if(N?q=L:(q=L==="v"?"h":"v",N=d_(L,Z)),!N)return!1;if(!r.current&&"changedTouches"in I&&(j||z)&&(r.current=q),!q)return!0;var M=r.current||q;return tO(M,b,I,M==="h"?j:z)},[]),f=E.useCallback(function(I){var b=I;if(!(!Go.length||Go[Go.length-1]!==a)){var R="deltaY"in b?f_(b):Wc(b),D=e.current.filter(function(q){return q.name===b.type&&(q.target===b.target||b.target===q.shadowParent)&&nO(q.delta,R)})[0];if(D&&D.should){b.cancelable&&b.preventDefault();return}if(!D){var j=(l.current.shards||[]).map(h_).filter(Boolean).filter(function(q){return q.contains(b.target)}),z=j.length>0?c(b,j[0]):!l.current.noIsolation;z&&b.cancelable&&b.preventDefault()}}},[]),h=E.useCallback(function(I,b,R,D){var j={name:I,delta:b,target:R,should:D,shadowParent:oO(R)};e.current.push(j),setTimeout(function(){e.current=e.current.filter(function(z){return z!==j})},1)},[]),m=E.useCallback(function(I){t.current=Wc(I),r.current=void 0},[]),v=E.useCallback(function(I){h(I.type,f_(I),I.target,c(I,n.lockRef.current))},[]),w=E.useCallback(function(I){h(I.type,Wc(I),I.target,c(I,n.lockRef.current))},[]);E.useEffect(function(){return Go.push(a),n.setCallbacks({onScrollCapture:v,onWheelCapture:v,onTouchMoveCapture:w}),document.addEventListener("wheel",f,qo),document.addEventListener("touchmove",f,qo),document.addEventListener("touchstart",m,qo),function(){Go=Go.filter(function(I){return I!==a}),document.removeEventListener("wheel",f,qo),document.removeEventListener("touchmove",f,qo),document.removeEventListener("touchstart",m,qo)}},[]);var T=n.removeScrollBar,C=n.inert;return E.createElement(E.Fragment,null,C?E.createElement(a,{styles:rO(s)}):null,T?E.createElement(GM,{noRelative:n.noRelative,gapMode:n.gapMode}):null)}function oO(n){for(var e=null;n!==null;)n instanceof ShadowRoot&&(e=n.host,n=n.host),n=n.parentNode;return e}const aO=OM(LC,sO);var Kg=E.forwardRef(function(n,e){return E.createElement(cf,Nr({},n,{ref:e,sideCar:aO}))});Kg.classNames=cf.classNames;var lO=[" ","Enter","ArrowUp","ArrowDown"],uO=[" ","Enter"],qs="Select",[df,ff,cO]=Dg(qs),[Ra,n9]=us(qs,[cO,EC]),hf=EC(),[dO,cs]=Ra(qs),[fO,hO]=Ra(qs),zC=n=>{const{__scopeSelect:e,children:t,open:r,defaultOpen:s,onOpenChange:a,value:l,defaultValue:c,onValueChange:f,dir:h,name:m,autoComplete:v,disabled:w,required:T,form:C}=n,I=hf(e),[b,R]=E.useState(null),[D,j]=E.useState(null),[z,q]=E.useState(!1),Z=Mg(h),[L,N]=ga({prop:r,defaultProp:s??!1,onChange:a,caller:qs}),[M,V]=ga({prop:l,defaultProp:c,onChange:f,caller:qs}),F=E.useRef(null),P=b?C||!!b.closest("form"):!0,[O,ee]=E.useState(new Set),ie=Array.from(O).map(ce=>ce.props.value).join(";");return y.jsx(hM,{...I,children:y.jsxs(dO,{required:T,scope:e,trigger:b,onTriggerChange:R,valueNode:D,onValueNodeChange:j,valueNodeHasChildren:z,onValueNodeHasChildrenChange:q,contentId:Yi(),value:M,onValueChange:V,open:L,onOpenChange:N,dir:Z,triggerPointerDownPosRef:F,disabled:w,children:[y.jsx(df.Provider,{scope:e,children:y.jsx(fO,{scope:n.__scopeSelect,onNativeOptionAdd:E.useCallback(ce=>{ee(de=>new Set(de).add(ce))},[]),onNativeOptionRemove:E.useCallback(ce=>{ee(de=>{const Q=new Set(de);return Q.delete(ce),Q})},[]),children:t})}),P?y.jsxs(d1,{"aria-hidden":!0,required:T,tabIndex:-1,name:m,autoComplete:v,value:M,onChange:ce=>V(ce.target.value),disabled:w,form:C,children:[M===void 0?y.jsx("option",{value:""}):null,Array.from(O)]},ie):null]})})};zC.displayName=qs;var UC="SelectTrigger",BC=E.forwardRef((n,e)=>{const{__scopeSelect:t,disabled:r=!1,...s}=n,a=hf(t),l=cs(UC,t),c=l.disabled||r,f=st(e,l.onTriggerChange),h=ff(t),m=E.useRef("touch"),[v,w,T]=h1(I=>{const b=h().filter(j=>!j.disabled),R=b.find(j=>j.value===l.value),D=p1(b,I,R);D!==void 0&&l.onValueChange(D.value)}),C=I=>{c||(l.onOpenChange(!0),T()),I&&(l.triggerPointerDownPosRef.current={x:Math.round(I.pageX),y:Math.round(I.pageY)})};return y.jsx(pM,{asChild:!0,...a,children:y.jsx(Fe.button,{type:"button",role:"combobox","aria-controls":l.contentId,"aria-expanded":l.open,"aria-required":l.required,"aria-autocomplete":"none",dir:l.dir,"data-state":l.open?"open":"closed",disabled:c,"data-disabled":c?"":void 0,"data-placeholder":f1(l.value)?"":void 0,...s,ref:f,onClick:Me(s.onClick,I=>{I.currentTarget.focus(),m.current!=="mouse"&&C(I)}),onPointerDown:Me(s.onPointerDown,I=>{m.current=I.pointerType;const b=I.target;b.hasPointerCapture(I.pointerId)&&b.releasePointerCapture(I.pointerId),I.button===0&&I.ctrlKey===!1&&I.pointerType==="mouse"&&(C(I),I.preventDefault())}),onKeyDown:Me(s.onKeyDown,I=>{const b=v.current!=="";!(I.ctrlKey||I.altKey||I.metaKey)&&I.key.length===1&&w(I.key),!(b&&I.key===" ")&&lO.includes(I.key)&&(C(),I.preventDefault())})})})});BC.displayName=UC;var HC="SelectValue",WC=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,children:a,placeholder:l="",...c}=n,f=cs(HC,t),{onValueNodeHasChildrenChange:h}=f,m=a!==void 0,v=st(e,f.onValueNodeChange);return Gt(()=>{h(m)},[h,m]),y.jsx(Fe.span,{...c,ref:v,style:{pointerEvents:"none"},children:f1(f.value)?y.jsx(y.Fragment,{children:l}):a})});WC.displayName=HC;var pO="SelectIcon",KC=E.forwardRef((n,e)=>{const{__scopeSelect:t,children:r,...s}=n;return y.jsx(Fe.span,{"aria-hidden":!0,...s,ref:e,children:r||"▼"})});KC.displayName=pO;var mO="SelectPortal",qC=n=>y.jsx(uf,{asChild:!0,...n});qC.displayName=mO;var Gs="SelectContent",GC=E.forwardRef((n,e)=>{const t=cs(Gs,n.__scopeSelect),[r,s]=E.useState();if(Gt(()=>{s(new DocumentFragment)},[]),!t.open){const a=r;return a?wa.createPortal(y.jsx(QC,{scope:n.__scopeSelect,children:y.jsx(df.Slot,{scope:n.__scopeSelect,children:y.jsx("div",{children:n.children})})}),a):null}return y.jsx(YC,{...n,ref:e})});GC.displayName=Gs;var ar=10,[QC,ds]=Ra(Gs),gO="SelectContentImpl",yO=pa("SelectContent.RemoveScroll"),YC=E.forwardRef((n,e)=>{const{__scopeSelect:t,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:a,onPointerDownOutside:l,side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:I,avoidCollisions:b,...R}=n,D=cs(Gs,t),[j,z]=E.useState(null),[q,Z]=E.useState(null),L=st(e,he=>z(he)),[N,M]=E.useState(null),[V,F]=E.useState(null),P=ff(t),[O,ee]=E.useState(!1),ie=E.useRef(!1);E.useEffect(()=>{if(j)return DC(j)},[j]),lC();const ce=E.useCallback(he=>{const[Ee,...Le]=P().map(Ke=>Ke.ref.current),[ke]=Le.slice(-1),ze=document.activeElement;for(const Ke of he)if(Ke===ze||(Ke==null||Ke.scrollIntoView({block:"nearest"}),Ke===Ee&&q&&(q.scrollTop=0),Ke===ke&&q&&(q.scrollTop=q.scrollHeight),Ke==null||Ke.focus(),document.activeElement!==ze))return},[P,q]),de=E.useCallback(()=>ce([N,j]),[ce,N,j]);E.useEffect(()=>{O&&de()},[O,de]);const{onOpenChange:Q,triggerPointerDownPosRef:te}=D;E.useEffect(()=>{if(j){let he={x:0,y:0};const Ee=ke=>{var ze,Ke;he={x:Math.abs(Math.round(ke.pageX)-(((ze=te.current)==null?void 0:ze.x)??0)),y:Math.abs(Math.round(ke.pageY)-(((Ke=te.current)==null?void 0:Ke.y)??0))}},Le=ke=>{he.x<=10&&he.y<=10?ke.preventDefault():j.contains(ke.target)||Q(!1),document.removeEventListener("pointermove",Ee),te.current=null};return te.current!==null&&(document.addEventListener("pointermove",Ee),document.addEventListener("pointerup",Le,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Ee),document.removeEventListener("pointerup",Le,{capture:!0})}}},[j,Q,te]),E.useEffect(()=>{const he=()=>Q(!1);return window.addEventListener("blur",he),window.addEventListener("resize",he),()=>{window.removeEventListener("blur",he),window.removeEventListener("resize",he)}},[Q]);const[le,U]=h1(he=>{const Ee=P().filter(ze=>!ze.disabled),Le=Ee.find(ze=>ze.ref.current===document.activeElement),ke=p1(Ee,he,Le);ke&&setTimeout(()=>ke.ref.current.focus())}),J=E.useCallback((he,Ee,Le)=>{const ke=!ie.current&&!Le;(D.value!==void 0&&D.value===Ee||ke)&&(M(he),ke&&(ie.current=!0))},[D.value]),pe=E.useCallback(()=>j==null?void 0:j.focus(),[j]),Ce=E.useCallback((he,Ee,Le)=>{const ke=!ie.current&&!Le;(D.value!==void 0&&D.value===Ee||ke)&&F(he)},[D.value]),Ae=r==="popper"?tm:XC,je=Ae===tm?{side:c,sideOffset:f,align:h,alignOffset:m,arrowPadding:v,collisionBoundary:w,collisionPadding:T,sticky:C,hideWhenDetached:I,avoidCollisions:b}:{};return y.jsx(QC,{scope:t,content:j,viewport:q,onViewportChange:Z,itemRefCallback:J,selectedItem:N,onItemLeave:pe,itemTextRefCallback:Ce,focusSelectedItem:de,selectedItemText:V,position:r,isPositioned:O,searchRef:le,children:y.jsx(Kg,{as:yO,allowPinchZoom:!0,children:y.jsx(Og,{asChild:!0,trapped:D.open,onMountAutoFocus:he=>{he.preventDefault()},onUnmountAutoFocus:Me(s,he=>{var Ee;(Ee=D.trigger)==null||Ee.focus({preventScroll:!0}),he.preventDefault()}),children:y.jsx(sf,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:a,onPointerDownOutside:l,onFocusOutside:he=>he.preventDefault(),onDismiss:()=>D.onOpenChange(!1),children:y.jsx(Ae,{role:"listbox",id:D.contentId,"data-state":D.open?"open":"closed",dir:D.dir,onContextMenu:he=>he.preventDefault(),...R,...je,onPlaced:()=>ee(!0),ref:L,style:{display:"flex",flexDirection:"column",outline:"none",...R.style},onKeyDown:Me(R.onKeyDown,he=>{const Ee=he.ctrlKey||he.altKey||he.metaKey;if(he.key==="Tab"&&he.preventDefault(),!Ee&&he.key.length===1&&U(he.key),["ArrowUp","ArrowDown","Home","End"].includes(he.key)){let ke=P().filter(ze=>!ze.disabled).map(ze=>ze.ref.current);if(["ArrowUp","End"].includes(he.key)&&(ke=ke.slice().reverse()),["ArrowUp","ArrowDown"].includes(he.key)){const ze=he.target,Ke=ke.indexOf(ze);ke=ke.slice(Ke+1)}setTimeout(()=>ce(ke)),he.preventDefault()}})})})})})})});YC.displayName=gO;var vO="SelectItemAlignedPosition",XC=E.forwardRef((n,e)=>{const{__scopeSelect:t,onPlaced:r,...s}=n,a=cs(Gs,t),l=ds(Gs,t),[c,f]=E.useState(null),[h,m]=E.useState(null),v=st(e,L=>m(L)),w=ff(t),T=E.useRef(!1),C=E.useRef(!0),{viewport:I,selectedItem:b,selectedItemText:R,focusSelectedItem:D}=l,j=E.useCallback(()=>{if(a.trigger&&a.valueNode&&c&&h&&I&&b&&R){const L=a.trigger.getBoundingClientRect(),N=h.getBoundingClientRect(),M=a.valueNode.getBoundingClientRect(),V=R.getBoundingClientRect();if(a.dir!=="rtl"){const ze=V.left-N.left,Ke=M.left-ze,yt=L.left-Ke,Mt=L.width+yt,An=Math.max(Mt,N.width),Un=window.innerWidth-ar,Bn=K0(Ke,[ar,Math.max(ar,Un-An)]);c.style.minWidth=Mt+"px",c.style.left=Bn+"px"}else{const ze=N.right-V.right,Ke=window.innerWidth-M.right-ze,yt=window.innerWidth-L.right-Ke,Mt=L.width+yt,An=Math.max(Mt,N.width),Un=window.innerWidth-ar,Bn=K0(Ke,[ar,Math.max(ar,Un-An)]);c.style.minWidth=Mt+"px",c.style.right=Bn+"px"}const F=w(),P=window.innerHeight-ar*2,O=I.scrollHeight,ee=window.getComputedStyle(h),ie=parseInt(ee.borderTopWidth,10),ce=parseInt(ee.paddingTop,10),de=parseInt(ee.borderBottomWidth,10),Q=parseInt(ee.paddingBottom,10),te=ie+ce+O+Q+de,le=Math.min(b.offsetHeight*5,te),U=window.getComputedStyle(I),J=parseInt(U.paddingTop,10),pe=parseInt(U.paddingBottom,10),Ce=L.top+L.height/2-ar,Ae=P-Ce,je=b.offsetHeight/2,he=b.offsetTop+je,Ee=ie+ce+he,Le=te-Ee;if(Ee<=Ce){const ze=F.length>0&&b===F[F.length-1].ref.current;c.style.bottom="0px";const Ke=h.clientHeight-I.offsetTop-I.offsetHeight,yt=Math.max(Ae,je+(ze?pe:0)+Ke+de),Mt=Ee+yt;c.style.height=Mt+"px"}else{const ze=F.length>0&&b===F[0].ref.current;c.style.top="0px";const yt=Math.max(Ce,ie+I.offsetTop+(ze?J:0)+je)+Le;c.style.height=yt+"px",I.scrollTop=Ee-Ce+I.offsetTop}c.style.margin=`${ar}px 0`,c.style.minHeight=le+"px",c.style.maxHeight=P+"px",r==null||r(),requestAnimationFrame(()=>T.current=!0)}},[w,a.trigger,a.valueNode,c,h,I,b,R,a.dir,r]);Gt(()=>j(),[j]);const[z,q]=E.useState();Gt(()=>{h&&q(window.getComputedStyle(h).zIndex)},[h]);const Z=E.useCallback(L=>{L&&C.current===!0&&(j(),D==null||D(),C.current=!1)},[j,D]);return y.jsx(_O,{scope:t,contentWrapper:c,shouldExpandOnScrollRef:T,onScrollButtonChange:Z,children:y.jsx("div",{ref:f,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:z},children:y.jsx(Fe.div,{...s,ref:v,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});XC.displayName=vO;var wO="SelectPopperPosition",tm=E.forwardRef((n,e)=>{const{__scopeSelect:t,align:r="start",collisionPadding:s=ar,...a}=n,l=hf(t);return y.jsx(mM,{...l,...a,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...a.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});tm.displayName=wO;var[_O,qg]=Ra(Gs,{}),nm="SelectViewport",JC=E.forwardRef((n,e)=>{const{__scopeSelect:t,nonce:r,...s}=n,a=ds(nm,t),l=qg(nm,t),c=st(e,a.onViewportChange),f=E.useRef(0);return y.jsxs(y.Fragment,{children:[y.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),y.jsx(df.Slot,{scope:t,children:y.jsx(Fe.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:c,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:Me(s.onScroll,h=>{const m=h.currentTarget,{contentWrapper:v,shouldExpandOnScrollRef:w}=l;if(w!=null&&w.current&&v){const T=Math.abs(f.current-m.scrollTop);if(T>0){const C=window.innerHeight-ar*2,I=parseFloat(v.style.minHeight),b=parseFloat(v.style.height),R=Math.max(I,b);if(R<C){const D=R+T,j=Math.min(C,D),z=D-j;v.style.height=j+"px",v.style.bottom==="0px"&&(m.scrollTop=z>0?z:0,v.style.justifyContent="flex-end")}}}f.current=m.scrollTop})})})]})});JC.displayName=nm;var ZC="SelectGroup",[xO,EO]=Ra(ZC),CO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=Yi();return y.jsx(xO,{scope:t,id:s,children:y.jsx(Fe.div,{role:"group","aria-labelledby":s,...r,ref:e})})});CO.displayName=ZC;var e1="SelectLabel",t1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=EO(e1,t);return y.jsx(Fe.div,{id:s.id,...r,ref:e})});t1.displayName=e1;var Pd="SelectItem",[SO,n1]=Ra(Pd),r1=E.forwardRef((n,e)=>{const{__scopeSelect:t,value:r,disabled:s=!1,textValue:a,...l}=n,c=cs(Pd,t),f=ds(Pd,t),h=c.value===r,[m,v]=E.useState(a??""),[w,T]=E.useState(!1),C=st(e,D=>{var j;return(j=f.itemRefCallback)==null?void 0:j.call(f,D,r,s)}),I=Yi(),b=E.useRef("touch"),R=()=>{s||(c.onValueChange(r),c.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return y.jsx(SO,{scope:t,value:r,disabled:s,textId:I,isSelected:h,onItemTextChange:E.useCallback(D=>{v(j=>j||((D==null?void 0:D.textContent)??"").trim())},[]),children:y.jsx(df.ItemSlot,{scope:t,value:r,disabled:s,textValue:m,children:y.jsx(Fe.div,{role:"option","aria-labelledby":I,"data-highlighted":w?"":void 0,"aria-selected":h&&w,"data-state":h?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...l,ref:C,onFocus:Me(l.onFocus,()=>T(!0)),onBlur:Me(l.onBlur,()=>T(!1)),onClick:Me(l.onClick,()=>{b.current!=="mouse"&&R()}),onPointerUp:Me(l.onPointerUp,()=>{b.current==="mouse"&&R()}),onPointerDown:Me(l.onPointerDown,D=>{b.current=D.pointerType}),onPointerMove:Me(l.onPointerMove,D=>{var j;b.current=D.pointerType,s?(j=f.onItemLeave)==null||j.call(f):b.current==="mouse"&&D.currentTarget.focus({preventScroll:!0})}),onPointerLeave:Me(l.onPointerLeave,D=>{var j;D.currentTarget===document.activeElement&&((j=f.onItemLeave)==null||j.call(f))}),onKeyDown:Me(l.onKeyDown,D=>{var z;((z=f.searchRef)==null?void 0:z.current)!==""&&D.key===" "||(uO.includes(D.key)&&R(),D.key===" "&&D.preventDefault())})})})})});r1.displayName=Pd;var Dl="SelectItemText",i1=E.forwardRef((n,e)=>{const{__scopeSelect:t,className:r,style:s,...a}=n,l=cs(Dl,t),c=ds(Dl,t),f=n1(Dl,t),h=hO(Dl,t),[m,v]=E.useState(null),w=st(e,R=>v(R),f.onItemTextChange,R=>{var D;return(D=c.itemTextRefCallback)==null?void 0:D.call(c,R,f.value,f.disabled)}),T=m==null?void 0:m.textContent,C=E.useMemo(()=>y.jsx("option",{value:f.value,disabled:f.disabled,children:T},f.value),[f.disabled,f.value,T]),{onNativeOptionAdd:I,onNativeOptionRemove:b}=h;return Gt(()=>(I(C),()=>b(C)),[I,b,C]),y.jsxs(y.Fragment,{children:[y.jsx(Fe.span,{id:f.textId,...a,ref:w}),f.isSelected&&l.valueNode&&!l.valueNodeHasChildren?wa.createPortal(a.children,l.valueNode):null]})});i1.displayName=Dl;var s1="SelectItemIndicator",o1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return n1(s1,t).isSelected?y.jsx(Fe.span,{"aria-hidden":!0,...r,ref:e}):null});o1.displayName=s1;var rm="SelectScrollUpButton",a1=E.forwardRef((n,e)=>{const t=ds(rm,n.__scopeSelect),r=qg(rm,n.__scopeSelect),[s,a]=E.useState(!1),l=st(e,r.onScrollButtonChange);return Gt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollTop>0;a(h)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?y.jsx(u1,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop-f.offsetHeight)}}):null});a1.displayName=rm;var im="SelectScrollDownButton",l1=E.forwardRef((n,e)=>{const t=ds(im,n.__scopeSelect),r=qg(im,n.__scopeSelect),[s,a]=E.useState(!1),l=st(e,r.onScrollButtonChange);return Gt(()=>{if(t.viewport&&t.isPositioned){let c=function(){const h=f.scrollHeight-f.clientHeight,m=Math.ceil(f.scrollTop)<h;a(m)};const f=t.viewport;return c(),f.addEventListener("scroll",c),()=>f.removeEventListener("scroll",c)}},[t.viewport,t.isPositioned]),s?y.jsx(u1,{...n,ref:l,onAutoScroll:()=>{const{viewport:c,selectedItem:f}=t;c&&f&&(c.scrollTop=c.scrollTop+f.offsetHeight)}}):null});l1.displayName=im;var u1=E.forwardRef((n,e)=>{const{__scopeSelect:t,onAutoScroll:r,...s}=n,a=ds("SelectScrollButton",t),l=E.useRef(null),c=ff(t),f=E.useCallback(()=>{l.current!==null&&(window.clearInterval(l.current),l.current=null)},[]);return E.useEffect(()=>()=>f(),[f]),Gt(()=>{var m;const h=c().find(v=>v.ref.current===document.activeElement);(m=h==null?void 0:h.ref.current)==null||m.scrollIntoView({block:"nearest"})},[c]),y.jsx(Fe.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:Me(s.onPointerDown,()=>{l.current===null&&(l.current=window.setInterval(r,50))}),onPointerMove:Me(s.onPointerMove,()=>{var h;(h=a.onItemLeave)==null||h.call(a),l.current===null&&(l.current=window.setInterval(r,50))}),onPointerLeave:Me(s.onPointerLeave,()=>{f()})})}),TO="SelectSeparator",c1=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n;return y.jsx(Fe.div,{"aria-hidden":!0,...r,ref:e})});c1.displayName=TO;var sm="SelectArrow",IO=E.forwardRef((n,e)=>{const{__scopeSelect:t,...r}=n,s=hf(t),a=cs(sm,t),l=ds(sm,t);return a.open&&l.position==="popper"?y.jsx(gM,{...s,...r,ref:e}):null});IO.displayName=sm;var bO="SelectBubbleInput",d1=E.forwardRef(({__scopeSelect:n,value:e,...t},r)=>{const s=E.useRef(null),a=st(r,s),l=xM(e);return E.useEffect(()=>{const c=s.current;if(!c)return;const f=window.HTMLSelectElement.prototype,m=Object.getOwnPropertyDescriptor(f,"value").set;if(l!==e&&m){const v=new Event("change",{bubbles:!0});m.call(c,e),c.dispatchEvent(v)}},[l,e]),y.jsx(Fe.select,{...t,style:{...PC,...t.style},ref:a,defaultValue:e})});d1.displayName=bO;function f1(n){return n===""||n===void 0}function h1(n){const e=zn(n),t=E.useRef(""),r=E.useRef(0),s=E.useCallback(l=>{const c=t.current+l;e(c),function f(h){t.current=h,window.clearTimeout(r.current),h!==""&&(r.current=window.setTimeout(()=>f(""),1e3))}(c)},[e]),a=E.useCallback(()=>{t.current="",window.clearTimeout(r.current)},[]);return E.useEffect(()=>()=>window.clearTimeout(r.current),[]),[t,s,a]}function p1(n,e,t){const s=e.length>1&&Array.from(e).every(h=>h===e[0])?e[0]:e,a=t?n.indexOf(t):-1;let l=RO(n,Math.max(a,0));s.length===1&&(l=l.filter(h=>h!==t));const f=l.find(h=>h.textValue.toLowerCase().startsWith(s.toLowerCase()));return f!==t?f:void 0}function RO(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var AO=zC,m1=BC,NO=WC,PO=KC,kO=qC,g1=GC,DO=JC,y1=t1,v1=r1,MO=i1,OO=o1,w1=a1,_1=l1,x1=c1;/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var LO={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jO=n=>n.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase();/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eo=(n,e)=>{const t=E.forwardRef(({color:r="currentColor",size:s=24,strokeWidth:a=2,absoluteStrokeWidth:l,className:c="",children:f,...h},m)=>E.createElement("svg",{ref:m,...LO,width:s,height:s,stroke:r,strokeWidth:l?Number(a)*24/Number(s):a,className:["lucide",`lucide-${jO(n)}`,c].join(" "),...h},[...e.map(([v,w])=>E.createElement(v,w)),...Array.isArray(f)?f:[f]]));return t.displayName=`${n}`,t};/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VO=eo("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const E1=eo("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FO=eo("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const p_=eo("CirclePlus",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"M8 12h8",key:"1wcyev"}],["path",{d:"M12 8v8",key:"napkw2"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const m_=eo("SquarePen",[["path",{d:"M12 3H5a2 2 0 0 0-2 2v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2v-7",key:"1m0v6g"}],["path",{d:"M18.375 2.625a2.121 2.121 0 1 1 3 3L12 15l-4 1 1-4Z",key:"1lpok0"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const g_=eo("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.364.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const C1=eo("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]);function S1(n){var e,t,r="";if(typeof n=="string"||typeof n=="number")r+=n;else if(typeof n=="object")if(Array.isArray(n)){var s=n.length;for(e=0;e<s;e++)n[e]&&(t=S1(n[e]))&&(r&&(r+=" "),r+=t)}else for(t in n)n[t]&&(r&&(r+=" "),r+=t);return r}function T1(){for(var n,e,t=0,r="",s=arguments.length;t<s;t++)(n=arguments[t])&&(e=S1(n))&&(r&&(r+=" "),r+=e);return r}const Gg="-",$O=n=>{const e=UO(n),{conflictingClassGroups:t,conflictingClassGroupModifiers:r}=n;return{getClassGroupId:l=>{const c=l.split(Gg);return c[0]===""&&c.length!==1&&c.shift(),I1(c,e)||zO(l)},getConflictingClassGroupIds:(l,c)=>{const f=t[l]||[];return c&&r[l]?[...f,...r[l]]:f}}},I1=(n,e)=>{var l;if(n.length===0)return e.classGroupId;const t=n[0],r=e.nextPart.get(t),s=r?I1(n.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const a=n.join(Gg);return(l=e.validators.find(({validator:c})=>c(a)))==null?void 0:l.classGroupId},y_=/^\[(.+)\]$/,zO=n=>{if(y_.test(n)){const e=y_.exec(n)[1],t=e==null?void 0:e.substring(0,e.indexOf(":"));if(t)return"arbitrary.."+t}},UO=n=>{const{theme:e,prefix:t}=n,r={nextPart:new Map,validators:[]};return HO(Object.entries(n.classGroups),t).forEach(([a,l])=>{om(l,r,a,e)}),r},om=(n,e,t,r)=>{n.forEach(s=>{if(typeof s=="string"){const a=s===""?e:v_(e,s);a.classGroupId=t;return}if(typeof s=="function"){if(BO(s)){om(s(r),e,t,r);return}e.validators.push({validator:s,classGroupId:t});return}Object.entries(s).forEach(([a,l])=>{om(l,v_(e,a),t,r)})})},v_=(n,e)=>{let t=n;return e.split(Gg).forEach(r=>{t.nextPart.has(r)||t.nextPart.set(r,{nextPart:new Map,validators:[]}),t=t.nextPart.get(r)}),t},BO=n=>n.isThemeGetter,HO=(n,e)=>e?n.map(([t,r])=>{const s=r.map(a=>typeof a=="string"?e+a:typeof a=="object"?Object.fromEntries(Object.entries(a).map(([l,c])=>[e+l,c])):a);return[t,s]}):n,WO=n=>{if(n<1)return{get:()=>{},set:()=>{}};let e=0,t=new Map,r=new Map;const s=(a,l)=>{t.set(a,l),e++,e>n&&(e=0,r=t,t=new Map)};return{get(a){let l=t.get(a);if(l!==void 0)return l;if((l=r.get(a))!==void 0)return s(a,l),l},set(a,l){t.has(a)?t.set(a,l):s(a,l)}}},b1="!",KO=n=>{const{separator:e,experimentalParseClassName:t}=n,r=e.length===1,s=e[0],a=e.length,l=c=>{const f=[];let h=0,m=0,v;for(let b=0;b<c.length;b++){let R=c[b];if(h===0){if(R===s&&(r||c.slice(b,b+a)===e)){f.push(c.slice(m,b)),m=b+a;continue}if(R==="/"){v=b;continue}}R==="["?h++:R==="]"&&h--}const w=f.length===0?c:c.substring(m),T=w.startsWith(b1),C=T?w.substring(1):w,I=v&&v>m?v-m:void 0;return{modifiers:f,hasImportantModifier:T,baseClassName:C,maybePostfixModifierPosition:I}};return t?c=>t({className:c,parseClassName:l}):l},qO=n=>{if(n.length<=1)return n;const e=[];let t=[];return n.forEach(r=>{r[0]==="["?(e.push(...t.sort(),r),t=[]):t.push(r)}),e.push(...t.sort()),e},GO=n=>({cache:WO(n.cacheSize),parseClassName:KO(n),...$O(n)}),QO=/\s+/,YO=(n,e)=>{const{parseClassName:t,getClassGroupId:r,getConflictingClassGroupIds:s}=e,a=[],l=n.trim().split(QO);let c="";for(let f=l.length-1;f>=0;f-=1){const h=l[f],{modifiers:m,hasImportantModifier:v,baseClassName:w,maybePostfixModifierPosition:T}=t(h);let C=!!T,I=r(C?w.substring(0,T):w);if(!I){if(!C){c=h+(c.length>0?" "+c:c);continue}if(I=r(w),!I){c=h+(c.length>0?" "+c:c);continue}C=!1}const b=qO(m).join(":"),R=v?b+b1:b,D=R+I;if(a.includes(D))continue;a.push(D);const j=s(I,C);for(let z=0;z<j.length;++z){const q=j[z];a.push(R+q)}c=h+(c.length>0?" "+c:c)}return c};function XO(){let n=0,e,t,r="";for(;n<arguments.length;)(e=arguments[n++])&&(t=R1(e))&&(r&&(r+=" "),r+=t);return r}const R1=n=>{if(typeof n=="string")return n;let e,t="";for(let r=0;r<n.length;r++)n[r]&&(e=R1(n[r]))&&(t&&(t+=" "),t+=e);return t};function JO(n,...e){let t,r,s,a=l;function l(f){const h=e.reduce((m,v)=>v(m),n());return t=GO(h),r=t.cache.get,s=t.cache.set,a=c,c(f)}function c(f){const h=r(f);if(h)return h;const m=YO(f,t);return s(f,m),m}return function(){return a(XO.apply(null,arguments))}}const lt=n=>{const e=t=>t[n]||[];return e.isThemeGetter=!0,e},A1=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZO=/^\d+\/\d+$/,e4=new Set(["px","full","screen"]),t4=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,n4=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,r4=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,i4=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,s4=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ii=n=>sa(n)||e4.has(n)||ZO.test(n),Vi=n=>Aa(n,"length",h4),sa=n=>!!n&&!Number.isNaN(Number(n)),pp=n=>Aa(n,"number",sa),Il=n=>!!n&&Number.isInteger(Number(n)),o4=n=>n.endsWith("%")&&sa(n.slice(0,-1)),Ve=n=>A1.test(n),Fi=n=>t4.test(n),a4=new Set(["length","size","percentage"]),l4=n=>Aa(n,a4,N1),u4=n=>Aa(n,"position",N1),c4=new Set(["image","url"]),d4=n=>Aa(n,c4,m4),f4=n=>Aa(n,"",p4),bl=()=>!0,Aa=(n,e,t)=>{const r=A1.exec(n);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):t(r[2]):!1},h4=n=>n4.test(n)&&!r4.test(n),N1=()=>!1,p4=n=>i4.test(n),m4=n=>s4.test(n),g4=()=>{const n=lt("colors"),e=lt("spacing"),t=lt("blur"),r=lt("brightness"),s=lt("borderColor"),a=lt("borderRadius"),l=lt("borderSpacing"),c=lt("borderWidth"),f=lt("contrast"),h=lt("grayscale"),m=lt("hueRotate"),v=lt("invert"),w=lt("gap"),T=lt("gradientColorStops"),C=lt("gradientColorStopPositions"),I=lt("inset"),b=lt("margin"),R=lt("opacity"),D=lt("padding"),j=lt("saturate"),z=lt("scale"),q=lt("sepia"),Z=lt("skew"),L=lt("space"),N=lt("translate"),M=()=>["auto","contain","none"],V=()=>["auto","hidden","clip","visible","scroll"],F=()=>["auto",Ve,e],P=()=>[Ve,e],O=()=>["",ii,Vi],ee=()=>["auto",sa,Ve],ie=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],ce=()=>["solid","dashed","dotted","double","none"],de=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],Q=()=>["start","end","center","between","around","evenly","stretch"],te=()=>["","0",Ve],le=()=>["auto","avoid","all","avoid-page","page","left","right","column"],U=()=>[sa,Ve];return{cacheSize:500,separator:":",theme:{colors:[bl],spacing:[ii,Vi],blur:["none","",Fi,Ve],brightness:U(),borderColor:[n],borderRadius:["none","","full",Fi,Ve],borderSpacing:P(),borderWidth:O(),contrast:U(),grayscale:te(),hueRotate:U(),invert:te(),gap:P(),gradientColorStops:[n],gradientColorStopPositions:[o4,Vi],inset:F(),margin:F(),opacity:U(),padding:P(),saturate:U(),scale:U(),sepia:te(),skew:U(),space:P(),translate:P()},classGroups:{aspect:[{aspect:["auto","square","video",Ve]}],container:["container"],columns:[{columns:[Fi]}],"break-after":[{"break-after":le()}],"break-before":[{"break-before":le()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...ie(),Ve]}],overflow:[{overflow:V()}],"overflow-x":[{"overflow-x":V()}],"overflow-y":[{"overflow-y":V()}],overscroll:[{overscroll:M()}],"overscroll-x":[{"overscroll-x":M()}],"overscroll-y":[{"overscroll-y":M()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[I]}],"inset-x":[{"inset-x":[I]}],"inset-y":[{"inset-y":[I]}],start:[{start:[I]}],end:[{end:[I]}],top:[{top:[I]}],right:[{right:[I]}],bottom:[{bottom:[I]}],left:[{left:[I]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Il,Ve]}],basis:[{basis:F()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",Ve]}],grow:[{grow:te()}],shrink:[{shrink:te()}],order:[{order:["first","last","none",Il,Ve]}],"grid-cols":[{"grid-cols":[bl]}],"col-start-end":[{col:["auto",{span:["full",Il,Ve]},Ve]}],"col-start":[{"col-start":ee()}],"col-end":[{"col-end":ee()}],"grid-rows":[{"grid-rows":[bl]}],"row-start-end":[{row:["auto",{span:[Il,Ve]},Ve]}],"row-start":[{"row-start":ee()}],"row-end":[{"row-end":ee()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",Ve]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",Ve]}],gap:[{gap:[w]}],"gap-x":[{"gap-x":[w]}],"gap-y":[{"gap-y":[w]}],"justify-content":[{justify:["normal",...Q()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...Q(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...Q(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[D]}],px:[{px:[D]}],py:[{py:[D]}],ps:[{ps:[D]}],pe:[{pe:[D]}],pt:[{pt:[D]}],pr:[{pr:[D]}],pb:[{pb:[D]}],pl:[{pl:[D]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[L]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[L]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",Ve,e]}],"min-w":[{"min-w":[Ve,e,"min","max","fit"]}],"max-w":[{"max-w":[Ve,e,"none","full","min","max","fit","prose",{screen:[Fi]},Fi]}],h:[{h:[Ve,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[Ve,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[Ve,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Fi,Vi]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",pp]}],"font-family":[{font:[bl]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",Ve]}],"line-clamp":[{"line-clamp":["none",sa,pp]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ii,Ve]}],"list-image":[{"list-image":["none",Ve]}],"list-style-type":[{list:["none","disc","decimal",Ve]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[n]}],"placeholder-opacity":[{"placeholder-opacity":[R]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[n]}],"text-opacity":[{"text-opacity":[R]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...ce(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ii,Vi]}],"underline-offset":[{"underline-offset":["auto",ii,Ve]}],"text-decoration-color":[{decoration:[n]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:P()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",Ve]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",Ve]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[R]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...ie(),u4]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",l4]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},d4]}],"bg-color":[{bg:[n]}],"gradient-from-pos":[{from:[C]}],"gradient-via-pos":[{via:[C]}],"gradient-to-pos":[{to:[C]}],"gradient-from":[{from:[T]}],"gradient-via":[{via:[T]}],"gradient-to":[{to:[T]}],rounded:[{rounded:[a]}],"rounded-s":[{"rounded-s":[a]}],"rounded-e":[{"rounded-e":[a]}],"rounded-t":[{"rounded-t":[a]}],"rounded-r":[{"rounded-r":[a]}],"rounded-b":[{"rounded-b":[a]}],"rounded-l":[{"rounded-l":[a]}],"rounded-ss":[{"rounded-ss":[a]}],"rounded-se":[{"rounded-se":[a]}],"rounded-ee":[{"rounded-ee":[a]}],"rounded-es":[{"rounded-es":[a]}],"rounded-tl":[{"rounded-tl":[a]}],"rounded-tr":[{"rounded-tr":[a]}],"rounded-br":[{"rounded-br":[a]}],"rounded-bl":[{"rounded-bl":[a]}],"border-w":[{border:[c]}],"border-w-x":[{"border-x":[c]}],"border-w-y":[{"border-y":[c]}],"border-w-s":[{"border-s":[c]}],"border-w-e":[{"border-e":[c]}],"border-w-t":[{"border-t":[c]}],"border-w-r":[{"border-r":[c]}],"border-w-b":[{"border-b":[c]}],"border-w-l":[{"border-l":[c]}],"border-opacity":[{"border-opacity":[R]}],"border-style":[{border:[...ce(),"hidden"]}],"divide-x":[{"divide-x":[c]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[c]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[R]}],"divide-style":[{divide:ce()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...ce()]}],"outline-offset":[{"outline-offset":[ii,Ve]}],"outline-w":[{outline:[ii,Vi]}],"outline-color":[{outline:[n]}],"ring-w":[{ring:O()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[n]}],"ring-opacity":[{"ring-opacity":[R]}],"ring-offset-w":[{"ring-offset":[ii,Vi]}],"ring-offset-color":[{"ring-offset":[n]}],shadow:[{shadow:["","inner","none",Fi,f4]}],"shadow-color":[{shadow:[bl]}],opacity:[{opacity:[R]}],"mix-blend":[{"mix-blend":[...de(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":de()}],filter:[{filter:["","none"]}],blur:[{blur:[t]}],brightness:[{brightness:[r]}],contrast:[{contrast:[f]}],"drop-shadow":[{"drop-shadow":["","none",Fi,Ve]}],grayscale:[{grayscale:[h]}],"hue-rotate":[{"hue-rotate":[m]}],invert:[{invert:[v]}],saturate:[{saturate:[j]}],sepia:[{sepia:[q]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[t]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[f]}],"backdrop-grayscale":[{"backdrop-grayscale":[h]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[m]}],"backdrop-invert":[{"backdrop-invert":[v]}],"backdrop-opacity":[{"backdrop-opacity":[R]}],"backdrop-saturate":[{"backdrop-saturate":[j]}],"backdrop-sepia":[{"backdrop-sepia":[q]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[l]}],"border-spacing-x":[{"border-spacing-x":[l]}],"border-spacing-y":[{"border-spacing-y":[l]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",Ve]}],duration:[{duration:U()}],ease:[{ease:["linear","in","out","in-out",Ve]}],delay:[{delay:U()}],animate:[{animate:["none","spin","ping","pulse","bounce",Ve]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[z]}],"scale-x":[{"scale-x":[z]}],"scale-y":[{"scale-y":[z]}],rotate:[{rotate:[Il,Ve]}],"translate-x":[{"translate-x":[N]}],"translate-y":[{"translate-y":[N]}],"skew-x":[{"skew-x":[Z]}],"skew-y":[{"skew-y":[Z]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",Ve]}],accent:[{accent:["auto",n]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",Ve]}],"caret-color":[{caret:[n]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":P()}],"scroll-mx":[{"scroll-mx":P()}],"scroll-my":[{"scroll-my":P()}],"scroll-ms":[{"scroll-ms":P()}],"scroll-me":[{"scroll-me":P()}],"scroll-mt":[{"scroll-mt":P()}],"scroll-mr":[{"scroll-mr":P()}],"scroll-mb":[{"scroll-mb":P()}],"scroll-ml":[{"scroll-ml":P()}],"scroll-p":[{"scroll-p":P()}],"scroll-px":[{"scroll-px":P()}],"scroll-py":[{"scroll-py":P()}],"scroll-ps":[{"scroll-ps":P()}],"scroll-pe":[{"scroll-pe":P()}],"scroll-pt":[{"scroll-pt":P()}],"scroll-pr":[{"scroll-pr":P()}],"scroll-pb":[{"scroll-pb":P()}],"scroll-pl":[{"scroll-pl":P()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",Ve]}],fill:[{fill:[n,"none"]}],"stroke-w":[{stroke:[ii,Vi,pp]}],stroke:[{stroke:[n,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},y4=JO(g4);function be(...n){return y4(T1(n))}const am=AO,lm=NO,kd=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(m1,{ref:r,className:be("flex h-9 w-full items-center justify-between whitespace-nowrap rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-sm shadow-sm ring-offset-white placeholder:text-zinc-500 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1 dark:border-zinc-800 dark:ring-offset-zinc-950 dark:placeholder:text-zinc-400 dark:focus:ring-zinc-300",n),...t,children:[e,y.jsx(PO,{asChild:!0,children:y.jsx(E1,{className:"h-4 w-4 opacity-50"})})]}));kd.displayName=m1.displayName;const P1=E.forwardRef(({className:n,...e},t)=>y.jsx(w1,{ref:t,className:be("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(FO,{className:"h-4 w-4"})}));P1.displayName=w1.displayName;const k1=E.forwardRef(({className:n,...e},t)=>y.jsx(_1,{ref:t,className:be("flex cursor-default items-center justify-center py-1",n),...e,children:y.jsx(E1,{className:"h-4 w-4"})}));k1.displayName=_1.displayName;const Dd=E.forwardRef(({className:n,children:e,position:t="popper",...r},s)=>y.jsx(kO,{children:y.jsxs(g1,{ref:s,className:be("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border border-zinc-200 bg-white text-zinc-950 shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2 dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",t==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",n),position:t,...r,children:[y.jsx(P1,{}),y.jsx(DO,{className:be("p-1",t==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),y.jsx(k1,{})]})}));Dd.displayName=g1.displayName;const v4=E.forwardRef(({className:n,...e},t)=>y.jsx(y1,{ref:t,className:be("px-2 py-1.5 text-sm font-semibold",n),...e}));v4.displayName=y1.displayName;const Bi=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(v1,{ref:r,className:be("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-2 pr-8 text-sm outline-none focus:bg-zinc-100 focus:text-zinc-900 data-[disabled]:pointer-events-none data-[disabled]:opacity-50 dark:focus:bg-zinc-800 dark:focus:text-zinc-50",n),...t,children:[y.jsx("span",{className:"absolute right-2 flex h-3.5 w-3.5 items-center justify-center",children:y.jsx(OO,{children:y.jsx(VO,{className:"h-4 w-4"})})}),y.jsx(MO,{children:e})]}));Bi.displayName=v1.displayName;const w4=E.forwardRef(({className:n,...e},t)=>y.jsx(x1,{ref:t,className:be("-mx-1 my-1 h-px bg-zinc-100 dark:bg-zinc-800",n),...e}));w4.displayName=x1.displayName;const _4=()=>{const{tableId:n}=Vm(),[e,t]=E.useState("all"),[r,s]=E.useState([]),[a,l]=E.useState([]),[c,f]=E.useState([]),{addToCart:h,setTableId:m}=Bm(),{t:v,i18n:w}=kg();E.useEffect(()=>{n&&m(n)},[n,m]),E.useEffect(()=>{(async()=>{const I=await uk();s(I);const b=await ck();l(b)})()},[]),E.useEffect(()=>{f(e==="all"?r:r.filter(C=>C.category===e))},[e,r]);const T=C=>{w.changeLanguage(C)};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsxs("div",{className:"bg-amber-100 rounded-lg p-4 mb-6",children:[y.jsxs("div",{className:"flex justify-between items-center mb-4",children:[y.jsxs("div",{children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800",children:v("ourMenu")}),n&&y.jsxs("p",{className:"text-amber-700 mt-2",children:[v("table"),": ",n]})]}),y.jsxs(am,{onValueChange:T,defaultValue:w.language,children:[y.jsx(kd,{className:"w-[120px]",children:y.jsx(lm,{placeholder:"Dil Seç"})}),y.jsxs(Dd,{children:[y.jsx(Bi,{value:"tr",children:"Türkçe"}),y.jsx(Bi,{value:"en",children:"English"}),y.jsx(Bi,{value:"ru",children:"Русский"}),y.jsx(Bi,{value:"de",children:"Deutsch"}),y.jsx(Bi,{value:"fr",children:"Français"})]})]})]}),n&&y.jsx("div",{className:"max-w-xs",children:y.jsx(Ak,{tableId:n})})]}),y.jsx("div",{className:"overflow-x-auto pb-2 mb-6",children:y.jsxs("div",{className:"flex space-x-2 min-w-max",children:[y.jsx("button",{onClick:()=>t("all"),className:`px-4 py-2 rounded-full text-sm font-medium ${e==="all"?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:v("all")}),a.map(C=>y.jsx("button",{onClick:()=>t(C.id),className:`px-4 py-2 rounded-full text-sm font-medium ${e===C.id?"bg-amber-600 text-white":"bg-amber-100 text-amber-800 hover:bg-amber-200"}`,children:C["name_"+w.language]||C.name_tr},C.id))]})}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:c.map(C=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:[y.jsx("div",{className:"h-48 overflow-hidden",children:y.jsx("img",{src:C.image,alt:C["name_"+w.language]||C.name_tr,className:"w-full h-full object-cover"})}),y.jsxs("div",{className:"p-4",children:[y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsx("h3",{className:"text-lg font-semibold text-gray-800",children:C["name_"+w.language]||C.name_tr}),y.jsxs("span",{className:"text-amber-600 font-bold",children:[C.price," ₺"]})]}),y.jsx("p",{className:"text-gray-600 text-sm mt-1",children:C["description_"+w.language]||C.description_tr}),y.jsx("button",{onClick:()=>h(C),className:"mt-4 w-full bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:v("addToCart")})]})]},C.id))}),n&&y.jsx(Nk,{tableId:n})]})},x4=()=>{const{tableId:n}=Vm(),e=cu(),{items:t,getTotalPrice:r,clearCart:s}=Bm(),a=async()=>{try{const l=document.getElementById("order-note"),c=l?l.value:"",f=crypto.randomUUID(),h={tableId:n,sessionId:f,items:t.map(m=>({id:m.id,name:m.name,price:m.price,quantity:m.quantity})),totalPrice:r(),orderNote:c,timestamp:Ct.now(),status:"new",paymentStatus:"pending"};await Id(lr(Wt,"orders"),h),alert("Siparişiniz alındı! Teşekkür ederiz."),s(),e(`/thank-you/${n}`)}catch(l){console.error("Error submitting order:",l),alert("Sipariş gönderilirken bir hata oluştu. Lütfen tekrar deneyin.")}};return t.length===0?y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Sepetiniz Boş"}),y.jsx("p",{className:"text-gray-600 mb-4",children:"Sipariş verebilmek için sepetinize ürün eklemelisiniz."}),y.jsx("button",{onClick:()=>e(`/menu/${n}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menüye Dön"})]})}):y.jsx("div",{className:"container mx-auto px-4 py-8",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparişi Tamamla"}),n&&y.jsx("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:y.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),y.jsxs("div",{className:"mt-6",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipariş Özeti"}),y.jsx("div",{className:"border-t border-b border-gray-200 py-4 divide-y divide-gray-200",children:t.map(l=>y.jsxs("div",{className:"py-3 flex justify-between",children:[y.jsx("div",{className:"flex items-center",children:y.jsxs("span",{className:"text-gray-800",children:[l.quantity," x ",l.name]})}),y.jsxs("span",{className:"text-gray-800 font-medium",children:[l.price*l.quantity," ₺"]})]},l.id))}),y.jsxs("div",{className:"mt-4 flex justify-between items-center text-xl font-bold",children:[y.jsx("span",{children:"Toplam:"}),y.jsxs("span",{children:[r()," ₺"]})]})]}),y.jsxs("div",{className:"mt-8",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-3",children:"Sipariş Notu"}),y.jsx("textarea",{id:"order-note",className:"w-full border border-gray-300 rounded-md p-3 h-24 focus:outline-none focus:ring-2 focus:ring-amber-500",placeholder:"Özel istekleriniz varsa buraya yazabilirsiniz..."})]}),y.jsx("button",{onClick:a,className:"mt-6 w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors text-lg font-medium",children:"Siparişi Onayla"})]})})},E4=()=>{const{tableId:n}=Vm();return y.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[y.jsx("div",{className:"w-16 h-16 mx-auto bg-green-100 rounded-full flex items-center justify-center mb-6",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-10 w-10 text-green-500",fill:"none",viewBox:"0 0 24 24",stroke:"currentColor",children:y.jsx("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-4",children:"Siparişiniz Alındı!"}),y.jsx("p",{className:"text-gray-600 mb-6",children:"Siparişiniz başarıyla alındı ve hazırlanmaya başlandı. Kısa süre içinde masanıza servis edilecektir."}),n&&y.jsx("div",{className:"mb-6 p-3 bg-amber-50 rounded-md",children:y.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",n]})}),y.jsx("p",{className:"text-sm text-gray-500",children:"Bizi tercih ettiğiniz için teşekkür ederiz."})]})})},C4=1,S4=1e6;let mp=0;function T4(){return mp=(mp+1)%Number.MAX_SAFE_INTEGER,mp.toString()}const gp=new Map,w_=n=>{if(gp.has(n))return;const e=setTimeout(()=>{gp.delete(n),Kl({type:"REMOVE_TOAST",toastId:n})},S4);gp.set(n,e)},I4=(n,e)=>{switch(e.type){case"ADD_TOAST":return{...n,toasts:[e.toast,...n.toasts].slice(0,C4)};case"UPDATE_TOAST":return{...n,toasts:n.toasts.map(t=>t.id===e.toast.id?{...t,...e.toast}:t)};case"DISMISS_TOAST":{const{toastId:t}=e;return t?w_(t):n.toasts.forEach(r=>{w_(r.id)}),{...n,toasts:n.toasts.map(r=>r.id===t||t===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...n,toasts:[]}:{...n,toasts:n.toasts.filter(t=>t.id!==e.toastId)}}},ad=[];let ld={toasts:[]};function Kl(n){ld=I4(ld,n),ad.forEach(e=>{e(ld)})}function b4({...n}){const e=T4(),t=s=>Kl({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Kl({type:"DISMISS_TOAST",toastId:e});return Kl({type:"ADD_TOAST",toast:{...n,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:t}}function Qg(){const[n,e]=E.useState(ld);return E.useEffect(()=>(ad.push(e),()=>{const t=ad.indexOf(e);t>-1&&ad.splice(t,1)}),[n]),{...n,toast:b4,dismiss:t=>Kl({type:"DISMISS_TOAST",toastId:t})}}function R4(n,e){return E.useReducer((t,r)=>e[t][r]??t,n)}var Na=n=>{const{present:e,children:t}=n,r=A4(e),s=typeof t=="function"?t({present:r.isPresent}):E.Children.only(t),a=st(r.ref,N4(s));return typeof t=="function"||r.isPresent?E.cloneElement(s,{ref:a}):null};Na.displayName="Presence";function A4(n){const[e,t]=E.useState(),r=E.useRef(null),s=E.useRef(n),a=E.useRef("none"),l=n?"mounted":"unmounted",[c,f]=R4(l,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return E.useEffect(()=>{const h=Kc(r.current);a.current=c==="mounted"?h:"none"},[c]),Gt(()=>{const h=r.current,m=s.current;if(m!==n){const w=a.current,T=Kc(h);n?f("MOUNT"):T==="none"||(h==null?void 0:h.display)==="none"?f("UNMOUNT"):f(m&&w!==T?"ANIMATION_OUT":"UNMOUNT"),s.current=n}},[n,f]),Gt(()=>{if(e){let h;const m=e.ownerDocument.defaultView??window,v=T=>{const I=Kc(r.current).includes(T.animationName);if(T.target===e&&I&&(f("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",h=m.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},w=T=>{T.target===e&&(a.current=Kc(r.current))};return e.addEventListener("animationstart",w),e.addEventListener("animationcancel",v),e.addEventListener("animationend",v),()=>{m.clearTimeout(h),e.removeEventListener("animationstart",w),e.removeEventListener("animationcancel",v),e.removeEventListener("animationend",v)}}else f("ANIMATION_END")},[e,f]),{isPresent:["mounted","unmountSuspended"].includes(c),ref:E.useCallback(h=>{r.current=h?getComputedStyle(h):null,t(h)},[])}}function Kc(n){return(n==null?void 0:n.animationName)||"none"}function N4(n){var r,s;let e=(r=Object.getOwnPropertyDescriptor(n.props,"ref"))==null?void 0:r.get,t=e&&"isReactWarning"in e&&e.isReactWarning;return t?n.ref:(e=(s=Object.getOwnPropertyDescriptor(n,"ref"))==null?void 0:s.get,t=e&&"isReactWarning"in e&&e.isReactWarning,t?n.props.ref:n.props.ref||n.ref)}var Yg="ToastProvider",[Xg,P4,k4]=Dg("Toast"),[D1,r9]=us("Toast",[k4]),[D4,pf]=D1(Yg),M1=n=>{const{__scopeToast:e,label:t="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:a=50,children:l}=n,[c,f]=E.useState(null),[h,m]=E.useState(0),v=E.useRef(!1),w=E.useRef(!1);return t.trim()||console.error(`Invalid prop \`label\` supplied to \`${Yg}\`. Expected non-empty \`string\`.`),y.jsx(Xg.Provider,{scope:e,children:y.jsx(D4,{scope:e,label:t,duration:r,swipeDirection:s,swipeThreshold:a,toastCount:h,viewport:c,onViewportChange:f,onToastAdd:E.useCallback(()=>m(T=>T+1),[]),onToastRemove:E.useCallback(()=>m(T=>T-1),[]),isFocusedToastEscapeKeyDownRef:v,isClosePausedRef:w,children:l})})};M1.displayName=Yg;var O1="ToastViewport",M4=["F8"],um="toast.viewportPause",cm="toast.viewportResume",L1=E.forwardRef((n,e)=>{const{__scopeToast:t,hotkey:r=M4,label:s="Notifications ({hotkey})",...a}=n,l=pf(O1,t),c=P4(t),f=E.useRef(null),h=E.useRef(null),m=E.useRef(null),v=E.useRef(null),w=st(e,v,l.onViewportChange),T=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),C=l.toastCount>0;E.useEffect(()=>{const b=R=>{var j;r.length!==0&&r.every(z=>R[z]||R.code===z)&&((j=v.current)==null||j.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),E.useEffect(()=>{const b=f.current,R=v.current;if(C&&b&&R){const D=()=>{if(!l.isClosePausedRef.current){const Z=new CustomEvent(um);R.dispatchEvent(Z),l.isClosePausedRef.current=!0}},j=()=>{if(l.isClosePausedRef.current){const Z=new CustomEvent(cm);R.dispatchEvent(Z),l.isClosePausedRef.current=!1}},z=Z=>{!b.contains(Z.relatedTarget)&&j()},q=()=>{b.contains(document.activeElement)||j()};return b.addEventListener("focusin",D),b.addEventListener("focusout",z),b.addEventListener("pointermove",D),b.addEventListener("pointerleave",q),window.addEventListener("blur",D),window.addEventListener("focus",j),()=>{b.removeEventListener("focusin",D),b.removeEventListener("focusout",z),b.removeEventListener("pointermove",D),b.removeEventListener("pointerleave",q),window.removeEventListener("blur",D),window.removeEventListener("focus",j)}}},[C,l.isClosePausedRef]);const I=E.useCallback(({tabbingDirection:b})=>{const D=c().map(j=>{const z=j.ref.current,q=[z,...q4(z)];return b==="forwards"?q:q.reverse()});return(b==="forwards"?D.reverse():D).flat()},[c]);return E.useEffect(()=>{const b=v.current;if(b){const R=D=>{var q,Z,L;const j=D.altKey||D.ctrlKey||D.metaKey;if(D.key==="Tab"&&!j){const N=document.activeElement,M=D.shiftKey;if(D.target===b&&M){(q=h.current)==null||q.focus();return}const P=I({tabbingDirection:M?"backwards":"forwards"}),O=P.findIndex(ee=>ee===N);yp(P.slice(O+1))?D.preventDefault():M?(Z=h.current)==null||Z.focus():(L=m.current)==null||L.focus()}};return b.addEventListener("keydown",R),()=>b.removeEventListener("keydown",R)}},[c,I]),y.jsxs(Qk,{ref:f,role:"region","aria-label":s.replace("{hotkey}",T),tabIndex:-1,style:{pointerEvents:C?void 0:"none"},children:[C&&y.jsx(dm,{ref:h,onFocusFromOutsideViewport:()=>{const b=I({tabbingDirection:"forwards"});yp(b)}}),y.jsx(Xg.Slot,{scope:t,children:y.jsx(Fe.ol,{tabIndex:-1,...a,ref:w})}),C&&y.jsx(dm,{ref:m,onFocusFromOutsideViewport:()=>{const b=I({tabbingDirection:"backwards"});yp(b)}})]})});L1.displayName=O1;var j1="ToastFocusProxy",dm=E.forwardRef((n,e)=>{const{__scopeToast:t,onFocusFromOutsideViewport:r,...s}=n,a=pf(j1,t);return y.jsx(Wg,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:l=>{var h;const c=l.relatedTarget;!((h=a.viewport)!=null&&h.contains(c))&&r()}})});dm.displayName=j1;var vu="Toast",O4="toast.swipeStart",L4="toast.swipeMove",j4="toast.swipeCancel",V4="toast.swipeEnd",V1=E.forwardRef((n,e)=>{const{forceMount:t,open:r,defaultOpen:s,onOpenChange:a,...l}=n,[c,f]=ga({prop:r,defaultProp:s??!0,onChange:a,caller:vu});return y.jsx(Na,{present:t||c,children:y.jsx(z4,{open:c,...l,ref:e,onClose:()=>f(!1),onPause:zn(n.onPause),onResume:zn(n.onResume),onSwipeStart:Me(n.onSwipeStart,h=>{h.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:Me(n.onSwipeMove,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","move"),h.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${v}px`)}),onSwipeCancel:Me(n.onSwipeCancel,h=>{h.currentTarget.setAttribute("data-swipe","cancel"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:Me(n.onSwipeEnd,h=>{const{x:m,y:v}=h.detail.delta;h.currentTarget.setAttribute("data-swipe","end"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),h.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),h.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${m}px`),h.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${v}px`),f(!1)})})})});V1.displayName=vu;var[F4,$4]=D1(vu,{onClose(){}}),z4=E.forwardRef((n,e)=>{const{__scopeToast:t,type:r="foreground",duration:s,open:a,onClose:l,onEscapeKeyDown:c,onPause:f,onResume:h,onSwipeStart:m,onSwipeMove:v,onSwipeCancel:w,onSwipeEnd:T,...C}=n,I=pf(vu,t),[b,R]=E.useState(null),D=st(e,ee=>R(ee)),j=E.useRef(null),z=E.useRef(null),q=s||I.duration,Z=E.useRef(0),L=E.useRef(q),N=E.useRef(0),{onToastAdd:M,onToastRemove:V}=I,F=zn(()=>{var ie;(b==null?void 0:b.contains(document.activeElement))&&((ie=I.viewport)==null||ie.focus()),l()}),P=E.useCallback(ee=>{!ee||ee===1/0||(window.clearTimeout(N.current),Z.current=new Date().getTime(),N.current=window.setTimeout(F,ee))},[F]);E.useEffect(()=>{const ee=I.viewport;if(ee){const ie=()=>{P(L.current),h==null||h()},ce=()=>{const de=new Date().getTime()-Z.current;L.current=L.current-de,window.clearTimeout(N.current),f==null||f()};return ee.addEventListener(um,ce),ee.addEventListener(cm,ie),()=>{ee.removeEventListener(um,ce),ee.removeEventListener(cm,ie)}}},[I.viewport,q,f,h,P]),E.useEffect(()=>{a&&!I.isClosePausedRef.current&&P(q)},[a,q,I.isClosePausedRef,P]),E.useEffect(()=>(M(),()=>V()),[M,V]);const O=E.useMemo(()=>b?W1(b):null,[b]);return I.viewport?y.jsxs(y.Fragment,{children:[O&&y.jsx(U4,{__scopeToast:t,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:O}),y.jsx(F4,{scope:t,onClose:F,children:wa.createPortal(y.jsx(Xg.ItemSlot,{scope:t,children:y.jsx(Gk,{asChild:!0,onEscapeKeyDown:Me(c,()=>{I.isFocusedToastEscapeKeyDownRef.current||F(),I.isFocusedToastEscapeKeyDownRef.current=!1}),children:y.jsx(Fe.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":a?"open":"closed","data-swipe-direction":I.swipeDirection,...C,ref:D,style:{userSelect:"none",touchAction:"none",...n.style},onKeyDown:Me(n.onKeyDown,ee=>{ee.key==="Escape"&&(c==null||c(ee.nativeEvent),ee.nativeEvent.defaultPrevented||(I.isFocusedToastEscapeKeyDownRef.current=!0,F()))}),onPointerDown:Me(n.onPointerDown,ee=>{ee.button===0&&(j.current={x:ee.clientX,y:ee.clientY})}),onPointerMove:Me(n.onPointerMove,ee=>{if(!j.current)return;const ie=ee.clientX-j.current.x,ce=ee.clientY-j.current.y,de=!!z.current,Q=["left","right"].includes(I.swipeDirection),te=["left","up"].includes(I.swipeDirection)?Math.min:Math.max,le=Q?te(0,ie):0,U=Q?0:te(0,ce),J=ee.pointerType==="touch"?10:2,pe={x:le,y:U},Ce={originalEvent:ee,delta:pe};de?(z.current=pe,qc(L4,v,Ce,{discrete:!1})):__(pe,I.swipeDirection,J)?(z.current=pe,qc(O4,m,Ce,{discrete:!1}),ee.target.setPointerCapture(ee.pointerId)):(Math.abs(ie)>J||Math.abs(ce)>J)&&(j.current=null)}),onPointerUp:Me(n.onPointerUp,ee=>{const ie=z.current,ce=ee.target;if(ce.hasPointerCapture(ee.pointerId)&&ce.releasePointerCapture(ee.pointerId),z.current=null,j.current=null,ie){const de=ee.currentTarget,Q={originalEvent:ee,delta:ie};__(ie,I.swipeDirection,I.swipeThreshold)?qc(V4,T,Q,{discrete:!0}):qc(j4,w,Q,{discrete:!0}),de.addEventListener("click",te=>te.preventDefault(),{once:!0})}})})})}),I.viewport)})]}):null}),U4=n=>{const{__scopeToast:e,children:t,...r}=n,s=pf(vu,e),[a,l]=E.useState(!1),[c,f]=E.useState(!1);return W4(()=>l(!0)),E.useEffect(()=>{const h=window.setTimeout(()=>f(!0),1e3);return()=>window.clearTimeout(h)},[]),c?null:y.jsx(uf,{asChild:!0,children:y.jsx(Wg,{...r,children:a&&y.jsxs(y.Fragment,{children:[s.label," ",t]})})})},B4="ToastTitle",F1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(Fe.div,{...r,ref:e})});F1.displayName=B4;var H4="ToastDescription",$1=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n;return y.jsx(Fe.div,{...r,ref:e})});$1.displayName=H4;var z1="ToastAction",U1=E.forwardRef((n,e)=>{const{altText:t,...r}=n;return t.trim()?y.jsx(H1,{altText:t,asChild:!0,children:y.jsx(Jg,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${z1}\`. Expected non-empty \`string\`.`),null)});U1.displayName=z1;var B1="ToastClose",Jg=E.forwardRef((n,e)=>{const{__scopeToast:t,...r}=n,s=$4(B1,t);return y.jsx(H1,{asChild:!0,children:y.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Me(n.onClick,s.onClose)})})});Jg.displayName=B1;var H1=E.forwardRef((n,e)=>{const{__scopeToast:t,altText:r,...s}=n;return y.jsx(Fe.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function W1(n){const e=[];return Array.from(n.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),K4(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",a=r.dataset.radixToastAnnounceExclude==="";if(!s)if(a){const l=r.dataset.radixToastAnnounceAlt;l&&e.push(l)}else e.push(...W1(r))}}),e}function qc(n,e,t,{discrete:r}){const s=t.originalEvent.currentTarget,a=new CustomEvent(n,{bubbles:!0,cancelable:!0,detail:t});e&&s.addEventListener(n,e,{once:!0}),r?iC(s,a):s.dispatchEvent(a)}var __=(n,e,t=0)=>{const r=Math.abs(n.x),s=Math.abs(n.y),a=r>s;return e==="left"||e==="right"?a&&r>t:!a&&s>t};function W4(n=()=>{}){const e=zn(n);Gt(()=>{let t=0,r=0;return t=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(t),window.cancelAnimationFrame(r)}},[e])}function K4(n){return n.nodeType===n.ELEMENT_NODE}function q4(n){const e=[],t=document.createTreeWalker(n,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;t.nextNode();)e.push(t.currentNode);return e}function yp(n){const e=document.activeElement;return n.some(t=>t===e?!0:(t.focus(),document.activeElement!==e))}var G4=M1,K1=L1,q1=V1,G1=F1,Q1=$1,Y1=U1,X1=Jg;const x_=n=>typeof n=="boolean"?`${n}`:n===0?"0":n,E_=T1,Zg=(n,e)=>t=>{var r;if((e==null?void 0:e.variants)==null)return E_(n,t==null?void 0:t.class,t==null?void 0:t.className);const{variants:s,defaultVariants:a}=e,l=Object.keys(s).map(h=>{const m=t==null?void 0:t[h],v=a==null?void 0:a[h];if(m===null)return null;const w=x_(m)||x_(v);return s[h][w]}),c=t&&Object.entries(t).reduce((h,m)=>{let[v,w]=m;return w===void 0||(h[v]=w),h},{}),f=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((h,m)=>{let{class:v,className:w,...T}=m;return Object.entries(T).every(C=>{let[I,b]=C;return Array.isArray(b)?b.includes({...a,...c}[I]):{...a,...c}[I]===b})?[...h,v,w]:h},[]);return E_(n,l,f,t==null?void 0:t.class,t==null?void 0:t.className)},Q4=G4,J1=E.forwardRef(({className:n,...e},t)=>y.jsx(K1,{ref:t,className:be("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",n),...e}));J1.displayName=K1.displayName;const Y4=Zg("group pointer-events-auto relative flex w-full items-center justify-between space-x-2 overflow-hidden rounded-md border border-zinc-200 p-4 pr-6 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full dark:border-zinc-800",{variants:{variant:{default:"border bg-white text-zinc-950 dark:bg-zinc-950 dark:text-zinc-50",destructive:"destructive group border-red-500 bg-red-500 text-zinc-50 dark:border-red-900 dark:bg-red-900 dark:text-zinc-50"}},defaultVariants:{variant:"default"}}),Z1=E.forwardRef(({className:n,variant:e,...t},r)=>y.jsx(q1,{ref:r,className:be(Y4({variant:e}),n),...t}));Z1.displayName=q1.displayName;const X4=E.forwardRef(({className:n,...e},t)=>y.jsx(Y1,{ref:t,className:be("inline-flex h-8 shrink-0 items-center justify-center rounded-md border border-zinc-200 bg-transparent px-3 text-sm font-medium transition-colors hover:bg-zinc-100 focus:outline-none focus:ring-1 focus:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 group-[.destructive]:border-zinc-100/40 group-[.destructive]:hover:border-red-500/30 group-[.destructive]:hover:bg-red-500 group-[.destructive]:hover:text-zinc-50 group-[.destructive]:focus:ring-red-500 dark:border-zinc-800 dark:hover:bg-zinc-800 dark:focus:ring-zinc-300 dark:group-[.destructive]:border-zinc-800/40 dark:group-[.destructive]:hover:border-red-900/30 dark:group-[.destructive]:hover:bg-red-900 dark:group-[.destructive]:hover:text-zinc-50 dark:group-[.destructive]:focus:ring-red-900",n),...e}));X4.displayName=Y1.displayName;const eS=E.forwardRef(({className:n,...e},t)=>y.jsx(X1,{ref:t,className:be("absolute right-1 top-1 rounded-md p-1 text-zinc-950/50 opacity-0 transition-opacity hover:text-zinc-950 focus:opacity-100 focus:outline-none focus:ring-1 group-hover:opacity-100 group-[.destructive]:text-red-300 group-[.destructive]:hover:text-red-50 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600 dark:text-zinc-50/50 dark:hover:text-zinc-50",n),"toast-close":"",...e,children:y.jsx(C1,{className:"h-4 w-4"})}));eS.displayName=X1.displayName;const tS=E.forwardRef(({className:n,...e},t)=>y.jsx(G1,{ref:t,className:be("text-sm font-semibold [&+div]:text-xs",n),...e}));tS.displayName=G1.displayName;const nS=E.forwardRef(({className:n,...e},t)=>y.jsx(Q1,{ref:t,className:be("text-sm opacity-90",n),...e}));nS.displayName=Q1.displayName;function rS(){const{toasts:n}=Qg();return y.jsxs(Q4,{children:[n.map(function({id:e,title:t,description:r,action:s,...a}){return y.jsxs(Z1,{...a,children:[y.jsxs("div",{className:"grid gap-1",children:[t&&y.jsx(tS,{children:t}),r&&y.jsx(nS,{children:r})]}),s,y.jsx(eS,{})]},e)}),y.jsx(J1,{})]})}const J4=()=>{const[n,e]=E.useState(0),{toast:t}=Qg(),{t:r}=kg();return E.useEffect(()=>{(async()=>{try{const a=lr(Wt,"orders"),l=bg(a,GE("status","==","pending")),c=await iu(l);e(c.size)}catch(a){console.error("Error fetching new orders count:",a),t({title:r("error"),description:r("errorFetchingNewOrdersCount"),variant:"destructive"})}})()},[t,r]),y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(rS,{}),y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:r("adminDashboard")}),y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:[y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("orders")}),y.jsxs("div",{className:"bg-blue-100 text-blue-800 rounded-full px-3 py-1 text-xs font-semibold",children:[n," ",r("new")]})]}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("viewActiveOrders")}),y.jsx($l,{to:"/admin/orders",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageOrders")})]})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("menuManagement")})}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("manageMenuDescription")}),y.jsx($l,{to:"/admin/menu",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("manageMenu")})]})}),y.jsx("div",{className:"bg-white rounded-lg shadow-md overflow-hidden",children:y.jsxs("div",{className:"p-6",children:[y.jsx("div",{className:"flex items-center justify-between mb-4",children:y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:r("qrCodes")})}),y.jsx("p",{className:"text-gray-600 mb-6",children:r("viewPrintQrCodes")}),y.jsx($l,{to:"/admin/qrcodes",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white text-center py-2 px-4 rounded-md transition-colors",children:r("viewQrCodes")})]})})]})]})},Ar=(n=800,e=200)=>{try{const t=new(window.AudioContext||window.webkitAudioContext),r=t.createOscillator(),s=t.createGain();r.connect(s),s.connect(t.destination),r.frequency.value=n,r.type="sine",s.gain.setValueAtTime(.3,t.currentTime),s.gain.exponentialRampToValueAtTime(.01,t.currentTime+e/1e3),r.start(t.currentTime),r.stop(t.currentTime+e/1e3)}catch(t){console.log("Web Audio API desteklenmiyor:",t)}},Z4=()=>{try{const n=new Audio("/sounds/new-order.mp3");n.volume=.8,n.play().catch(()=>{Ar(800,200),setTimeout(()=>Ar(1e3,200),300)})}catch{Ar(800,200),setTimeout(()=>Ar(1e3,200),300)}},eL=()=>{try{const n=new Audio("/sounds/waiter-call.mp3");n.volume=.7,n.play().catch(()=>{Ar(600,150),setTimeout(()=>Ar(800,150),200),setTimeout(()=>Ar(1e3,150),400)})}catch{Ar(600,150),setTimeout(()=>Ar(800,150),200),setTimeout(()=>Ar(1e3,150),400)}},tL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(0);E.useEffect(()=>{const h=lr(Wt,"waiterCalls"),m=bg(h,GE("status","!=","resolved"),Kp("status"),Kp("timestamp","desc")),v=JE(m,w=>{const T=w.docs.map(I=>({id:I.id,...I.data()}));T.filter(I=>I.status==="pending").length>0&&t!==0&&(eL(),s()),e(T),r(T.length)});return()=>v()},[t]);const s=()=>{Notification.permission==="granted"&&new Notification("Garson Çağrısı!",{body:"Bir masadan garson çağrısı var.",icon:"/favicon.ico"})},a=async(h,m)=>{try{const v=zs(Wt,"waiterCalls",h);await Td(v,{status:m})}catch(v){console.error("Çağrı durumu güncellenirken hata oluştu:",v)}},l=h=>{const m=h.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(m)},c=h=>{switch(h){case"pending":return"bg-red-100 text-red-800 border-red-200";case"acknowledged":return"bg-yellow-100 text-yellow-800 border-yellow-200";default:return"bg-gray-100 text-gray-800 border-gray-200"}},f=h=>{switch(h){case"pending":return"Bekliyor";case"acknowledged":return"Görüldü";case"resolved":return"Çözüldü";default:return h}};return n.length===0?null:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-4 mb-6",children:[y.jsxs("div",{className:"flex items-center justify-between mb-4",children:[y.jsxs("h3",{className:"text-lg font-semibold text-gray-800",children:["🔔 Garson Çağrıları (",n.length,")"]}),n.some(h=>h.status==="pending")&&y.jsx("div",{className:"animate-pulse",children:y.jsx("span",{className:"bg-red-500 text-white px-2 py-1 rounded-full text-xs font-bold",children:"YENİ"})})]}),y.jsx("div",{className:"space-y-2 max-h-60 overflow-y-auto",children:n.map(h=>y.jsx("div",{className:`p-3 rounded-lg border-2 ${c(h.status)}`,children:y.jsxs("div",{className:"flex justify-between items-start",children:[y.jsxs("div",{children:[y.jsx("div",{className:"font-medium",children:h.tableId.replace("table-","Masa ")}),y.jsx("div",{className:"text-sm opacity-75",children:l(h.timestamp)}),h.message&&y.jsx("div",{className:"text-sm mt-1",children:h.message})]}),y.jsxs("div",{className:"flex flex-col gap-1",children:[y.jsx("span",{className:"text-xs px-2 py-1 rounded-full bg-white bg-opacity-50",children:f(h.status)}),y.jsxs("div",{className:"flex gap-1",children:[h.status==="pending"&&y.jsx("button",{onClick:()=>a(h.id,"acknowledged"),className:"text-xs bg-yellow-500 hover:bg-yellow-600 text-white px-2 py-1 rounded",children:"Gördüm"}),h.status!=="resolved"&&y.jsx("button",{onClick:()=>a(h.id,"resolved"),className:"text-xs bg-green-500 hover:bg-green-600 text-white px-2 py-1 rounded",children:"Çözüldü"})]})]})]})},h.id))})]})},Gc=({order:n,onStatusUpdate:e,onOrderSelect:t})=>{const r=l=>{switch(l){case"new":return{color:"bg-green-100 border-green-300 text-green-800",label:"Yeni Sipariş",bgColor:"bg-green-50"};case"preparing":return{color:"bg-yellow-100 border-yellow-300 text-yellow-800",label:"Hazırlanıyor",bgColor:"bg-yellow-50"};case"ready":return{color:"bg-blue-100 border-blue-300 text-blue-800",label:"Hazır",bgColor:"bg-blue-50"};case"delivered":return{color:"bg-gray-100 border-gray-300 text-gray-800",label:"Teslim Edildi",bgColor:"bg-gray-50"}}},s=l=>{const c=l.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit"}).format(c)},a=r(n.status);return y.jsxs("div",{className:`${a.bgColor} rounded-lg border-2 ${a.color} p-4 cursor-pointer hover:shadow-lg transition-all duration-200 transform hover:scale-105`,onClick:()=>t(n),children:[y.jsxs("div",{className:"flex justify-between items-start mb-3",children:[y.jsxs("div",{children:[y.jsx("h3",{className:"text-lg font-bold text-gray-800",children:n.tableId.replace("table-","Masa ")}),y.jsx("p",{className:"text-sm text-gray-600",children:s(n.timestamp)}),y.jsxs("p",{className:"text-xs text-gray-500",children:["Session: ",n.sessionId.slice(-8)]})]}),y.jsx("div",{className:`px-3 py-1 rounded-full text-xs font-semibold ${a.color}`,children:a.label})]}),y.jsxs("div",{className:"mb-3",children:[y.jsxs("div",{className:"text-sm text-gray-700",children:[y.jsxs("span",{className:"font-medium",children:[n.items.length," ürün"]}),y.jsx("span",{className:"mx-2",children:"•"}),y.jsxs("span",{className:"font-bold text-amber-600",children:[n.totalPrice," ₺"]})]}),y.jsxs("div",{className:"mt-2 space-y-1",children:[n.items.slice(0,2).map((l,c)=>y.jsxs("div",{className:"text-xs text-gray-600",children:[l.quantity,"x ",l.name]},c)),n.items.length>2&&y.jsxs("div",{className:"text-xs text-gray-500 italic",children:["+",n.items.length-2," ürün daha..."]})]})]}),y.jsxs("div",{className:"flex gap-2 mt-3",children:[n.status==="new"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"preparing")},className:"flex-1 bg-yellow-500 hover:bg-yellow-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazırla"}),n.status==="preparing"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"ready")},className:"flex-1 bg-blue-500 hover:bg-blue-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Hazır"}),n.status==="ready"&&y.jsx("button",{onClick:l=>{l.stopPropagation(),e(n.id,"delivered")},className:"flex-1 bg-gray-500 hover:bg-gray-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Teslim Et"}),y.jsx("button",{onClick:l=>{l.stopPropagation(),t(n)},className:"bg-amber-500 hover:bg-amber-600 text-white text-xs py-2 px-3 rounded-md transition-colors",children:"Detay"})]}),n.orderNote&&y.jsxs("div",{className:"mt-3 p-2 bg-white bg-opacity-50 rounded text-xs text-gray-700",children:[y.jsx("span",{className:"font-medium",children:"Not:"})," ",n.orderNote]})]})},nL=({orders:n,onStatusUpdate:e,onOrderSelect:t})=>{const r={new:n.filter(a=>a.status==="new"),preparing:n.filter(a=>a.status==="preparing"),ready:n.filter(a=>a.status==="ready"),delivered:n.filter(a=>a.status==="delivered")},s=a=>{switch(a){case"new":return`🆕 Yeni Siparişler (${r.new.length})`;case"preparing":return`👨‍🍳 Hazırlanıyor (${r.preparing.length})`;case"ready":return`✅ Hazır (${r.ready.length})`;case"delivered":return`📦 Teslim Edildi (${r.delivered.length})`}};return n.length===0?y.jsxs("div",{className:"text-center py-12",children:[y.jsx("div",{className:"text-gray-400 text-6xl mb-4",children:"📋"}),y.jsx("h3",{className:"text-xl font-semibold text-gray-600 mb-2",children:"Henüz sipariş yok"}),y.jsx("p",{className:"text-gray-500",children:"Yeni siparişler geldiğinde burada görünecek."})]}):y.jsxs("div",{className:"space-y-8",children:[r.new.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s("new")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.new.map(a=>y.jsx(Gc,{order:a,onStatusUpdate:e,onOrderSelect:t},a.id))})]}),r.preparing.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s("preparing")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.preparing.map(a=>y.jsx(Gc,{order:a,onStatusUpdate:e,onOrderSelect:t},a.id))})]}),r.ready.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s("ready")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.ready.map(a=>y.jsx(Gc,{order:a,onStatusUpdate:e,onOrderSelect:t},a.id))})]}),r.delivered.length>0&&y.jsxs("div",{children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:s("delivered")}),y.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 xl:grid-cols-4 gap-4",children:r.delivered.slice(0,10).map(a=>y.jsx(Gc,{order:a,onStatusUpdate:e,onOrderSelect:t},a.id))}),r.delivered.length>10&&y.jsxs("p",{className:"text-sm text-gray-500 mt-4 text-center",children:["Son 10 teslim edilmiş sipariş gösteriliyor. Toplam: ",r.delivered.length]})]})]})},rL=()=>{const[n,e]=E.useState([]),[t,r]=E.useState(null),[s,a]=E.useState(0),l=m=>{switch(m){case"new":return{color:"bg-green-100 text-green-800",label:"Yeni"};case"preparing":return{color:"bg-yellow-100 text-yellow-800",label:"Hazırlanıyor"};case"ready":return{color:"bg-blue-100 text-blue-800",label:"Hazır"};case"delivered":return{color:"bg-gray-100 text-gray-800",label:"Teslim Edildi"}}};E.useEffect(()=>{"Notification"in window&&Notification.permission==="default"&&Notification.requestPermission()},[]);const c=()=>{Notification.permission==="granted"&&new Notification("Yeni Sipariş!",{body:"Yeni bir sipariş geldi.",icon:"/favicon.ico"})};E.useEffect(()=>{const m=lr(Wt,"orders"),v=bg(m,Kp("timestamp","desc")),w=JE(v,T=>{const C=T.docs.map(I=>({id:I.id,...I.data()}));C.length>s&&s!==0&&(Z4(),c()),e(C),a(C.length)});return()=>w()},[s]);const f=async(m,v)=>{try{const w=zs(Wt,"orders",m);await Td(w,{status:v})}catch(w){console.error("Error updating order status:",w),alert("Sipariş durumu güncellenirken bir hata oluştu.")}},h=m=>{const v=m.toDate();return new Intl.DateTimeFormat("tr-TR",{hour:"2-digit",minute:"2-digit",day:"2-digit",month:"2-digit",year:"numeric"}).format(v)};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-2xl font-bold text-gray-800 mb-6",children:"Sipariş Yönetimi"}),y.jsx(tL,{}),y.jsxs("div",{className:"flex flex-col lg:flex-row gap-6",children:[y.jsx("div",{className:"lg:w-2/3",children:y.jsx(nL,{orders:n,onStatusUpdate:f,onOrderSelect:r})}),y.jsx("div",{className:"lg:w-1/3",children:t?y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6",children:[y.jsxs("div",{className:"flex justify-between items-start mb-4",children:[y.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Sipariş Detayı"}),y.jsx("button",{onClick:()=>r(null),className:"text-gray-400 hover:text-gray-500",children:y.jsx("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:y.jsx("path",{fillRule:"evenodd",d:"M4.293 4.293a1 1 0 011.414 0L10 8.586l4.293-4.293a1 1 0 111.414 1.414L11.414 10l4.293 4.293a1 1 0 01-1.414 1.414L10 11.414l-4.293 4.293a1 1 0 01-1.414-1.414L8.586 10 4.293 5.707a1 1 0 010-1.414z",clipRule:"evenodd"})})})]}),y.jsxs("div",{className:"mb-4 p-3 bg-amber-50 rounded-md",children:[y.jsxs("p",{className:"text-amber-700 font-medium",children:["Masa: ",t.tableId]}),y.jsx("p",{className:"text-amber-700 text-sm",children:h(t.timestamp)})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Durumu"}),y.jsx("div",{className:"flex flex-wrap gap-2",children:["new","preparing","ready","delivered"].map(m=>{const v=t.status===m,w=l(m);return y.jsx("button",{onClick:()=>f(t.id,m),className:`px-3 py-1 rounded-full text-xs font-semibold ${v?w.color:"bg-gray-100 text-gray-800 hover:bg-gray-200"}`,children:w.label},m)})})]}),y.jsxs("div",{className:"mb-6",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Öğeleri"}),y.jsx("div",{className:"border-t border-b border-gray-200 py-2 divide-y divide-gray-200",children:t.items.map(m=>y.jsxs("div",{className:"py-2 flex justify-between",children:[y.jsx("div",{children:y.jsxs("span",{className:"text-gray-800",children:[m.quantity," x ",m.name]})}),y.jsxs("span",{className:"text-gray-800 font-medium",children:[m.price*m.quantity," ₺"]})]},m.id))})]}),y.jsxs("div",{className:"flex justify-between items-center text-lg font-bold mb-4",children:[y.jsx("span",{children:"Toplam:"}),y.jsxs("span",{children:[t.totalPrice," ₺"]})]}),t.orderNote&&y.jsxs("div",{className:"mb-4",children:[y.jsx("h3",{className:"text-md font-medium text-gray-700 mb-2",children:"Sipariş Notu"}),y.jsx("p",{className:"text-gray-600 bg-gray-50 p-3 rounded-md",children:t.orderNote})]})]}):y.jsx("div",{className:"bg-white rounded-lg shadow-md p-6 text-center",children:y.jsx("p",{className:"text-gray-500",children:"Detayları görüntülemek için bir sipariş seçin."})})})]})]})};var iL=Object.defineProperty,Md=Object.getOwnPropertySymbols,iS=Object.prototype.hasOwnProperty,sS=Object.prototype.propertyIsEnumerable,C_=(n,e,t)=>e in n?iL(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,fm=(n,e)=>{for(var t in e||(e={}))iS.call(e,t)&&C_(n,t,e[t]);if(Md)for(var t of Md(e))sS.call(e,t)&&C_(n,t,e[t]);return n},hm=(n,e)=>{var t={};for(var r in n)iS.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&Md)for(var r of Md(n))e.indexOf(r)<0&&sS.call(n,r)&&(t[r]=n[r]);return t};/**
 * @license QR Code generator library (TypeScript)
 * Copyright (c) Project Nayuki.
 * SPDX-License-Identifier: MIT
 */var Qs;(n=>{const e=class Be{constructor(f,h,m,v){if(this.version=f,this.errorCorrectionLevel=h,this.modules=[],this.isFunction=[],f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version value out of range");if(v<-1||v>7)throw new RangeError("Mask value out of range");this.size=f*4+17;let w=[];for(let C=0;C<this.size;C++)w.push(!1);for(let C=0;C<this.size;C++)this.modules.push(w.slice()),this.isFunction.push(w.slice());this.drawFunctionPatterns();const T=this.addEccAndInterleave(m);if(this.drawCodewords(T),v==-1){let C=1e9;for(let I=0;I<8;I++){this.applyMask(I),this.drawFormatBits(I);const b=this.getPenaltyScore();b<C&&(v=I,C=b),this.applyMask(I)}}s(0<=v&&v<=7),this.mask=v,this.applyMask(v),this.drawFormatBits(v),this.isFunction=[]}static encodeText(f,h){const m=n.QrSegment.makeSegments(f);return Be.encodeSegments(m,h)}static encodeBinary(f,h){const m=n.QrSegment.makeBytes(f);return Be.encodeSegments([m],h)}static encodeSegments(f,h,m=1,v=40,w=-1,T=!0){if(!(Be.MIN_VERSION<=m&&m<=v&&v<=Be.MAX_VERSION)||w<-1||w>7)throw new RangeError("Invalid value");let C,I;for(C=m;;C++){const j=Be.getNumDataCodewords(C,h)*8,z=l.getTotalBits(f,C);if(z<=j){I=z;break}if(C>=v)throw new RangeError("Data too long")}for(const j of[Be.Ecc.MEDIUM,Be.Ecc.QUARTILE,Be.Ecc.HIGH])T&&I<=Be.getNumDataCodewords(C,j)*8&&(h=j);let b=[];for(const j of f){t(j.mode.modeBits,4,b),t(j.numChars,j.mode.numCharCountBits(C),b);for(const z of j.getData())b.push(z)}s(b.length==I);const R=Be.getNumDataCodewords(C,h)*8;s(b.length<=R),t(0,Math.min(4,R-b.length),b),t(0,(8-b.length%8)%8,b),s(b.length%8==0);for(let j=236;b.length<R;j^=253)t(j,8,b);let D=[];for(;D.length*8<b.length;)D.push(0);return b.forEach((j,z)=>D[z>>>3]|=j<<7-(z&7)),new Be(C,h,D,w)}getModule(f,h){return 0<=f&&f<this.size&&0<=h&&h<this.size&&this.modules[h][f]}getModules(){return this.modules}drawFunctionPatterns(){for(let m=0;m<this.size;m++)this.setFunctionModule(6,m,m%2==0),this.setFunctionModule(m,6,m%2==0);this.drawFinderPattern(3,3),this.drawFinderPattern(this.size-4,3),this.drawFinderPattern(3,this.size-4);const f=this.getAlignmentPatternPositions(),h=f.length;for(let m=0;m<h;m++)for(let v=0;v<h;v++)m==0&&v==0||m==0&&v==h-1||m==h-1&&v==0||this.drawAlignmentPattern(f[m],f[v]);this.drawFormatBits(0),this.drawVersion()}drawFormatBits(f){const h=this.errorCorrectionLevel.formatBits<<3|f;let m=h;for(let w=0;w<10;w++)m=m<<1^(m>>>9)*1335;const v=(h<<10|m)^21522;s(v>>>15==0);for(let w=0;w<=5;w++)this.setFunctionModule(8,w,r(v,w));this.setFunctionModule(8,7,r(v,6)),this.setFunctionModule(8,8,r(v,7)),this.setFunctionModule(7,8,r(v,8));for(let w=9;w<15;w++)this.setFunctionModule(14-w,8,r(v,w));for(let w=0;w<8;w++)this.setFunctionModule(this.size-1-w,8,r(v,w));for(let w=8;w<15;w++)this.setFunctionModule(8,this.size-15+w,r(v,w));this.setFunctionModule(8,this.size-8,!0)}drawVersion(){if(this.version<7)return;let f=this.version;for(let m=0;m<12;m++)f=f<<1^(f>>>11)*7973;const h=this.version<<12|f;s(h>>>18==0);for(let m=0;m<18;m++){const v=r(h,m),w=this.size-11+m%3,T=Math.floor(m/3);this.setFunctionModule(w,T,v),this.setFunctionModule(T,w,v)}}drawFinderPattern(f,h){for(let m=-4;m<=4;m++)for(let v=-4;v<=4;v++){const w=Math.max(Math.abs(v),Math.abs(m)),T=f+v,C=h+m;0<=T&&T<this.size&&0<=C&&C<this.size&&this.setFunctionModule(T,C,w!=2&&w!=4)}}drawAlignmentPattern(f,h){for(let m=-2;m<=2;m++)for(let v=-2;v<=2;v++)this.setFunctionModule(f+v,h+m,Math.max(Math.abs(v),Math.abs(m))!=1)}setFunctionModule(f,h,m){this.modules[h][f]=m,this.isFunction[h][f]=!0}addEccAndInterleave(f){const h=this.version,m=this.errorCorrectionLevel;if(f.length!=Be.getNumDataCodewords(h,m))throw new RangeError("Invalid argument");const v=Be.NUM_ERROR_CORRECTION_BLOCKS[m.ordinal][h],w=Be.ECC_CODEWORDS_PER_BLOCK[m.ordinal][h],T=Math.floor(Be.getNumRawDataModules(h)/8),C=v-T%v,I=Math.floor(T/v);let b=[];const R=Be.reedSolomonComputeDivisor(w);for(let j=0,z=0;j<v;j++){let q=f.slice(z,z+I-w+(j<C?0:1));z+=q.length;const Z=Be.reedSolomonComputeRemainder(q,R);j<C&&q.push(0),b.push(q.concat(Z))}let D=[];for(let j=0;j<b[0].length;j++)b.forEach((z,q)=>{(j!=I-w||q>=C)&&D.push(z[j])});return s(D.length==T),D}drawCodewords(f){if(f.length!=Math.floor(Be.getNumRawDataModules(this.version)/8))throw new RangeError("Invalid argument");let h=0;for(let m=this.size-1;m>=1;m-=2){m==6&&(m=5);for(let v=0;v<this.size;v++)for(let w=0;w<2;w++){const T=m-w,I=(m+1&2)==0?this.size-1-v:v;!this.isFunction[I][T]&&h<f.length*8&&(this.modules[I][T]=r(f[h>>>3],7-(h&7)),h++)}}s(h==f.length*8)}applyMask(f){if(f<0||f>7)throw new RangeError("Mask value out of range");for(let h=0;h<this.size;h++)for(let m=0;m<this.size;m++){let v;switch(f){case 0:v=(m+h)%2==0;break;case 1:v=h%2==0;break;case 2:v=m%3==0;break;case 3:v=(m+h)%3==0;break;case 4:v=(Math.floor(m/3)+Math.floor(h/2))%2==0;break;case 5:v=m*h%2+m*h%3==0;break;case 6:v=(m*h%2+m*h%3)%2==0;break;case 7:v=((m+h)%2+m*h%3)%2==0;break;default:throw new Error("Unreachable")}!this.isFunction[h][m]&&v&&(this.modules[h][m]=!this.modules[h][m])}}getPenaltyScore(){let f=0;for(let w=0;w<this.size;w++){let T=!1,C=0,I=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[w][b]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,I),T||(f+=this.finderPenaltyCountPatterns(I)*Be.PENALTY_N3),T=this.modules[w][b],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,I)*Be.PENALTY_N3}for(let w=0;w<this.size;w++){let T=!1,C=0,I=[0,0,0,0,0,0,0];for(let b=0;b<this.size;b++)this.modules[b][w]==T?(C++,C==5?f+=Be.PENALTY_N1:C>5&&f++):(this.finderPenaltyAddHistory(C,I),T||(f+=this.finderPenaltyCountPatterns(I)*Be.PENALTY_N3),T=this.modules[b][w],C=1);f+=this.finderPenaltyTerminateAndCount(T,C,I)*Be.PENALTY_N3}for(let w=0;w<this.size-1;w++)for(let T=0;T<this.size-1;T++){const C=this.modules[w][T];C==this.modules[w][T+1]&&C==this.modules[w+1][T]&&C==this.modules[w+1][T+1]&&(f+=Be.PENALTY_N2)}let h=0;for(const w of this.modules)h=w.reduce((T,C)=>T+(C?1:0),h);const m=this.size*this.size,v=Math.ceil(Math.abs(h*20-m*10)/m)-1;return s(0<=v&&v<=9),f+=v*Be.PENALTY_N4,s(0<=f&&f<=2568888),f}getAlignmentPatternPositions(){if(this.version==1)return[];{const f=Math.floor(this.version/7)+2,h=this.version==32?26:Math.ceil((this.version*4+4)/(f*2-2))*2;let m=[6];for(let v=this.size-7;m.length<f;v-=h)m.splice(1,0,v);return m}}static getNumRawDataModules(f){if(f<Be.MIN_VERSION||f>Be.MAX_VERSION)throw new RangeError("Version number out of range");let h=(16*f+128)*f+64;if(f>=2){const m=Math.floor(f/7)+2;h-=(25*m-10)*m-55,f>=7&&(h-=36)}return s(208<=h&&h<=29648),h}static getNumDataCodewords(f,h){return Math.floor(Be.getNumRawDataModules(f)/8)-Be.ECC_CODEWORDS_PER_BLOCK[h.ordinal][f]*Be.NUM_ERROR_CORRECTION_BLOCKS[h.ordinal][f]}static reedSolomonComputeDivisor(f){if(f<1||f>255)throw new RangeError("Degree out of range");let h=[];for(let v=0;v<f-1;v++)h.push(0);h.push(1);let m=1;for(let v=0;v<f;v++){for(let w=0;w<h.length;w++)h[w]=Be.reedSolomonMultiply(h[w],m),w+1<h.length&&(h[w]^=h[w+1]);m=Be.reedSolomonMultiply(m,2)}return h}static reedSolomonComputeRemainder(f,h){let m=h.map(v=>0);for(const v of f){const w=v^m.shift();m.push(0),h.forEach((T,C)=>m[C]^=Be.reedSolomonMultiply(T,w))}return m}static reedSolomonMultiply(f,h){if(f>>>8||h>>>8)throw new RangeError("Byte out of range");let m=0;for(let v=7;v>=0;v--)m=m<<1^(m>>>7)*285,m^=(h>>>v&1)*f;return s(m>>>8==0),m}finderPenaltyCountPatterns(f){const h=f[1];s(h<=this.size*3);const m=h>0&&f[2]==h&&f[3]==h*3&&f[4]==h&&f[5]==h;return(m&&f[0]>=h*4&&f[6]>=h?1:0)+(m&&f[6]>=h*4&&f[0]>=h?1:0)}finderPenaltyTerminateAndCount(f,h,m){return f&&(this.finderPenaltyAddHistory(h,m),h=0),h+=this.size,this.finderPenaltyAddHistory(h,m),this.finderPenaltyCountPatterns(m)}finderPenaltyAddHistory(f,h){h[0]==0&&(f+=this.size),h.pop(),h.unshift(f)}};e.MIN_VERSION=1,e.MAX_VERSION=40,e.PENALTY_N1=3,e.PENALTY_N2=3,e.PENALTY_N3=40,e.PENALTY_N4=10,e.ECC_CODEWORDS_PER_BLOCK=[[-1,7,10,15,20,26,18,20,24,30,18,20,24,26,30,22,24,28,30,28,28,28,28,30,30,26,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,10,16,26,18,24,16,18,22,22,26,30,22,22,24,24,28,28,26,26,26,26,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28,28],[-1,13,22,18,26,18,24,18,22,20,24,28,26,24,20,30,24,28,28,26,30,28,30,30,30,30,28,30,30,30,30,30,30,30,30,30,30,30,30,30,30],[-1,17,28,22,16,22,28,26,26,24,28,24,28,22,24,24,30,28,28,26,28,30,24,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30,30]],e.NUM_ERROR_CORRECTION_BLOCKS=[[-1,1,1,1,1,1,2,2,2,2,4,4,4,4,4,6,6,6,6,7,8,8,9,9,10,12,12,12,13,14,15,16,17,18,19,19,20,21,22,24,25],[-1,1,1,1,2,2,4,4,4,5,5,5,8,9,9,10,10,11,13,14,16,17,17,18,20,21,23,25,26,28,29,31,33,35,37,38,40,43,45,47,49],[-1,1,1,2,2,4,4,6,6,8,8,8,10,12,16,12,17,16,18,21,20,23,23,25,27,29,34,34,35,38,40,43,45,48,51,53,56,59,62,65,68],[-1,1,1,2,4,4,4,5,6,8,8,11,11,16,16,18,16,19,21,25,25,25,34,30,32,35,37,40,42,45,48,51,54,57,60,63,66,70,74,77,81]],n.QrCode=e;function t(c,f,h){if(f<0||f>31||c>>>f)throw new RangeError("Value out of range");for(let m=f-1;m>=0;m--)h.push(c>>>m&1)}function r(c,f){return(c>>>f&1)!=0}function s(c){if(!c)throw new Error("Assertion error")}const a=class wt{constructor(f,h,m){if(this.mode=f,this.numChars=h,this.bitData=m,h<0)throw new RangeError("Invalid argument");this.bitData=m.slice()}static makeBytes(f){let h=[];for(const m of f)t(m,8,h);return new wt(wt.Mode.BYTE,f.length,h)}static makeNumeric(f){if(!wt.isNumeric(f))throw new RangeError("String contains non-numeric characters");let h=[];for(let m=0;m<f.length;){const v=Math.min(f.length-m,3);t(parseInt(f.substring(m,m+v),10),v*3+1,h),m+=v}return new wt(wt.Mode.NUMERIC,f.length,h)}static makeAlphanumeric(f){if(!wt.isAlphanumeric(f))throw new RangeError("String contains unencodable characters in alphanumeric mode");let h=[],m;for(m=0;m+2<=f.length;m+=2){let v=wt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m))*45;v+=wt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m+1)),t(v,11,h)}return m<f.length&&t(wt.ALPHANUMERIC_CHARSET.indexOf(f.charAt(m)),6,h),new wt(wt.Mode.ALPHANUMERIC,f.length,h)}static makeSegments(f){return f==""?[]:wt.isNumeric(f)?[wt.makeNumeric(f)]:wt.isAlphanumeric(f)?[wt.makeAlphanumeric(f)]:[wt.makeBytes(wt.toUtf8ByteArray(f))]}static makeEci(f){let h=[];if(f<0)throw new RangeError("ECI assignment value out of range");if(f<128)t(f,8,h);else if(f<16384)t(2,2,h),t(f,14,h);else if(f<1e6)t(6,3,h),t(f,21,h);else throw new RangeError("ECI assignment value out of range");return new wt(wt.Mode.ECI,0,h)}static isNumeric(f){return wt.NUMERIC_REGEX.test(f)}static isAlphanumeric(f){return wt.ALPHANUMERIC_REGEX.test(f)}getData(){return this.bitData.slice()}static getTotalBits(f,h){let m=0;for(const v of f){const w=v.mode.numCharCountBits(h);if(v.numChars>=1<<w)return 1/0;m+=4+w+v.bitData.length}return m}static toUtf8ByteArray(f){f=encodeURI(f);let h=[];for(let m=0;m<f.length;m++)f.charAt(m)!="%"?h.push(f.charCodeAt(m)):(h.push(parseInt(f.substring(m+1,m+3),16)),m+=2);return h}};a.NUMERIC_REGEX=/^[0-9]*$/,a.ALPHANUMERIC_REGEX=/^[A-Z0-9 $%*+.\/:-]*$/,a.ALPHANUMERIC_CHARSET="0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ $%*+-./:";let l=a;n.QrSegment=a})(Qs||(Qs={}));(n=>{(e=>{const t=class{constructor(s,a){this.ordinal=s,this.formatBits=a}};t.LOW=new t(0,1),t.MEDIUM=new t(1,0),t.QUARTILE=new t(2,3),t.HIGH=new t(3,2),e.Ecc=t})(n.QrCode||(n.QrCode={}))})(Qs||(Qs={}));(n=>{(e=>{const t=class{constructor(s,a){this.modeBits=s,this.numBitsCharCount=a}numCharCountBits(s){return this.numBitsCharCount[Math.floor((s+7)/17)]}};t.NUMERIC=new t(1,[10,12,14]),t.ALPHANUMERIC=new t(2,[9,11,13]),t.BYTE=new t(4,[8,16,16]),t.KANJI=new t(8,[8,10,12]),t.ECI=new t(7,[0,0,0]),e.Mode=t})(n.QrSegment||(n.QrSegment={}))})(Qs||(Qs={}));var ea=Qs;/**
 * @license qrcode.react
 * Copyright (c) Paul O'Shannessy
 * SPDX-License-Identifier: ISC
 */var sL={L:ea.QrCode.Ecc.LOW,M:ea.QrCode.Ecc.MEDIUM,Q:ea.QrCode.Ecc.QUARTILE,H:ea.QrCode.Ecc.HIGH},oS=128,aS="L",lS="#FFFFFF",uS="#000000",cS=!1,dS=1,oL=4,aL=0,lL=.1;function fS(n,e=0){const t=[];return n.forEach(function(r,s){let a=null;r.forEach(function(l,c){if(!l&&a!==null){t.push(`M${a+e} ${s+e}h${c-a}v1H${a+e}z`),a=null;return}if(c===r.length-1){if(!l)return;a===null?t.push(`M${c+e},${s+e} h1v1H${c+e}z`):t.push(`M${a+e},${s+e} h${c+1-a}v1H${a+e}z`);return}l&&a===null&&(a=c)})}),t.join("")}function hS(n,e){return n.slice().map((t,r)=>r<e.y||r>=e.y+e.h?t:t.map((s,a)=>a<e.x||a>=e.x+e.w?s:!1))}function uL(n,e,t,r){if(r==null)return null;const s=n.length+t*2,a=Math.floor(e*lL),l=s/e,c=(r.width||a)*l,f=(r.height||a)*l,h=r.x==null?n.length/2-c/2:r.x*l,m=r.y==null?n.length/2-f/2:r.y*l,v=r.opacity==null?1:r.opacity;let w=null;if(r.excavate){let C=Math.floor(h),I=Math.floor(m),b=Math.ceil(c+h-C),R=Math.ceil(f+m-I);w={x:C,y:I,w:b,h:R}}const T=r.crossOrigin;return{x:h,y:m,h:f,w:c,excavation:w,opacity:v,crossOrigin:T}}function cL(n,e){return e!=null?Math.max(Math.floor(e),0):n?oL:aL}function pS({value:n,level:e,minVersion:t,includeMargin:r,marginSize:s,imageSettings:a,size:l,boostLevel:c}){let f=nt.useMemo(()=>{const C=(Array.isArray(n)?n:[n]).reduce((I,b)=>(I.push(...ea.QrSegment.makeSegments(b)),I),[]);return ea.QrCode.encodeSegments(C,sL[e],t,void 0,void 0,c)},[n,e,t,c]);const{cells:h,margin:m,numCells:v,calculatedImageSettings:w}=nt.useMemo(()=>{let T=f.getModules();const C=cL(r,s),I=T.length+C*2,b=uL(T,l,C,a);return{cells:T,margin:C,numCells:I,calculatedImageSettings:b}},[f,l,a,r,s]);return{qrcode:f,margin:m,cells:h,numCells:v,calculatedImageSettings:w}}var dL=function(){try{new Path2D().addPath(new Path2D)}catch{return!1}return!0}(),fL=nt.forwardRef(function(e,t){const r=e,{value:s,size:a=oS,level:l=aS,bgColor:c=lS,fgColor:f=uS,includeMargin:h=cS,minVersion:m=dS,boostLevel:v,marginSize:w,imageSettings:T}=r,I=hm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","marginSize","imageSettings"]),{style:b}=I,R=hm(I,["style"]),D=T==null?void 0:T.src,j=nt.useRef(null),z=nt.useRef(null),q=nt.useCallback(ee=>{j.current=ee,typeof t=="function"?t(ee):t&&(t.current=ee)},[t]),[Z,L]=nt.useState(!1),{margin:N,cells:M,numCells:V,calculatedImageSettings:F}=pS({value:s,level:l,minVersion:m,boostLevel:v,includeMargin:h,marginSize:w,imageSettings:T,size:a});nt.useEffect(()=>{if(j.current!=null){const ee=j.current,ie=ee.getContext("2d");if(!ie)return;let ce=M;const de=z.current,Q=F!=null&&de!==null&&de.complete&&de.naturalHeight!==0&&de.naturalWidth!==0;Q&&F.excavation!=null&&(ce=hS(M,F.excavation));const te=window.devicePixelRatio||1;ee.height=ee.width=a*te;const le=a/V*te;ie.scale(le,le),ie.fillStyle=c,ie.fillRect(0,0,V,V),ie.fillStyle=f,dL?ie.fill(new Path2D(fS(ce,N))):M.forEach(function(U,J){U.forEach(function(pe,Ce){pe&&ie.fillRect(Ce+N,J+N,1,1)})}),F&&(ie.globalAlpha=F.opacity),Q&&ie.drawImage(de,F.x+N,F.y+N,F.w,F.h)}}),nt.useEffect(()=>{L(!1)},[D]);const P=fm({height:a,width:a},b);let O=null;return D!=null&&(O=nt.createElement("img",{src:D,key:D,style:{display:"none"},onLoad:()=>{L(!0)},ref:z,crossOrigin:F==null?void 0:F.crossOrigin})),nt.createElement(nt.Fragment,null,nt.createElement("canvas",fm({style:P,height:a,width:a,ref:q,role:"img"},R)),O)});fL.displayName="QRCodeCanvas";var mS=nt.forwardRef(function(e,t){const r=e,{value:s,size:a=oS,level:l=aS,bgColor:c=lS,fgColor:f=uS,includeMargin:h=cS,minVersion:m=dS,boostLevel:v,title:w,marginSize:T,imageSettings:C}=r,I=hm(r,["value","size","level","bgColor","fgColor","includeMargin","minVersion","boostLevel","title","marginSize","imageSettings"]),{margin:b,cells:R,numCells:D,calculatedImageSettings:j}=pS({value:s,level:l,minVersion:m,boostLevel:v,includeMargin:h,marginSize:T,imageSettings:C,size:a});let z=R,q=null;C!=null&&j!=null&&(j.excavation!=null&&(z=hS(R,j.excavation)),q=nt.createElement("image",{href:C.src,height:j.h,width:j.w,x:j.x+b,y:j.y+b,preserveAspectRatio:"none",opacity:j.opacity,crossOrigin:j.crossOrigin}));const Z=fS(z,b);return nt.createElement("svg",fm({height:a,width:a,viewBox:`0 0 ${D} ${D}`,ref:t,role:"img"},I),!!w&&nt.createElement("title",null,w),nt.createElement("path",{fill:c,d:`M0,0 h${D}v${D}H0z`,shapeRendering:"crispEdges"}),nt.createElement("path",{fill:f,d:Z,shapeRendering:"crispEdges"}),q)});mS.displayName="QRCodeSVG";const hL=()=>{const n=cu(),e=window.location.origin;return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6 text-center",children:"Masa QR Kodları"}),y.jsx("p",{className:"text-gray-600 mb-8 text-center",children:"Her masa için QR kodları aşağıda listelenmiştir. Bu kodları yazdırıp masalara yerleştirebilirsiniz."}),y.jsx("div",{className:"grid grid-cols-1 sm:grid-cols-2 lg:grid-cols-3 gap-6",children:fk.map(t=>y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-6 flex flex-col items-center",children:[y.jsx("h2",{className:"text-xl font-semibold text-gray-800 mb-4",children:t.name}),y.jsx("div",{className:"bg-white p-4 rounded-lg shadow-sm mb-4",children:y.jsx(mS,{value:`${e}/menu/${t.qrCode}`,size:180,bgColor:"#ffffff",fgColor:"#000000",level:"H",includeMargin:!0})}),y.jsxs("p",{className:"text-sm text-gray-600 mb-4",children:["URL: ",`${e}/menu/${t.qrCode}`]}),y.jsx("button",{onClick:()=>n(`/menu/${t.qrCode}`),className:"bg-amber-500 hover:bg-amber-600 text-white py-2 px-4 rounded-md transition-colors",children:"Menüyü Görüntüle"})]},t.id))})]})},Ml=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("rounded-xl border border-zinc-200 bg-white text-zinc-950 shadow dark:border-zinc-800 dark:bg-zinc-950 dark:text-zinc-50",n),...e}));Ml.displayName="Card";const Ol=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("flex flex-col space-y-1.5 p-6",n),...e}));Ol.displayName="CardHeader";const Ll=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("font-semibold leading-none tracking-tight",n),...e}));Ll.displayName="CardTitle";const jl=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));jl.displayName="CardDescription";const Vl=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("p-6 pt-0",n),...e}));Vl.displayName="CardContent";const pL=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{ref:t,className:be("flex items-center p-6 pt-0",n),...e}));pL.displayName="CardFooter";const ey=Zg("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium transition-colors focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0 dark:focus-visible:ring-zinc-300",{variants:{variant:{default:"bg-zinc-900 text-zinc-50 shadow hover:bg-zinc-900/90 dark:bg-zinc-50 dark:text-zinc-900 dark:hover:bg-zinc-50/90",destructive:"bg-red-500 text-zinc-50 shadow-sm hover:bg-red-500/90 dark:bg-red-900 dark:text-zinc-50 dark:hover:bg-red-900/90",outline:"border border-zinc-200 bg-white shadow-sm hover:bg-zinc-100 hover:text-zinc-900 dark:border-zinc-800 dark:bg-zinc-950 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",secondary:"bg-zinc-100 text-zinc-900 shadow-sm hover:bg-zinc-100/80 dark:bg-zinc-800 dark:text-zinc-50 dark:hover:bg-zinc-800/80",ghost:"hover:bg-zinc-100 hover:text-zinc-900 dark:hover:bg-zinc-800 dark:hover:text-zinc-50",link:"text-zinc-900 underline-offset-4 hover:underline dark:text-zinc-50"},size:{default:"h-9 px-4 py-2",sm:"h-8 rounded-md px-3 text-xs",lg:"h-10 rounded-md px-8",icon:"h-9 w-9"}},defaultVariants:{variant:"default",size:"default"}}),si=E.forwardRef(({className:n,variant:e,size:t,asChild:r=!1,...s},a)=>{const l=r?Dk:"button";return y.jsx(l,{className:be(ey({variant:e,size:t,className:n})),ref:a,...s})});si.displayName="Button";var mf="Dialog",[gS,yS]=us(mf),[mL,mr]=gS(mf),vS=n=>{const{__scopeDialog:e,children:t,open:r,defaultOpen:s,onOpenChange:a,modal:l=!0}=n,c=E.useRef(null),f=E.useRef(null),[h,m]=ga({prop:r,defaultProp:s??!1,onChange:a,caller:mf});return y.jsx(mL,{scope:e,triggerRef:c,contentRef:f,contentId:Yi(),titleId:Yi(),descriptionId:Yi(),open:h,onOpenChange:m,onOpenToggle:E.useCallback(()=>m(v=>!v),[m]),modal:l,children:t})};vS.displayName=mf;var wS="DialogTrigger",_S=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=mr(wS,t),a=st(e,s.triggerRef);return y.jsx(Fe.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":ry(s.open),...r,ref:a,onClick:Me(n.onClick,s.onOpenToggle)})});_S.displayName=wS;var ty="DialogPortal",[gL,xS]=gS(ty,{forceMount:void 0}),ES=n=>{const{__scopeDialog:e,forceMount:t,children:r,container:s}=n,a=mr(ty,e);return y.jsx(gL,{scope:e,forceMount:t,children:E.Children.map(r,l=>y.jsx(Na,{present:t||a.open,children:y.jsx(uf,{asChild:!0,container:s,children:l})}))})};ES.displayName=ty;var Od="DialogOverlay",CS=E.forwardRef((n,e)=>{const t=xS(Od,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=mr(Od,n.__scopeDialog);return a.modal?y.jsx(Na,{present:r||a.open,children:y.jsx(vL,{...s,ref:e})}):null});CS.displayName=Od;var yL=pa("DialogOverlay.RemoveScroll"),vL=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=mr(Od,t);return y.jsx(Kg,{as:yL,allowPinchZoom:!0,shards:[s.contentRef],children:y.jsx(Fe.div,{"data-state":ry(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ys="DialogContent",SS=E.forwardRef((n,e)=>{const t=xS(Ys,n.__scopeDialog),{forceMount:r=t.forceMount,...s}=n,a=mr(Ys,n.__scopeDialog);return y.jsx(Na,{present:r||a.open,children:a.modal?y.jsx(wL,{...s,ref:e}):y.jsx(_L,{...s,ref:e})})});SS.displayName=Ys;var wL=E.forwardRef((n,e)=>{const t=mr(Ys,n.__scopeDialog),r=E.useRef(null),s=st(e,t.contentRef,r);return E.useEffect(()=>{const a=r.current;if(a)return DC(a)},[]),y.jsx(TS,{...n,ref:s,trapFocus:t.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:Me(n.onCloseAutoFocus,a=>{var l;a.preventDefault(),(l=t.triggerRef.current)==null||l.focus()}),onPointerDownOutside:Me(n.onPointerDownOutside,a=>{const l=a.detail.originalEvent,c=l.button===0&&l.ctrlKey===!0;(l.button===2||c)&&a.preventDefault()}),onFocusOutside:Me(n.onFocusOutside,a=>a.preventDefault())})}),_L=E.forwardRef((n,e)=>{const t=mr(Ys,n.__scopeDialog),r=E.useRef(!1),s=E.useRef(!1);return y.jsx(TS,{...n,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:a=>{var l,c;(l=n.onCloseAutoFocus)==null||l.call(n,a),a.defaultPrevented||(r.current||(c=t.triggerRef.current)==null||c.focus(),a.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:a=>{var f,h;(f=n.onInteractOutside)==null||f.call(n,a),a.defaultPrevented||(r.current=!0,a.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const l=a.target;((h=t.triggerRef.current)==null?void 0:h.contains(l))&&a.preventDefault(),a.detail.originalEvent.type==="focusin"&&s.current&&a.preventDefault()}})}),TS=E.forwardRef((n,e)=>{const{__scopeDialog:t,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:a,...l}=n,c=mr(Ys,t),f=E.useRef(null),h=st(e,f);return lC(),y.jsxs(y.Fragment,{children:[y.jsx(Og,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:a,children:y.jsx(sf,{role:"dialog",id:c.contentId,"aria-describedby":c.descriptionId,"aria-labelledby":c.titleId,"data-state":ry(c.open),...l,ref:h,onDismiss:()=>c.onOpenChange(!1)})}),y.jsxs(y.Fragment,{children:[y.jsx(EL,{titleId:c.titleId}),y.jsx(SL,{contentRef:f,descriptionId:c.descriptionId})]})]})}),ny="DialogTitle",IS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=mr(ny,t);return y.jsx(Fe.h2,{id:s.titleId,...r,ref:e})});IS.displayName=ny;var bS="DialogDescription",RS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=mr(bS,t);return y.jsx(Fe.p,{id:s.descriptionId,...r,ref:e})});RS.displayName=bS;var AS="DialogClose",NS=E.forwardRef((n,e)=>{const{__scopeDialog:t,...r}=n,s=mr(AS,t);return y.jsx(Fe.button,{type:"button",...r,ref:e,onClick:Me(n.onClick,()=>s.onOpenChange(!1))})});NS.displayName=AS;function ry(n){return n?"open":"closed"}var PS="DialogTitleWarning",[xL,kS]=Pk(PS,{contentName:Ys,titleName:ny,docsSlug:"dialog"}),EL=({titleId:n})=>{const e=kS(PS),t=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return E.useEffect(()=>{n&&(document.getElementById(n)||console.error(t))},[t,n]),null},CL="DialogDescriptionWarning",SL=({contentRef:n,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${kS(CL).contentName}}.`;return E.useEffect(()=>{var a;const s=(a=n.current)==null?void 0:a.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,n,e]),null},DS=vS,MS=_S,OS=ES,iy=CS,sy=SS,oy=IS,ay=RS,ly=NS;const S_=DS,T_=MS,TL=OS,LS=E.forwardRef(({className:n,...e},t)=>y.jsx(iy,{ref:t,className:be("fixed inset-0 z-50 bg-black/80  data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e}));LS.displayName=iy.displayName;const pm=E.forwardRef(({className:n,children:e,...t},r)=>y.jsxs(TL,{children:[y.jsx(LS,{}),y.jsxs(sy,{ref:r,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...t,children:[e,y.jsxs(ly,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-white transition-opacity hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-zinc-950 focus:ring-offset-2 disabled:pointer-events-none data-[state=open]:bg-zinc-100 data-[state=open]:text-zinc-500 dark:ring-offset-zinc-950 dark:focus:ring-zinc-300 dark:data-[state=open]:bg-zinc-800 dark:data-[state=open]:text-zinc-400",children:[y.jsx(C1,{className:"h-4 w-4"}),y.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));pm.displayName=sy.displayName;const mm=({className:n,...e})=>y.jsx("div",{className:be("flex flex-col space-y-1.5 text-center sm:text-left",n),...e});mm.displayName="DialogHeader";const gm=({className:n,...e})=>y.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});gm.displayName="DialogFooter";const ym=E.forwardRef(({className:n,...e},t)=>y.jsx(oy,{ref:t,className:be("text-lg font-semibold leading-none tracking-tight",n),...e}));ym.displayName=oy.displayName;const vm=E.forwardRef(({className:n,...e},t)=>y.jsx(ay,{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));vm.displayName=ay.displayName;const ut=E.forwardRef(({className:n,type:e,...t},r)=>y.jsx("input",{type:e,className:be("flex h-9 w-full rounded-md border border-zinc-200 bg-transparent px-3 py-1 text-base shadow-sm transition-colors file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-zinc-950 placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:file:text-zinc-50 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:r,...t}));ut.displayName="Input";var IL="Label",jS=E.forwardRef((n,e)=>y.jsx(Fe.label,{...n,ref:e,onMouseDown:t=>{var s;t.target.closest("button, input, select, textarea")||((s=n.onMouseDown)==null||s.call(n,t),!t.defaultPrevented&&t.detail>1&&t.preventDefault())}}));jS.displayName=IL;var VS=jS;const bL=Zg("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),He=E.forwardRef(({className:n,...e},t)=>y.jsx(VS,{ref:t,className:be(bL(),n),...e}));He.displayName=VS.displayName;const wm=E.forwardRef(({className:n,...e},t)=>y.jsx("div",{className:"relative w-full overflow-auto",children:y.jsx("table",{ref:t,className:be("w-full caption-bottom text-sm",n),...e})}));wm.displayName="Table";const _m=E.forwardRef(({className:n,...e},t)=>y.jsx("thead",{ref:t,className:be("[&_tr]:border-b",n),...e}));_m.displayName="TableHeader";const xm=E.forwardRef(({className:n,...e},t)=>y.jsx("tbody",{ref:t,className:be("[&_tr:last-child]:border-0",n),...e}));xm.displayName="TableBody";const RL=E.forwardRef(({className:n,...e},t)=>y.jsx("tfoot",{ref:t,className:be("border-t bg-zinc-100/50 font-medium [&>tr]:last:border-b-0 dark:bg-zinc-800/50",n),...e}));RL.displayName="TableFooter";const Fl=E.forwardRef(({className:n,...e},t)=>y.jsx("tr",{ref:t,className:be("border-b transition-colors hover:bg-zinc-100/50 data-[state=selected]:bg-zinc-100 dark:hover:bg-zinc-800/50 dark:data-[state=selected]:bg-zinc-800",n),...e}));Fl.displayName="TableRow";const zi=E.forwardRef(({className:n,...e},t)=>y.jsx("th",{ref:t,className:be("h-10 px-2 text-left align-middle font-medium text-zinc-500 [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px] dark:text-zinc-400",n),...e}));zi.displayName="TableHead";const Ui=E.forwardRef(({className:n,...e},t)=>y.jsx("td",{ref:t,className:be("p-2 align-middle [&:has([role=checkbox])]:pr-0 [&>[role=checkbox]]:translate-y-[2px]",n),...e}));Ui.displayName="TableCell";const AL=E.forwardRef(({className:n,...e},t)=>y.jsx("caption",{ref:t,className:be("mt-4 text-sm text-zinc-500 dark:text-zinc-400",n),...e}));AL.displayName="TableCaption";var vp="rovingFocusGroup.onEntryFocus",NL={bubbles:!1,cancelable:!0},wu="RovingFocusGroup",[Em,FS,PL]=Dg(wu),[kL,$S]=us(wu,[PL]),[DL,ML]=kL(wu),zS=E.forwardRef((n,e)=>y.jsx(Em.Provider,{scope:n.__scopeRovingFocusGroup,children:y.jsx(Em.Slot,{scope:n.__scopeRovingFocusGroup,children:y.jsx(OL,{...n,ref:e})})}));zS.displayName=wu;var OL=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,orientation:r,loop:s=!1,dir:a,currentTabStopId:l,defaultCurrentTabStopId:c,onCurrentTabStopIdChange:f,onEntryFocus:h,preventScrollOnEntryFocus:m=!1,...v}=n,w=E.useRef(null),T=st(e,w),C=Mg(a),[I,b]=ga({prop:l,defaultProp:c??null,onChange:f,caller:wu}),[R,D]=E.useState(!1),j=zn(h),z=FS(t),q=E.useRef(!1),[Z,L]=E.useState(0);return E.useEffect(()=>{const N=w.current;if(N)return N.addEventListener(vp,j),()=>N.removeEventListener(vp,j)},[j]),y.jsx(DL,{scope:t,orientation:r,dir:C,loop:s,currentTabStopId:I,onItemFocus:E.useCallback(N=>b(N),[b]),onItemShiftTab:E.useCallback(()=>D(!0),[]),onFocusableItemAdd:E.useCallback(()=>L(N=>N+1),[]),onFocusableItemRemove:E.useCallback(()=>L(N=>N-1),[]),children:y.jsx(Fe.div,{tabIndex:R||Z===0?-1:0,"data-orientation":r,...v,ref:T,style:{outline:"none",...n.style},onMouseDown:Me(n.onMouseDown,()=>{q.current=!0}),onFocus:Me(n.onFocus,N=>{const M=!q.current;if(N.target===N.currentTarget&&M&&!R){const V=new CustomEvent(vp,NL);if(N.currentTarget.dispatchEvent(V),!V.defaultPrevented){const F=z().filter(ce=>ce.focusable),P=F.find(ce=>ce.active),O=F.find(ce=>ce.id===I),ie=[P,O,...F].filter(Boolean).map(ce=>ce.ref.current);HS(ie,m)}}q.current=!1}),onBlur:Me(n.onBlur,()=>D(!1))})})}),US="RovingFocusGroupItem",BS=E.forwardRef((n,e)=>{const{__scopeRovingFocusGroup:t,focusable:r=!0,active:s=!1,tabStopId:a,children:l,...c}=n,f=Yi(),h=a||f,m=ML(US,t),v=m.currentTabStopId===h,w=FS(t),{onFocusableItemAdd:T,onFocusableItemRemove:C,currentTabStopId:I}=m;return E.useEffect(()=>{if(r)return T(),()=>C()},[r,T,C]),y.jsx(Em.ItemSlot,{scope:t,id:h,focusable:r,active:s,children:y.jsx(Fe.span,{tabIndex:v?0:-1,"data-orientation":m.orientation,...c,ref:e,onMouseDown:Me(n.onMouseDown,b=>{r?m.onItemFocus(h):b.preventDefault()}),onFocus:Me(n.onFocus,()=>m.onItemFocus(h)),onKeyDown:Me(n.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){m.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const R=VL(b,m.orientation,m.dir);if(R!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let j=w().filter(z=>z.focusable).map(z=>z.ref.current);if(R==="last")j.reverse();else if(R==="prev"||R==="next"){R==="prev"&&j.reverse();const z=j.indexOf(b.currentTarget);j=m.loop?FL(j,z+1):j.slice(z+1)}setTimeout(()=>HS(j))}}),children:typeof l=="function"?l({isCurrentTabStop:v,hasTabStop:I!=null}):l})})});BS.displayName=US;var LL={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function jL(n,e){return e!=="rtl"?n:n==="ArrowLeft"?"ArrowRight":n==="ArrowRight"?"ArrowLeft":n}function VL(n,e,t){const r=jL(n.key,t);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return LL[r]}function HS(n,e=!1){const t=document.activeElement;for(const r of n)if(r===t||(r.focus({preventScroll:e}),document.activeElement!==t))return}function FL(n,e){return n.map((t,r)=>n[(e+r)%n.length])}var $L=zS,zL=BS,gf="Tabs",[UL,o9]=us(gf,[$S]),WS=$S(),[BL,uy]=UL(gf),KS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,onValueChange:s,defaultValue:a,orientation:l="horizontal",dir:c,activationMode:f="automatic",...h}=n,m=Mg(c),[v,w]=ga({prop:r,onChange:s,defaultProp:a??"",caller:gf});return y.jsx(BL,{scope:t,baseId:Yi(),value:v,onValueChange:w,orientation:l,dir:m,activationMode:f,children:y.jsx(Fe.div,{dir:m,"data-orientation":l,...h,ref:e})})});KS.displayName=gf;var qS="TabsList",GS=E.forwardRef((n,e)=>{const{__scopeTabs:t,loop:r=!0,...s}=n,a=uy(qS,t),l=WS(t);return y.jsx($L,{asChild:!0,...l,orientation:a.orientation,dir:a.dir,loop:r,children:y.jsx(Fe.div,{role:"tablist","aria-orientation":a.orientation,...s,ref:e})})});GS.displayName=qS;var QS="TabsTrigger",YS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,disabled:s=!1,...a}=n,l=uy(QS,t),c=WS(t),f=ZS(l.baseId,r),h=eT(l.baseId,r),m=r===l.value;return y.jsx(zL,{asChild:!0,...c,focusable:!s,active:m,children:y.jsx(Fe.button,{type:"button",role:"tab","aria-selected":m,"aria-controls":h,"data-state":m?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:f,...a,ref:e,onMouseDown:Me(n.onMouseDown,v=>{!s&&v.button===0&&v.ctrlKey===!1?l.onValueChange(r):v.preventDefault()}),onKeyDown:Me(n.onKeyDown,v=>{[" ","Enter"].includes(v.key)&&l.onValueChange(r)}),onFocus:Me(n.onFocus,()=>{const v=l.activationMode!=="manual";!m&&!s&&v&&l.onValueChange(r)})})})});YS.displayName=QS;var XS="TabsContent",JS=E.forwardRef((n,e)=>{const{__scopeTabs:t,value:r,forceMount:s,children:a,...l}=n,c=uy(XS,t),f=ZS(c.baseId,r),h=eT(c.baseId,r),m=r===c.value,v=E.useRef(m);return E.useEffect(()=>{const w=requestAnimationFrame(()=>v.current=!1);return()=>cancelAnimationFrame(w)},[]),y.jsx(Na,{present:s||m,children:({present:w})=>y.jsx(Fe.div,{"data-state":m?"active":"inactive","data-orientation":c.orientation,role:"tabpanel","aria-labelledby":f,hidden:!w,id:h,tabIndex:0,...l,ref:e,style:{...n.style,animationDuration:v.current?"0s":void 0},children:w&&a})})});JS.displayName=XS;function ZS(n,e){return`${n}-trigger-${e}`}function eT(n,e){return`${n}-content-${e}`}var HL=KS,tT=GS,nT=YS,rT=JS;const WL=HL,iT=E.forwardRef(({className:n,...e},t)=>y.jsx(tT,{ref:t,className:be("inline-flex h-9 items-center justify-center rounded-lg bg-zinc-100 p-1 text-zinc-500 dark:bg-zinc-800 dark:text-zinc-400",n),...e}));iT.displayName=tT.displayName;const Cm=E.forwardRef(({className:n,...e},t)=>y.jsx(nT,{ref:t,className:be("inline-flex items-center justify-center whitespace-nowrap rounded-md px-3 py-1 text-sm font-medium ring-offset-white transition-all focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 data-[state=active]:bg-white data-[state=active]:text-zinc-950 data-[state=active]:shadow dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300 dark:data-[state=active]:bg-zinc-950 dark:data-[state=active]:text-zinc-50",n),...e}));Cm.displayName=nT.displayName;const Sm=E.forwardRef(({className:n,...e},t)=>y.jsx(rT,{ref:t,className:be("mt-2 ring-offset-white focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-zinc-950 focus-visible:ring-offset-2 dark:ring-offset-zinc-950 dark:focus-visible:ring-zinc-300",n),...e}));Sm.displayName=rT.displayName;var KL="Separator",I_="horizontal",qL=["horizontal","vertical"],sT=E.forwardRef((n,e)=>{const{decorative:t,orientation:r=I_,...s}=n,a=GL(r)?r:I_,c=t?{role:"none"}:{"aria-orientation":a==="vertical"?a:void 0,role:"separator"};return y.jsx(Fe.div,{"data-orientation":a,...c,...s,ref:e})});sT.displayName=KL;function GL(n){return qL.includes(n)}var oT=sT;const Tm=E.forwardRef(({className:n,orientation:e="horizontal",decorative:t=!0,...r},s)=>y.jsx(oT,{ref:s,decorative:t,orientation:e,className:be("shrink-0 bg-zinc-200 dark:bg-zinc-800",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",n),...r}));Tm.displayName=oT.displayName;const or=E.forwardRef(({className:n,...e},t)=>y.jsx("textarea",{className:be("flex min-h-[60px] w-full rounded-md border border-zinc-200 bg-transparent px-3 py-2 text-base shadow-sm placeholder:text-zinc-500 focus-visible:outline-none focus-visible:ring-1 focus-visible:ring-zinc-950 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm dark:border-zinc-800 dark:placeholder:text-zinc-400 dark:focus-visible:ring-zinc-300",n),ref:t,...e}));or.displayName="Textarea";var aT="AlertDialog",[QL,a9]=us(aT,[yS]),hi=yS(),lT=n=>{const{__scopeAlertDialog:e,...t}=n,r=hi(e);return y.jsx(DS,{...r,...t,modal:!0})};lT.displayName=aT;var YL="AlertDialogTrigger",uT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=hi(t);return y.jsx(MS,{...s,...r,ref:e})});uT.displayName=YL;var XL="AlertDialogPortal",cT=n=>{const{__scopeAlertDialog:e,...t}=n,r=hi(e);return y.jsx(OS,{...r,...t})};cT.displayName=XL;var JL="AlertDialogOverlay",dT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=hi(t);return y.jsx(iy,{...s,...r,ref:e})});dT.displayName=JL;var oa="AlertDialogContent",[ZL,ej]=QL(oa),tj=Ok("AlertDialogContent"),fT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,children:r,...s}=n,a=hi(t),l=E.useRef(null),c=st(e,l),f=E.useRef(null);return y.jsx(xL,{contentName:oa,titleName:hT,docsSlug:"alert-dialog",children:y.jsx(ZL,{scope:t,cancelRef:f,children:y.jsxs(sy,{role:"alertdialog",...a,...s,ref:c,onOpenAutoFocus:Me(s.onOpenAutoFocus,h=>{var m;h.preventDefault(),(m=f.current)==null||m.focus({preventScroll:!0})}),onPointerDownOutside:h=>h.preventDefault(),onInteractOutside:h=>h.preventDefault(),children:[y.jsx(tj,{children:r}),y.jsx(rj,{contentRef:l})]})})})});fT.displayName=oa;var hT="AlertDialogTitle",pT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=hi(t);return y.jsx(oy,{...s,...r,ref:e})});pT.displayName=hT;var mT="AlertDialogDescription",gT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=hi(t);return y.jsx(ay,{...s,...r,ref:e})});gT.displayName=mT;var nj="AlertDialogAction",yT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,s=hi(t);return y.jsx(ly,{...s,...r,ref:e})});yT.displayName=nj;var vT="AlertDialogCancel",wT=E.forwardRef((n,e)=>{const{__scopeAlertDialog:t,...r}=n,{cancelRef:s}=ej(vT,t),a=hi(t),l=st(e,s);return y.jsx(ly,{...a,...r,ref:l})});wT.displayName=vT;var rj=({contentRef:n})=>{const e=`\`${oa}\` requires a description for the component to be accessible for screen reader users.

You can add a description to the \`${oa}\` by passing a \`${mT}\` component as a child, which also benefits sighted users by adding visible context to the dialog.

Alternatively, you can use your own component as a description by assigning it an \`id\` and passing the same value to the \`aria-describedby\` prop in \`${oa}\`. If the description is confusing or duplicative for sighted users, you can use the \`@radix-ui/react-visually-hidden\` primitive as a wrapper around your description component.

For more information, see https://radix-ui.com/primitives/docs/components/alert-dialog`;return E.useEffect(()=>{var r;document.getElementById((r=n.current)==null?void 0:r.getAttribute("aria-describedby"))||console.warn(e)},[e,n]),null},ij=lT,sj=uT,oj=cT,_T=dT,xT=fT,ET=yT,CT=wT,ST=pT,TT=gT;const b_=ij,R_=sj,aj=oj,IT=E.forwardRef(({className:n,...e},t)=>y.jsx(_T,{className:be("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",n),...e,ref:t}));IT.displayName=_T.displayName;const Im=E.forwardRef(({className:n,...e},t)=>y.jsxs(aj,{children:[y.jsx(IT,{}),y.jsx(xT,{ref:t,className:be("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border border-zinc-200 bg-white p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg dark:border-zinc-800 dark:bg-zinc-950",n),...e})]}));Im.displayName=xT.displayName;const bm=({className:n,...e})=>y.jsx("div",{className:be("flex flex-col space-y-2 text-center sm:text-left",n),...e});bm.displayName="AlertDialogHeader";const Rm=({className:n,...e})=>y.jsx("div",{className:be("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",n),...e});Rm.displayName="AlertDialogFooter";const Am=E.forwardRef(({className:n,...e},t)=>y.jsx(ST,{ref:t,className:be("text-lg font-semibold",n),...e}));Am.displayName=ST.displayName;const Nm=E.forwardRef(({className:n,...e},t)=>y.jsx(TT,{ref:t,className:be("text-sm text-zinc-500 dark:text-zinc-400",n),...e}));Nm.displayName=TT.displayName;const Pm=E.forwardRef(({className:n,...e},t)=>y.jsx(ET,{ref:t,className:be(ey(),n),...e}));Pm.displayName=ET.displayName;const km=E.forwardRef(({className:n,...e},t)=>y.jsx(CT,{ref:t,className:be(ey({variant:"outline"}),"mt-2 sm:mt-0",n),...e}));km.displayName=CT.displayName;const lj=()=>{const[n,e]=E.useState([]),[t,r]=E.useState([]),[s,a]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[l,c]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),[f,h]=E.useState(null),[m,v]=E.useState(null),[w,T]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),[C,I]=E.useState({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),{toast:b}=Qg(),{t:R,i18n:D}=kg(),j=async()=>{try{const P=lr(Wt,"menuItems"),ee=(await iu(P)).docs.map(Q=>{const te=Q.data();return{id:Q.id,name_tr:te.name_tr||"",name_en:te.name_en||"",name_ru:te.name_ru||"",name_de:te.name_de||"",name_fr:te.name_fr||"",description_tr:te.description_tr||"",description_en:te.description_en||"",description_ru:te.description_ru||"",description_de:te.description_de||"",description_fr:te.description_fr||"",price:te.price||0,image:te.image||"",category:te.category||""}});e(ee);const ie=lr(Wt,"categories"),de=(await iu(ie)).docs.map(Q=>{const te=Q.data();return{id:Q.id,name_tr:te.name_tr||"",name_en:te.name_en||"",name_ru:te.name_ru||"",name_de:te.name_de||"",name_fr:te.name_fr||""}});r(de)}catch(P){console.error("Error fetching menu data:",P),b({title:R("error"),description:R("errorFetchingMenuData"),variant:"destructive"})}};E.useEffect(()=>{j()},[]);const z=async()=>{try{if(!s.name_tr||!s.price||!s.category){b({title:R("warning"),description:R("pleaseFillNamePriceCategory"),variant:"destructive"});return}await Id(lr(Wt,"menuItems"),{name_tr:s.name_tr,name_en:s.name_en,name_ru:s.name_ru,name_de:s.name_de,name_fr:s.name_fr,description_tr:s.description_tr,description_en:s.description_en,description_ru:s.description_ru,description_de:s.description_de,description_fr:s.description_fr,price:parseFloat(s.price),image:s.image,category:s.category}),a({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await j(),b({title:R("success"),description:R("itemAddedSuccessfully")})}catch(P){console.error("Error adding menu item:",P),b({title:R("error"),description:R("errorAddingMenuItem"),variant:"destructive"})}},q=async()=>{try{if(!l.name_tr){b({title:R("warning"),description:R("pleaseFillCategoryName"),variant:"destructive"});return}await Id(lr(Wt,"categories"),{name_tr:l.name_tr,name_en:l.name_en,name_ru:l.name_ru,name_de:l.name_de,name_fr:l.name_fr}),c({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await j(),b({title:R("success"),description:R("categoryAddedSuccessfully")})}catch(P){console.error("Error adding category:",P),b({title:R("error"),description:R("errorAddingCategory"),variant:"destructive"})}},Z=async P=>{try{await B0(zs(Wt,"menuItems",P)),await j(),b({title:R("success"),description:R("itemDeletedSuccessfully")})}catch(O){console.error("Error deleting menu item:",O),b({title:R("error"),description:R("errorDeletingMenuItem"),variant:"destructive"})}},L=async P=>{try{await B0(zs(Wt,"categories",P)),await j(),b({title:R("success"),description:R("categoryDeletedSuccessfully")})}catch(O){console.error("Error deleting category:",O),b({title:R("error"),description:R("errorDeletingCategory"),variant:"destructive"})}},N=P=>{h(P),T({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||"",description_tr:P.description_tr,description_en:P.description_en||"",description_ru:P.description_ru||"",description_de:P.description_de||"",description_fr:P.description_fr||"",price:P.price.toString(),image:P.image,category:P.category})},M=async()=>{if(f)try{if(!w.name_tr||!w.price||!w.category){b({title:R("warning"),description:R("pleaseFillNamePriceCategory"),variant:"destructive"});return}const P=zs(Wt,"menuItems",f.id);await Td(P,{name_tr:w.name_tr,name_en:w.name_en,name_ru:w.name_ru,name_de:w.name_de,name_fr:w.name_fr,description_tr:w.description_tr,description_en:w.description_en,description_ru:w.description_ru,description_de:w.description_de,description_fr:w.description_fr,price:parseFloat(w.price),image:w.image,category:w.category}),h(null),T({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:"",description_tr:"",description_en:"",description_ru:"",description_de:"",description_fr:"",price:"",image:"",category:""}),await j(),b({title:R("success"),description:R("itemUpdatedSuccessfully")})}catch(P){console.error("Error updating menu item:",P),b({title:R("error"),description:R("errorUpdatingMenuItem"),variant:"destructive"})}},V=P=>{v(P),I({name_tr:P.name_tr,name_en:P.name_en||"",name_ru:P.name_ru||"",name_de:P.name_de||"",name_fr:P.name_fr||""})},F=async()=>{if(m)try{if(!C.name_tr){b({title:R("warning"),description:R("pleaseFillCategoryName"),variant:"destructive"});return}const P=zs(Wt,"categories",m.id);await Td(P,{name_tr:C.name_tr,name_en:C.name_en,name_ru:C.name_ru,name_de:C.name_de,name_fr:C.name_fr}),v(null),I({name_tr:"",name_en:"",name_ru:"",name_de:"",name_fr:""}),await j(),b({title:R("success"),description:R("categoryUpdatedSuccessfully")})}catch(P){console.error("Error updating category:",P),b({title:R("error"),description:R("errorUpdatingCategory"),variant:"destructive"})}};return y.jsxs("div",{className:"container mx-auto px-4 py-8",children:[y.jsx(rS,{}),y.jsx("h1",{className:"text-3xl font-bold text-gray-800 mb-8 text-center",children:R("menuManagement")}),y.jsxs(WL,{defaultValue:"menuItems",className:"w-full",children:[y.jsxs(iT,{className:"grid w-full grid-cols-2",children:[y.jsx(Cm,{value:"menuItems",children:R("menuItems")}),y.jsx(Cm,{value:"categories",children:R("categories")})]}),y.jsxs(Sm,{value:"menuItems",children:[y.jsxs(Ml,{className:"mt-4",children:[y.jsxs(Ol,{children:[y.jsx(Ll,{children:R("addNewMenuItem")}),y.jsx(jl,{children:R("addNewMenuItemDescription")})]}),y.jsxs(Vl,{className:"space-y-4",children:[y.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameTr",children:[R("name")," (TR)"]}),y.jsx(ut,{id:"newItemNameTr",type:"text",value:s.name_tr,onChange:P=>a({...s,name_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameEn",children:[R("name")," (EN)"]}),y.jsx(ut,{id:"newItemNameEn",type:"text",value:s.name_en,onChange:P=>a({...s,name_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameRu",children:[R("name")," (RU)"]}),y.jsx(ut,{id:"newItemNameRu",type:"text",value:s.name_ru,onChange:P=>a({...s,name_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameDe",children:[R("name")," (DE)"]}),y.jsx(ut,{id:"newItemNameDe",type:"text",value:s.name_de,onChange:P=>a({...s,name_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemNameFr",children:[R("name")," (FR)"]}),y.jsx(ut,{id:"newItemNameFr",type:"text",value:s.name_fr,onChange:P=>a({...s,name_fr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionTr",children:[R("description")," (TR)"]}),y.jsx(or,{id:"newItemDescriptionTr",value:s.description_tr,onChange:P=>a({...s,description_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionEn",children:[R("description")," (EN)"]}),y.jsx(or,{id:"newItemDescriptionEn",value:s.description_en,onChange:P=>a({...s,description_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionRu",children:[R("description")," (RU)"]}),y.jsx(or,{id:"newItemDescriptionRu",value:s.description_ru,onChange:P=>a({...s,description_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionDe",children:[R("description")," (DE)"]}),y.jsx(or,{id:"newItemDescriptionDe",value:s.description_de,onChange:P=>a({...s,description_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newItemDescriptionFr",children:[R("description")," (FR)"]}),y.jsx(or,{id:"newItemDescriptionFr",value:s.description_fr,onChange:P=>a({...s,description_fr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemPrice",children:R("price")}),y.jsx(ut,{id:"newItemPrice",type:"number",value:s.price,onChange:P=>a({...s,price:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemImage",children:R("imageUrl")}),y.jsx(ut,{id:"newItemImage",type:"text",value:s.image,onChange:P=>a({...s,image:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"newItemCategory",children:R("category")}),y.jsxs(am,{value:s.category,onValueChange:P=>a({...s,category:P}),children:[y.jsx(kd,{id:"newItemCategory",children:y.jsx(lm,{placeholder:R("selectCategory")})}),y.jsx(Dd,{children:t.map(P=>y.jsx(Bi,{value:P.id,children:P[`name_${D.language}`]||P.name_tr},P.id))})]})]})]}),y.jsxs(si,{onClick:z,className:"w-full",children:[y.jsx(p_,{className:"mr-2 h-4 w-4"})," ",R("addItem")]})]})]}),y.jsx(Tm,{className:"my-8"}),y.jsxs(Ml,{children:[y.jsxs(Ol,{children:[y.jsx(Ll,{children:R("existingMenuItems")}),y.jsx(jl,{children:R("existingMenuItemsDescription")})]}),y.jsx(Vl,{children:y.jsxs(wm,{children:[y.jsx(_m,{children:y.jsxs(Fl,{children:[y.jsx(zi,{children:R("name")}),y.jsx(zi,{children:R("description")}),y.jsx(zi,{children:R("price")}),y.jsx(zi,{children:R("category")}),y.jsx(zi,{className:"text-right",children:R("actions")})]})}),y.jsx(xm,{children:n.map(P=>{var O,ee;return y.jsxs(Fl,{children:[y.jsx(Ui,{className:"font-medium",children:P["name_"+D.language]||P.name_tr}),y.jsx(Ui,{children:P["description_"+D.language]||P.description_tr}),y.jsxs(Ui,{children:[P.price," ₺"]}),y.jsx(Ui,{children:((O=t.find(ie=>ie.id===P.category))==null?void 0:O["name_"+D.language])||((ee=t.find(ie=>ie.id===P.category))==null?void 0:ee.name_tr)||"Bilinmiyor"}),y.jsxs(Ui,{className:"text-right",children:[y.jsxs(S_,{children:[y.jsx(T_,{asChild:!0,children:y.jsx(si,{variant:"ghost",size:"sm",onClick:()=>N(P),children:y.jsx(m_,{className:"h-4 w-4"})})}),y.jsxs(pm,{className:"sm:max-w-[425px]",children:[y.jsxs(mm,{children:[y.jsx(ym,{children:R("editMenuItem")}),y.jsx(vm,{children:R("updateMenuItemInfo")})]}),y.jsxs("div",{className:"grid gap-4 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameTr",children:[R("name")," (TR)"]}),y.jsx(ut,{id:"editedItemNameTr",value:w.name_tr,onChange:ie=>T({...w,name_tr:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameEn",children:[R("name")," (EN)"]}),y.jsx(ut,{id:"editedItemNameEn",value:w.name_en,onChange:ie=>T({...w,name_en:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameRu",children:[R("name")," (RU)"]}),y.jsx(ut,{id:"editedItemNameRu",value:w.name_ru,onChange:ie=>T({...w,name_ru:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameDe",children:[R("name")," (DE)"]}),y.jsx(ut,{id:"editedItemNameDe",value:w.name_de,onChange:ie=>T({...w,name_de:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemNameFr",children:[R("name")," (FR)"]}),y.jsx(ut,{id:"editedItemNameFr",value:w.name_fr,onChange:ie=>T({...w,name_fr:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionTr",children:[R("description")," (TR)"]}),y.jsx(or,{id:"editedItemDescriptionTr",value:w.description_tr,onChange:ie=>T({...w,description_tr:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionEn",children:[R("description")," (EN)"]}),y.jsx(or,{id:"editedItemDescriptionEn",value:w.description_en,onChange:ie=>T({...w,description_en:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionRu",children:[R("description")," (RU)"]}),y.jsx(or,{id:"editedItemDescriptionRu",value:w.description_ru,onChange:ie=>T({...w,description_ru:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionDe",children:[R("description")," (DE)"]}),y.jsx(or,{id:"editedItemDescriptionDe",value:w.description_de,onChange:ie=>T({...w,description_de:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedItemDescriptionFr",children:[R("description")," (FR)"]}),y.jsx(or,{id:"editedItemDescriptionFr",value:w.description_fr,onChange:ie=>T({...w,description_fr:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemPrice",children:R("price")}),y.jsx(ut,{id:"editedItemPrice",type:"number",value:w.price,onChange:ie=>T({...w,price:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemImage",children:R("imageUrl")}),y.jsx(ut,{id:"editedItemImage",value:w.image,onChange:ie=>T({...w,image:ie.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsx(He,{htmlFor:"editedItemCategory",children:R("category")}),y.jsxs(am,{value:w.category,onValueChange:ie=>T({...w,category:ie}),children:[y.jsx(kd,{id:"editedItemCategory",children:y.jsx(lm,{placeholder:R("selectCategory")})}),y.jsx(Dd,{children:t.map(ie=>y.jsx(Bi,{value:ie.id,children:ie[`name_${D.language}`]||ie.name_tr},ie.id))})]})]})]}),y.jsx(gm,{children:y.jsx(si,{type:"submit",onClick:M,children:R("save")})})]})]}),y.jsxs(b_,{children:[y.jsx(R_,{asChild:!0,children:y.jsx(si,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:y.jsx(g_,{className:"h-4 w-4"})})}),y.jsxs(Im,{children:[y.jsxs(bm,{children:[y.jsx(Am,{children:R("confirmDelete")}),y.jsx(Nm,{children:R("confirmDeleteItem")})]}),y.jsxs(Rm,{children:[y.jsx(km,{children:R("cancel")}),y.jsx(Pm,{onClick:()=>Z(P.id),children:R("delete")})]})]})]})]})]},P.id)})})]})})]})]}),y.jsxs(Sm,{value:"categories",children:[y.jsxs(Ml,{className:"mt-4",children:[y.jsxs(Ol,{children:[y.jsx(Ll,{children:R("addNewCategory")}),y.jsx(jl,{children:R("addNewCategoryDescription")})]}),y.jsxs(Vl,{className:"space-y-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameTr",children:[R("categoryName")," (TR)"]}),y.jsx(ut,{id:"newCategoryNameTr",type:"text",value:l.name_tr,onChange:P=>c({...l,name_tr:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameEn",children:[R("categoryName")," (EN)"]}),y.jsx(ut,{id:"newCategoryNameEn",type:"text",value:l.name_en,onChange:P=>c({...l,name_en:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameRu",children:[R("categoryName")," (RU)"]}),y.jsx(ut,{id:"newCategoryNameRu",type:"text",value:l.name_ru,onChange:P=>c({...l,name_ru:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameDe",children:[R("categoryName")," (DE)"]}),y.jsx(ut,{id:"newCategoryNameDe",type:"text",value:l.name_de,onChange:P=>c({...l,name_de:P.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"newCategoryNameFr",children:[R("categoryName")," (FR)"]}),y.jsx(ut,{id:"newCategoryNameFr",type:"text",value:l.name_fr,onChange:P=>c({...l,name_fr:P.target.value})})]}),y.jsxs(si,{onClick:q,className:"w-full",children:[y.jsx(p_,{className:"mr-2 h-4 w-4"})," ",R("addCategory")]})]})]}),y.jsx(Tm,{className:"my-8"}),y.jsxs(Ml,{children:[y.jsxs(Ol,{children:[y.jsx(Ll,{children:R("existingCategories")}),y.jsx(jl,{children:R("existingCategoriesDescription")})]}),y.jsx(Vl,{children:y.jsxs(wm,{children:[y.jsx(_m,{children:y.jsxs(Fl,{children:[y.jsx(zi,{children:R("categoryName")}),y.jsx(zi,{className:"text-right",children:R("actions")})]})}),y.jsx(xm,{children:t.map(P=>y.jsxs(Fl,{children:[y.jsx(Ui,{className:"font-medium",children:P["name_"+D.language]||P.name_tr}),y.jsxs(Ui,{className:"text-right",children:[y.jsxs(S_,{children:[y.jsx(T_,{asChild:!0,children:y.jsx(si,{variant:"ghost",size:"sm",onClick:()=>V(P),children:y.jsx(m_,{className:"h-4 w-4"})})}),y.jsxs(pm,{className:"sm:max-w-[425px]",children:[y.jsxs(mm,{children:[y.jsx(ym,{children:R("editCategory")}),y.jsx(vm,{children:R("updateCategoryName")})]}),y.jsxs("div",{className:"grid gap-4 py-4",children:[y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameTr",children:[R("categoryName")," (TR)"]}),y.jsx(ut,{id:"editedCategoryNameTr",value:C.name_tr,onChange:O=>I({...C,name_tr:O.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameEn",children:[R("categoryName")," (EN)"]}),y.jsx(ut,{id:"editedCategoryNameEn",value:C.name_en,onChange:O=>I({...C,name_en:O.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameRu",children:[R("categoryName")," (RU)"]}),y.jsx(ut,{id:"editedCategoryNameRu",value:C.name_ru,onChange:O=>I({...C,name_ru:O.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameDe",children:[R("categoryName")," (DE)"]}),y.jsx(ut,{id:"editedCategoryNameDe",value:C.name_de,onChange:O=>I({...C,name_de:O.target.value})})]}),y.jsxs("div",{className:"space-y-2",children:[y.jsxs(He,{htmlFor:"editedCategoryNameFr",children:[R("categoryName")," (FR)"]}),y.jsx(ut,{id:"editedCategoryNameFr",value:C.name_fr,onChange:O=>I({...C,name_fr:O.target.value})})]})]}),y.jsx(gm,{children:y.jsx(si,{type:"submit",onClick:F,children:R("save")})})]})]}),y.jsxs(b_,{children:[y.jsx(R_,{asChild:!0,children:y.jsx(si,{variant:"ghost",size:"sm",className:"text-red-600 hover:text-red-900",children:y.jsx(g_,{className:"h-4 w-4"})})}),y.jsxs(Im,{children:[y.jsxs(bm,{children:[y.jsx(Am,{children:R("confirmDelete")}),y.jsx(Nm,{children:R("confirmDeleteCategory")})]}),y.jsxs(Rm,{children:[y.jsx(km,{children:R("cancel")}),y.jsx(Pm,{onClick:()=>L(P.id),children:R("delete")})]})]})]})]})]},P.id))})]})})]})]})]})]})},uj=()=>y.jsx("div",{className:"container mx-auto px-4 py-16 flex flex-col items-center",children:y.jsxs("div",{className:"bg-white rounded-lg shadow-md p-8 max-w-md w-full text-center",children:[y.jsx("h1",{className:"text-3xl font-bold text-amber-800 mb-6",children:"Kafe QR Sipariş Sistemi"}),y.jsxs("div",{className:"space-y-4",children:[y.jsx("a",{href:"/admin",className:"block w-full bg-amber-500 hover:bg-amber-600 text-white py-3 px-4 rounded-md transition-colors",children:"Yönetim Paneli"}),y.jsx("a",{href:"/admin/qrcodes",className:"block w-full bg-gray-100 hover:bg-gray-200 text-gray-800 py-3 px-4 rounded-md transition-colors",children:"QR Kodları Görüntüle"})]})]})});function cj(){return y.jsx(nR,{basename:"/nuansqr",children:y.jsx(hR,{children:y.jsx("div",{className:"min-h-screen bg-amber-50",children:y.jsxs(kb,{children:[y.jsx(br,{path:"/",element:y.jsx(uj,{})}),y.jsx(br,{path:"/menu/:tableId",element:y.jsx(_4,{})}),y.jsx(br,{path:"/checkout/:tableId",element:y.jsx(x4,{})}),y.jsx(br,{path:"/thank-you/:tableId",element:y.jsx(E4,{})}),y.jsx(br,{path:"/admin",element:y.jsx(J4,{})}),y.jsx(br,{path:"/admin/orders",element:y.jsx(rL,{})}),y.jsx(br,{path:"/admin/qrcodes",element:y.jsx(hL,{})}),y.jsx(br,{path:"/admin/menu",element:y.jsx(lj,{})})," ",y.jsx(br,{path:"*",element:y.jsx(Nb,{to:"/",replace:!0})})]})})})})}const Pe=n=>typeof n=="string",Rl=()=>{let n,e;const t=new Promise((r,s)=>{n=r,e=s});return t.resolve=n,t.reject=e,t},A_=n=>n==null?"":""+n,dj=(n,e,t)=>{n.forEach(r=>{e[r]&&(t[r]=e[r])})},fj=/###/g,N_=n=>n&&n.indexOf("###")>-1?n.replace(fj,"."):n,P_=n=>!n||Pe(n),ql=(n,e,t)=>{const r=Pe(e)?e.split("."):e;let s=0;for(;s<r.length-1;){if(P_(n))return{};const a=N_(r[s]);!n[a]&&t&&(n[a]=new t),Object.prototype.hasOwnProperty.call(n,a)?n=n[a]:n={},++s}return P_(n)?{}:{obj:n,k:N_(r[s])}},k_=(n,e,t)=>{const{obj:r,k:s}=ql(n,e,Object);if(r!==void 0||e.length===1){r[s]=t;return}let a=e[e.length-1],l=e.slice(0,e.length-1),c=ql(n,l,Object);for(;c.obj===void 0&&l.length;)a=`${l[l.length-1]}.${a}`,l=l.slice(0,l.length-1),c=ql(n,l,Object),c!=null&&c.obj&&typeof c.obj[`${c.k}.${a}`]<"u"&&(c.obj=void 0);c.obj[`${c.k}.${a}`]=t},hj=(n,e,t,r)=>{const{obj:s,k:a}=ql(n,e,Object);s[a]=s[a]||[],s[a].push(t)},Ld=(n,e)=>{const{obj:t,k:r}=ql(n,e);if(t&&Object.prototype.hasOwnProperty.call(t,r))return t[r]},pj=(n,e,t)=>{const r=Ld(n,t);return r!==void 0?r:Ld(e,t)},bT=(n,e,t)=>{for(const r in e)r!=="__proto__"&&r!=="constructor"&&(r in n?Pe(n[r])||n[r]instanceof String||Pe(e[r])||e[r]instanceof String?t&&(n[r]=e[r]):bT(n[r],e[r],t):n[r]=e[r]);return n},Qo=n=>n.replace(/[\-\[\]\/\{\}\(\)\*\+\?\.\\\^\$\|]/g,"\\$&");var mj={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;","/":"&#x2F;"};const gj=n=>Pe(n)?n.replace(/[&<>"'\/]/g,e=>mj[e]):n;class yj{constructor(e){this.capacity=e,this.regExpMap=new Map,this.regExpQueue=[]}getRegExp(e){const t=this.regExpMap.get(e);if(t!==void 0)return t;const r=new RegExp(e);return this.regExpQueue.length===this.capacity&&this.regExpMap.delete(this.regExpQueue.shift()),this.regExpMap.set(e,r),this.regExpQueue.push(e),r}}const vj=[" ",",","?","!",";"],wj=new yj(20),_j=(n,e,t)=>{e=e||"",t=t||"";const r=vj.filter(l=>e.indexOf(l)<0&&t.indexOf(l)<0);if(r.length===0)return!0;const s=wj.getRegExp(`(${r.map(l=>l==="?"?"\\?":l).join("|")})`);let a=!s.test(n);if(!a){const l=n.indexOf(t);l>0&&!s.test(n.substring(0,l))&&(a=!0)}return a},Dm=(n,e,t=".")=>{if(!n)return;if(n[e])return Object.prototype.hasOwnProperty.call(n,e)?n[e]:void 0;const r=e.split(t);let s=n;for(let a=0;a<r.length;){if(!s||typeof s!="object")return;let l,c="";for(let f=a;f<r.length;++f)if(f!==a&&(c+=t),c+=r[f],l=s[c],l!==void 0){if(["string","number","boolean"].indexOf(typeof l)>-1&&f<r.length-1)continue;a+=f-a+1;break}s=l}return s},au=n=>n==null?void 0:n.replace("_","-"),xj={type:"logger",log(n){this.output("log",n)},warn(n){this.output("warn",n)},error(n){this.output("error",n)},output(n,e){var t,r;(r=(t=console==null?void 0:console[n])==null?void 0:t.apply)==null||r.call(t,console,e)}};class jd{constructor(e,t={}){this.init(e,t)}init(e,t={}){this.prefix=t.prefix||"i18next:",this.logger=e||xj,this.options=t,this.debug=t.debug}log(...e){return this.forward(e,"log","",!0)}warn(...e){return this.forward(e,"warn","",!0)}error(...e){return this.forward(e,"error","")}deprecate(...e){return this.forward(e,"warn","WARNING DEPRECATED: ",!0)}forward(e,t,r,s){return s&&!this.debug?null:(Pe(e[0])&&(e[0]=`${r}${this.prefix} ${e[0]}`),this.logger[t](e))}create(e){return new jd(this.logger,{prefix:`${this.prefix}:${e}:`,...this.options})}clone(e){return e=e||this.options,e.prefix=e.prefix||this.prefix,new jd(this.logger,e)}}var kr=new jd;class yf{constructor(){this.observers={}}on(e,t){return e.split(" ").forEach(r=>{this.observers[r]||(this.observers[r]=new Map);const s=this.observers[r].get(t)||0;this.observers[r].set(t,s+1)}),this}off(e,t){if(this.observers[e]){if(!t){delete this.observers[e];return}this.observers[e].delete(t)}}emit(e,...t){this.observers[e]&&Array.from(this.observers[e].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s(...t)}),this.observers["*"]&&Array.from(this.observers["*"].entries()).forEach(([s,a])=>{for(let l=0;l<a;l++)s.apply(s,[e,...t])})}}class D_ extends yf{constructor(e,t={ns:["translation"],defaultNS:"translation"}){super(),this.data=e||{},this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.options.ignoreJSONStructure===void 0&&(this.options.ignoreJSONStructure=!0)}addNamespaces(e){this.options.ns.indexOf(e)<0&&this.options.ns.push(e)}removeNamespaces(e){const t=this.options.ns.indexOf(e);t>-1&&this.options.ns.splice(t,1)}getResource(e,t,r,s={}){var h,m;const a=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,l=s.ignoreJSONStructure!==void 0?s.ignoreJSONStructure:this.options.ignoreJSONStructure;let c;e.indexOf(".")>-1?c=e.split("."):(c=[e,t],r&&(Array.isArray(r)?c.push(...r):Pe(r)&&a?c.push(...r.split(a)):c.push(r)));const f=Ld(this.data,c);return!f&&!t&&!r&&e.indexOf(".")>-1&&(e=c[0],t=c[1],r=c.slice(2).join(".")),f||!l||!Pe(r)?f:Dm((m=(h=this.data)==null?void 0:h[e])==null?void 0:m[t],r,a)}addResource(e,t,r,s,a={silent:!1}){const l=a.keySeparator!==void 0?a.keySeparator:this.options.keySeparator;let c=[e,t];r&&(c=c.concat(l?r.split(l):r)),e.indexOf(".")>-1&&(c=e.split("."),s=t,t=c[1]),this.addNamespaces(t),k_(this.data,c,s),a.silent||this.emit("added",e,t,r,s)}addResources(e,t,r,s={silent:!1}){for(const a in r)(Pe(r[a])||Array.isArray(r[a]))&&this.addResource(e,t,a,r[a],{silent:!0});s.silent||this.emit("added",e,t,r)}addResourceBundle(e,t,r,s,a,l={silent:!1,skipCopy:!1}){let c=[e,t];e.indexOf(".")>-1&&(c=e.split("."),s=r,r=t,t=c[1]),this.addNamespaces(t);let f=Ld(this.data,c)||{};l.skipCopy||(r=JSON.parse(JSON.stringify(r))),s?bT(f,r,a):f={...f,...r},k_(this.data,c,f),l.silent||this.emit("added",e,t,r)}removeResourceBundle(e,t){this.hasResourceBundle(e,t)&&delete this.data[e][t],this.removeNamespaces(t),this.emit("removed",e,t)}hasResourceBundle(e,t){return this.getResource(e,t)!==void 0}getResourceBundle(e,t){return t||(t=this.options.defaultNS),this.getResource(e,t)}getDataByLanguage(e){return this.data[e]}hasLanguageSomeTranslations(e){const t=this.getDataByLanguage(e);return!!(t&&Object.keys(t)||[]).find(s=>t[s]&&Object.keys(t[s]).length>0)}toJSON(){return this.data}}var RT={processors:{},addPostProcessor(n){this.processors[n.name]=n},handle(n,e,t,r,s){return n.forEach(a=>{var l;e=((l=this.processors[a])==null?void 0:l.process(e,t,r,s))??e}),e}};const M_={},O_=n=>!Pe(n)&&typeof n!="boolean"&&typeof n!="number";class Vd extends yf{constructor(e,t={}){super(),dj(["resourceStore","languageUtils","pluralResolver","interpolator","backendConnector","i18nFormat","utils"],e,this),this.options=t,this.options.keySeparator===void 0&&(this.options.keySeparator="."),this.logger=kr.create("translator")}changeLanguage(e){e&&(this.language=e)}exists(e,t={interpolation:{}}){const r={...t};if(e==null)return!1;const s=this.resolve(e,r);return(s==null?void 0:s.res)!==void 0}extractFromKey(e,t){let r=t.nsSeparator!==void 0?t.nsSeparator:this.options.nsSeparator;r===void 0&&(r=":");const s=t.keySeparator!==void 0?t.keySeparator:this.options.keySeparator;let a=t.ns||this.options.defaultNS||[];const l=r&&e.indexOf(r)>-1,c=!this.options.userDefinedKeySeparator&&!t.keySeparator&&!this.options.userDefinedNsSeparator&&!t.nsSeparator&&!_j(e,r,s);if(l&&!c){const f=e.match(this.interpolator.nestingRegexp);if(f&&f.length>0)return{key:e,namespaces:Pe(a)?[a]:a};const h=e.split(r);(r!==s||r===s&&this.options.ns.indexOf(h[0])>-1)&&(a=h.shift()),e=h.join(s)}return{key:e,namespaces:Pe(a)?[a]:a}}translate(e,t,r){let s=typeof t=="object"?{...t}:t;if(typeof s!="object"&&this.options.overloadTranslationOptionHandler&&(s=this.options.overloadTranslationOptionHandler(arguments)),typeof options=="object"&&(s={...s}),s||(s={}),e==null)return"";Array.isArray(e)||(e=[String(e)]);const a=s.returnDetails!==void 0?s.returnDetails:this.options.returnDetails,l=s.keySeparator!==void 0?s.keySeparator:this.options.keySeparator,{key:c,namespaces:f}=this.extractFromKey(e[e.length-1],s),h=f[f.length-1];let m=s.nsSeparator!==void 0?s.nsSeparator:this.options.nsSeparator;m===void 0&&(m=":");const v=s.lng||this.language,w=s.appendNamespaceToCIMode||this.options.appendNamespaceToCIMode;if((v==null?void 0:v.toLowerCase())==="cimode")return w?a?{res:`${h}${m}${c}`,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:`${h}${m}${c}`:a?{res:c,usedKey:c,exactUsedKey:c,usedLng:v,usedNS:h,usedParams:this.getUsedParamsDetails(s)}:c;const T=this.resolve(e,s);let C=T==null?void 0:T.res;const I=(T==null?void 0:T.usedKey)||c,b=(T==null?void 0:T.exactUsedKey)||c,R=["[object Number]","[object Function]","[object RegExp]"],D=s.joinArrays!==void 0?s.joinArrays:this.options.joinArrays,j=!this.i18nFormat||this.i18nFormat.handleAsObject,z=s.count!==void 0&&!Pe(s.count),q=Vd.hasDefaultValue(s),Z=z?this.pluralResolver.getSuffix(v,s.count,s):"",L=s.ordinal&&z?this.pluralResolver.getSuffix(v,s.count,{ordinal:!1}):"",N=z&&!s.ordinal&&s.count===0,M=N&&s[`defaultValue${this.options.pluralSeparator}zero`]||s[`defaultValue${Z}`]||s[`defaultValue${L}`]||s.defaultValue;let V=C;j&&!C&&q&&(V=M);const F=O_(V),P=Object.prototype.toString.apply(V);if(j&&V&&F&&R.indexOf(P)<0&&!(Pe(D)&&Array.isArray(V))){if(!s.returnObjects&&!this.options.returnObjects){this.options.returnedObjectHandler||this.logger.warn("accessing an object - but returnObjects options is not enabled!");const O=this.options.returnedObjectHandler?this.options.returnedObjectHandler(I,V,{...s,ns:f}):`key '${c} (${this.language})' returned an object instead of string.`;return a?(T.res=O,T.usedParams=this.getUsedParamsDetails(s),T):O}if(l){const O=Array.isArray(V),ee=O?[]:{},ie=O?b:I;for(const ce in V)if(Object.prototype.hasOwnProperty.call(V,ce)){const de=`${ie}${l}${ce}`;q&&!C?ee[ce]=this.translate(de,{...s,defaultValue:O_(M)?M[ce]:void 0,joinArrays:!1,ns:f}):ee[ce]=this.translate(de,{...s,joinArrays:!1,ns:f}),ee[ce]===de&&(ee[ce]=V[ce])}C=ee}}else if(j&&Pe(D)&&Array.isArray(C))C=C.join(D),C&&(C=this.extendTranslation(C,e,s,r));else{let O=!1,ee=!1;!this.isValidLookup(C)&&q&&(O=!0,C=M),this.isValidLookup(C)||(ee=!0,C=c);const ce=(s.missingKeyNoValueFallbackToKey||this.options.missingKeyNoValueFallbackToKey)&&ee?void 0:C,de=q&&M!==C&&this.options.updateMissing;if(ee||O||de){if(this.logger.log(de?"updateKey":"missingKey",v,h,c,de?M:C),l){const U=this.resolve(c,{...s,keySeparator:!1});U&&U.res&&this.logger.warn("Seems the loaded translations were in flat JSON format instead of nested. Either set keySeparator: false on init or make sure your translations are published in nested format.")}let Q=[];const te=this.languageUtils.getFallbackCodes(this.options.fallbackLng,s.lng||this.language);if(this.options.saveMissingTo==="fallback"&&te&&te[0])for(let U=0;U<te.length;U++)Q.push(te[U]);else this.options.saveMissingTo==="all"?Q=this.languageUtils.toResolveHierarchy(s.lng||this.language):Q.push(s.lng||this.language);const le=(U,J,pe)=>{var Ae;const Ce=q&&pe!==C?pe:ce;this.options.missingKeyHandler?this.options.missingKeyHandler(U,h,J,Ce,de,s):(Ae=this.backendConnector)!=null&&Ae.saveMissing&&this.backendConnector.saveMissing(U,h,J,Ce,de,s),this.emit("missingKey",U,h,J,C)};this.options.saveMissing&&(this.options.saveMissingPlurals&&z?Q.forEach(U=>{const J=this.pluralResolver.getSuffixes(U,s);N&&s[`defaultValue${this.options.pluralSeparator}zero`]&&J.indexOf(`${this.options.pluralSeparator}zero`)<0&&J.push(`${this.options.pluralSeparator}zero`),J.forEach(pe=>{le([U],c+pe,s[`defaultValue${pe}`]||M)})}):le(Q,c,M))}C=this.extendTranslation(C,e,s,T,r),ee&&C===c&&this.options.appendNamespaceToMissingKey&&(C=`${h}${m}${c}`),(ee||O)&&this.options.parseMissingKeyHandler&&(C=this.options.parseMissingKeyHandler(this.options.appendNamespaceToMissingKey?`${h}${m}${c}`:c,O?C:void 0,s))}return a?(T.res=C,T.usedParams=this.getUsedParamsDetails(s),T):C}extendTranslation(e,t,r,s,a){var f,h;if((f=this.i18nFormat)!=null&&f.parse)e=this.i18nFormat.parse(e,{...this.options.interpolation.defaultVariables,...r},r.lng||this.language||s.usedLng,s.usedNS,s.usedKey,{resolved:s});else if(!r.skipInterpolation){r.interpolation&&this.interpolator.init({...r,interpolation:{...this.options.interpolation,...r.interpolation}});const m=Pe(e)&&(((h=r==null?void 0:r.interpolation)==null?void 0:h.skipOnVariables)!==void 0?r.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables);let v;if(m){const T=e.match(this.interpolator.nestingRegexp);v=T&&T.length}let w=r.replace&&!Pe(r.replace)?r.replace:r;if(this.options.interpolation.defaultVariables&&(w={...this.options.interpolation.defaultVariables,...w}),e=this.interpolator.interpolate(e,w,r.lng||this.language||s.usedLng,r),m){const T=e.match(this.interpolator.nestingRegexp),C=T&&T.length;v<C&&(r.nest=!1)}!r.lng&&s&&s.res&&(r.lng=this.language||s.usedLng),r.nest!==!1&&(e=this.interpolator.nest(e,(...T)=>(a==null?void 0:a[0])===T[0]&&!r.context?(this.logger.warn(`It seems you are nesting recursively key: ${T[0]} in key: ${t[0]}`),null):this.translate(...T,t),r)),r.interpolation&&this.interpolator.reset()}const l=r.postProcess||this.options.postProcess,c=Pe(l)?[l]:l;return e!=null&&(c!=null&&c.length)&&r.applyPostProcessor!==!1&&(e=RT.handle(c,e,t,this.options&&this.options.postProcessPassResolved?{i18nResolved:{...s,usedParams:this.getUsedParamsDetails(r)},...r}:r,this)),e}resolve(e,t={}){let r,s,a,l,c;return Pe(e)&&(e=[e]),e.forEach(f=>{if(this.isValidLookup(r))return;const h=this.extractFromKey(f,t),m=h.key;s=m;let v=h.namespaces;this.options.fallbackNS&&(v=v.concat(this.options.fallbackNS));const w=t.count!==void 0&&!Pe(t.count),T=w&&!t.ordinal&&t.count===0,C=t.context!==void 0&&(Pe(t.context)||typeof t.context=="number")&&t.context!=="",I=t.lngs?t.lngs:this.languageUtils.toResolveHierarchy(t.lng||this.language,t.fallbackLng);v.forEach(b=>{var R,D;this.isValidLookup(r)||(c=b,!M_[`${I[0]}-${b}`]&&((R=this.utils)!=null&&R.hasLoadedNamespace)&&!((D=this.utils)!=null&&D.hasLoadedNamespace(c))&&(M_[`${I[0]}-${b}`]=!0,this.logger.warn(`key "${s}" for languages "${I.join(", ")}" won't get resolved as namespace "${c}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!")),I.forEach(j=>{var Z;if(this.isValidLookup(r))return;l=j;const z=[m];if((Z=this.i18nFormat)!=null&&Z.addLookupKeys)this.i18nFormat.addLookupKeys(z,m,j,b,t);else{let L;w&&(L=this.pluralResolver.getSuffix(j,t.count,t));const N=`${this.options.pluralSeparator}zero`,M=`${this.options.pluralSeparator}ordinal${this.options.pluralSeparator}`;if(w&&(z.push(m+L),t.ordinal&&L.indexOf(M)===0&&z.push(m+L.replace(M,this.options.pluralSeparator)),T&&z.push(m+N)),C){const V=`${m}${this.options.contextSeparator}${t.context}`;z.push(V),w&&(z.push(V+L),t.ordinal&&L.indexOf(M)===0&&z.push(V+L.replace(M,this.options.pluralSeparator)),T&&z.push(V+N))}}let q;for(;q=z.pop();)this.isValidLookup(r)||(a=q,r=this.getResource(j,b,q,t))}))})}),{res:r,usedKey:s,exactUsedKey:a,usedLng:l,usedNS:c}}isValidLookup(e){return e!==void 0&&!(!this.options.returnNull&&e===null)&&!(!this.options.returnEmptyString&&e==="")}getResource(e,t,r,s={}){var a;return(a=this.i18nFormat)!=null&&a.getResource?this.i18nFormat.getResource(e,t,r,s):this.resourceStore.getResource(e,t,r,s)}getUsedParamsDetails(e={}){const t=["defaultValue","ordinal","context","replace","lng","lngs","fallbackLng","ns","keySeparator","nsSeparator","returnObjects","returnDetails","joinArrays","postProcess","interpolation"],r=e.replace&&!Pe(e.replace);let s=r?e.replace:e;if(r&&typeof e.count<"u"&&(s.count=e.count),this.options.interpolation.defaultVariables&&(s={...this.options.interpolation.defaultVariables,...s}),!r){s={...s};for(const a of t)delete s[a]}return s}static hasDefaultValue(e){const t="defaultValue";for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)&&t===r.substring(0,t.length)&&e[r]!==void 0)return!0;return!1}}class L_{constructor(e){this.options=e,this.supportedLngs=this.options.supportedLngs||!1,this.logger=kr.create("languageUtils")}getScriptPartFromCode(e){if(e=au(e),!e||e.indexOf("-")<0)return null;const t=e.split("-");return t.length===2||(t.pop(),t[t.length-1].toLowerCase()==="x")?null:this.formatLanguageCode(t.join("-"))}getLanguagePartFromCode(e){if(e=au(e),!e||e.indexOf("-")<0)return e;const t=e.split("-");return this.formatLanguageCode(t[0])}formatLanguageCode(e){if(Pe(e)&&e.indexOf("-")>-1){let t;try{t=Intl.getCanonicalLocales(e)[0]}catch{}return t&&this.options.lowerCaseLng&&(t=t.toLowerCase()),t||(this.options.lowerCaseLng?e.toLowerCase():e)}return this.options.cleanCode||this.options.lowerCaseLng?e.toLowerCase():e}isSupportedCode(e){return(this.options.load==="languageOnly"||this.options.nonExplicitSupportedLngs)&&(e=this.getLanguagePartFromCode(e)),!this.supportedLngs||!this.supportedLngs.length||this.supportedLngs.indexOf(e)>-1}getBestMatchFromCodes(e){if(!e)return null;let t;return e.forEach(r=>{if(t)return;const s=this.formatLanguageCode(r);(!this.options.supportedLngs||this.isSupportedCode(s))&&(t=s)}),!t&&this.options.supportedLngs&&e.forEach(r=>{if(t)return;const s=this.getScriptPartFromCode(r);if(this.isSupportedCode(s))return t=s;const a=this.getLanguagePartFromCode(r);if(this.isSupportedCode(a))return t=a;t=this.options.supportedLngs.find(l=>{if(l===a)return l;if(!(l.indexOf("-")<0&&a.indexOf("-")<0)&&(l.indexOf("-")>0&&a.indexOf("-")<0&&l.substring(0,l.indexOf("-"))===a||l.indexOf(a)===0&&a.length>1))return l})}),t||(t=this.getFallbackCodes(this.options.fallbackLng)[0]),t}getFallbackCodes(e,t){if(!e)return[];if(typeof e=="function"&&(e=e(t)),Pe(e)&&(e=[e]),Array.isArray(e))return e;if(!t)return e.default||[];let r=e[t];return r||(r=e[this.getScriptPartFromCode(t)]),r||(r=e[this.formatLanguageCode(t)]),r||(r=e[this.getLanguagePartFromCode(t)]),r||(r=e.default),r||[]}toResolveHierarchy(e,t){const r=this.getFallbackCodes((t===!1?[]:t)||this.options.fallbackLng||[],e),s=[],a=l=>{l&&(this.isSupportedCode(l)?s.push(l):this.logger.warn(`rejecting language code not found in supportedLngs: ${l}`))};return Pe(e)&&(e.indexOf("-")>-1||e.indexOf("_")>-1)?(this.options.load!=="languageOnly"&&a(this.formatLanguageCode(e)),this.options.load!=="languageOnly"&&this.options.load!=="currentOnly"&&a(this.getScriptPartFromCode(e)),this.options.load!=="currentOnly"&&a(this.getLanguagePartFromCode(e))):Pe(e)&&a(this.formatLanguageCode(e)),r.forEach(l=>{s.indexOf(l)<0&&a(this.formatLanguageCode(l))}),s}}const j_={zero:0,one:1,two:2,few:3,many:4,other:5},V_={select:n=>n===1?"one":"other",resolvedOptions:()=>({pluralCategories:["one","other"]})};class Ej{constructor(e,t={}){this.languageUtils=e,this.options=t,this.logger=kr.create("pluralResolver"),this.pluralRulesCache={}}addRule(e,t){this.rules[e]=t}clearCache(){this.pluralRulesCache={}}getRule(e,t={}){const r=au(e==="dev"?"en":e),s=t.ordinal?"ordinal":"cardinal",a=JSON.stringify({cleanedCode:r,type:s});if(a in this.pluralRulesCache)return this.pluralRulesCache[a];let l;try{l=new Intl.PluralRules(r,{type:s})}catch{if(!Intl)return this.logger.error("No Intl support, please use an Intl polyfill!"),V_;if(!e.match(/-|_/))return V_;const f=this.languageUtils.getLanguagePartFromCode(e);l=this.getRule(f,t)}return this.pluralRulesCache[a]=l,l}needsPlural(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),(r==null?void 0:r.resolvedOptions().pluralCategories.length)>1}getPluralFormsOfKey(e,t,r={}){return this.getSuffixes(e,r).map(s=>`${t}${s}`)}getSuffixes(e,t={}){let r=this.getRule(e,t);return r||(r=this.getRule("dev",t)),r?r.resolvedOptions().pluralCategories.sort((s,a)=>j_[s]-j_[a]).map(s=>`${this.options.prepend}${t.ordinal?`ordinal${this.options.prepend}`:""}${s}`):[]}getSuffix(e,t,r={}){const s=this.getRule(e,r);return s?`${this.options.prepend}${r.ordinal?`ordinal${this.options.prepend}`:""}${s.select(t)}`:(this.logger.warn(`no plural rule found for: ${e}`),this.getSuffix("dev",t,r))}}const F_=(n,e,t,r=".",s=!0)=>{let a=pj(n,e,t);return!a&&s&&Pe(t)&&(a=Dm(n,t,r),a===void 0&&(a=Dm(e,t,r))),a},wp=n=>n.replace(/\$/g,"$$$$");class Cj{constructor(e={}){var t;this.logger=kr.create("interpolator"),this.options=e,this.format=((t=e==null?void 0:e.interpolation)==null?void 0:t.format)||(r=>r),this.init(e)}init(e={}){e.interpolation||(e.interpolation={escapeValue:!0});const{escape:t,escapeValue:r,useRawValueToEscape:s,prefix:a,prefixEscaped:l,suffix:c,suffixEscaped:f,formatSeparator:h,unescapeSuffix:m,unescapePrefix:v,nestingPrefix:w,nestingPrefixEscaped:T,nestingSuffix:C,nestingSuffixEscaped:I,nestingOptionsSeparator:b,maxReplaces:R,alwaysFormat:D}=e.interpolation;this.escape=t!==void 0?t:gj,this.escapeValue=r!==void 0?r:!0,this.useRawValueToEscape=s!==void 0?s:!1,this.prefix=a?Qo(a):l||"{{",this.suffix=c?Qo(c):f||"}}",this.formatSeparator=h||",",this.unescapePrefix=m?"":v||"-",this.unescapeSuffix=this.unescapePrefix?"":m||"",this.nestingPrefix=w?Qo(w):T||Qo("$t("),this.nestingSuffix=C?Qo(C):I||Qo(")"),this.nestingOptionsSeparator=b||",",this.maxReplaces=R||1e3,this.alwaysFormat=D!==void 0?D:!1,this.resetRegExp()}reset(){this.options&&this.init(this.options)}resetRegExp(){const e=(t,r)=>(t==null?void 0:t.source)===r?(t.lastIndex=0,t):new RegExp(r,"g");this.regexp=e(this.regexp,`${this.prefix}(.+?)${this.suffix}`),this.regexpUnescape=e(this.regexpUnescape,`${this.prefix}${this.unescapePrefix}(.+?)${this.unescapeSuffix}${this.suffix}`),this.nestingRegexp=e(this.nestingRegexp,`${this.nestingPrefix}(.+?)${this.nestingSuffix}`)}interpolate(e,t,r,s){var T;let a,l,c;const f=this.options&&this.options.interpolation&&this.options.interpolation.defaultVariables||{},h=C=>{if(C.indexOf(this.formatSeparator)<0){const D=F_(t,f,C,this.options.keySeparator,this.options.ignoreJSONStructure);return this.alwaysFormat?this.format(D,void 0,r,{...s,...t,interpolationkey:C}):D}const I=C.split(this.formatSeparator),b=I.shift().trim(),R=I.join(this.formatSeparator).trim();return this.format(F_(t,f,b,this.options.keySeparator,this.options.ignoreJSONStructure),R,r,{...s,...t,interpolationkey:b})};this.resetRegExp();const m=(s==null?void 0:s.missingInterpolationHandler)||this.options.missingInterpolationHandler,v=((T=s==null?void 0:s.interpolation)==null?void 0:T.skipOnVariables)!==void 0?s.interpolation.skipOnVariables:this.options.interpolation.skipOnVariables;return[{regex:this.regexpUnescape,safeValue:C=>wp(C)},{regex:this.regexp,safeValue:C=>this.escapeValue?wp(this.escape(C)):wp(C)}].forEach(C=>{for(c=0;a=C.regex.exec(e);){const I=a[1].trim();if(l=h(I),l===void 0)if(typeof m=="function"){const R=m(e,a,s);l=Pe(R)?R:""}else if(s&&Object.prototype.hasOwnProperty.call(s,I))l="";else if(v){l=a[0];continue}else this.logger.warn(`missed to pass in variable ${I} for interpolating ${e}`),l="";else!Pe(l)&&!this.useRawValueToEscape&&(l=A_(l));const b=C.safeValue(l);if(e=e.replace(a[0],b),v?(C.regex.lastIndex+=l.length,C.regex.lastIndex-=a[0].length):C.regex.lastIndex=0,c++,c>=this.maxReplaces)break}}),e}nest(e,t,r={}){let s,a,l;const c=(f,h)=>{const m=this.nestingOptionsSeparator;if(f.indexOf(m)<0)return f;const v=f.split(new RegExp(`${m}[ ]*{`));let w=`{${v[1]}`;f=v[0],w=this.interpolate(w,l);const T=w.match(/'/g),C=w.match(/"/g);(((T==null?void 0:T.length)??0)%2===0&&!C||C.length%2!==0)&&(w=w.replace(/'/g,'"'));try{l=JSON.parse(w),h&&(l={...h,...l})}catch(I){return this.logger.warn(`failed parsing options string in nesting for key ${f}`,I),`${f}${m}${w}`}return l.defaultValue&&l.defaultValue.indexOf(this.prefix)>-1&&delete l.defaultValue,f};for(;s=this.nestingRegexp.exec(e);){let f=[];l={...r},l=l.replace&&!Pe(l.replace)?l.replace:l,l.applyPostProcessor=!1,delete l.defaultValue;let h=!1;if(s[0].indexOf(this.formatSeparator)!==-1&&!/{.*}/.test(s[1])){const m=s[1].split(this.formatSeparator).map(v=>v.trim());s[1]=m.shift(),f=m,h=!0}if(a=t(c.call(this,s[1].trim(),l),l),a&&s[0]===e&&!Pe(a))return a;Pe(a)||(a=A_(a)),a||(this.logger.warn(`missed to resolve ${s[1]} for nesting ${e}`),a=""),h&&(a=f.reduce((m,v)=>this.format(m,v,r.lng,{...r,interpolationkey:s[1].trim()}),a.trim())),e=e.replace(s[0],a),this.regexp.lastIndex=0}return e}}const Sj=n=>{let e=n.toLowerCase().trim();const t={};if(n.indexOf("(")>-1){const r=n.split("(");e=r[0].toLowerCase().trim();const s=r[1].substring(0,r[1].length-1);e==="currency"&&s.indexOf(":")<0?t.currency||(t.currency=s.trim()):e==="relativetime"&&s.indexOf(":")<0?t.range||(t.range=s.trim()):s.split(";").forEach(l=>{if(l){const[c,...f]=l.split(":"),h=f.join(":").trim().replace(/^'+|'+$/g,""),m=c.trim();t[m]||(t[m]=h),h==="false"&&(t[m]=!1),h==="true"&&(t[m]=!0),isNaN(h)||(t[m]=parseInt(h,10))}})}return{formatName:e,formatOptions:t}},$_=n=>{const e={};return(t,r,s)=>{let a=s;s&&s.interpolationkey&&s.formatParams&&s.formatParams[s.interpolationkey]&&s[s.interpolationkey]&&(a={...a,[s.interpolationkey]:void 0});const l=r+JSON.stringify(a);let c=e[l];return c||(c=n(au(r),s),e[l]=c),c(t)}},Tj=n=>(e,t,r)=>n(au(t),r)(e);class Ij{constructor(e={}){this.logger=kr.create("formatter"),this.options=e,this.init(e)}init(e,t={interpolation:{}}){this.formatSeparator=t.interpolation.formatSeparator||",";const r=t.cacheInBuiltFormats?$_:Tj;this.formats={number:r((s,a)=>{const l=new Intl.NumberFormat(s,{...a});return c=>l.format(c)}),currency:r((s,a)=>{const l=new Intl.NumberFormat(s,{...a,style:"currency"});return c=>l.format(c)}),datetime:r((s,a)=>{const l=new Intl.DateTimeFormat(s,{...a});return c=>l.format(c)}),relativetime:r((s,a)=>{const l=new Intl.RelativeTimeFormat(s,{...a});return c=>l.format(c,a.range||"day")}),list:r((s,a)=>{const l=new Intl.ListFormat(s,{...a});return c=>l.format(c)})}}add(e,t){this.formats[e.toLowerCase().trim()]=t}addCached(e,t){this.formats[e.toLowerCase().trim()]=$_(t)}format(e,t,r,s={}){const a=t.split(this.formatSeparator);if(a.length>1&&a[0].indexOf("(")>1&&a[0].indexOf(")")<0&&a.find(c=>c.indexOf(")")>-1)){const c=a.findIndex(f=>f.indexOf(")")>-1);a[0]=[a[0],...a.splice(1,c)].join(this.formatSeparator)}return a.reduce((c,f)=>{var v;const{formatName:h,formatOptions:m}=Sj(f);if(this.formats[h]){let w=c;try{const T=((v=s==null?void 0:s.formatParams)==null?void 0:v[s.interpolationkey])||{},C=T.locale||T.lng||s.locale||s.lng||r;w=this.formats[h](c,C,{...m,...s,...T})}catch(T){this.logger.warn(T)}return w}else this.logger.warn(`there was no format function for ${h}`);return c},e)}}const bj=(n,e)=>{n.pending[e]!==void 0&&(delete n.pending[e],n.pendingCount--)};class Rj extends yf{constructor(e,t,r,s={}){var a,l;super(),this.backend=e,this.store=t,this.services=r,this.languageUtils=r.languageUtils,this.options=s,this.logger=kr.create("backendConnector"),this.waitingReads=[],this.maxParallelReads=s.maxParallelReads||10,this.readingCalls=0,this.maxRetries=s.maxRetries>=0?s.maxRetries:5,this.retryTimeout=s.retryTimeout>=1?s.retryTimeout:350,this.state={},this.queue=[],(l=(a=this.backend)==null?void 0:a.init)==null||l.call(a,r,s.backend,s)}queueLoad(e,t,r,s){const a={},l={},c={},f={};return e.forEach(h=>{let m=!0;t.forEach(v=>{const w=`${h}|${v}`;!r.reload&&this.store.hasResourceBundle(h,v)?this.state[w]=2:this.state[w]<0||(this.state[w]===1?l[w]===void 0&&(l[w]=!0):(this.state[w]=1,m=!1,l[w]===void 0&&(l[w]=!0),a[w]===void 0&&(a[w]=!0),f[v]===void 0&&(f[v]=!0)))}),m||(c[h]=!0)}),(Object.keys(a).length||Object.keys(l).length)&&this.queue.push({pending:l,pendingCount:Object.keys(l).length,loaded:{},errors:[],callback:s}),{toLoad:Object.keys(a),pending:Object.keys(l),toLoadLanguages:Object.keys(c),toLoadNamespaces:Object.keys(f)}}loaded(e,t,r){const s=e.split("|"),a=s[0],l=s[1];t&&this.emit("failedLoading",a,l,t),!t&&r&&this.store.addResourceBundle(a,l,r,void 0,void 0,{skipCopy:!0}),this.state[e]=t?-1:2,t&&r&&(this.state[e]=0);const c={};this.queue.forEach(f=>{hj(f.loaded,[a],l),bj(f,e),t&&f.errors.push(t),f.pendingCount===0&&!f.done&&(Object.keys(f.loaded).forEach(h=>{c[h]||(c[h]={});const m=f.loaded[h];m.length&&m.forEach(v=>{c[h][v]===void 0&&(c[h][v]=!0)})}),f.done=!0,f.errors.length?f.callback(f.errors):f.callback())}),this.emit("loaded",c),this.queue=this.queue.filter(f=>!f.done)}read(e,t,r,s=0,a=this.retryTimeout,l){if(!e.length)return l(null,{});if(this.readingCalls>=this.maxParallelReads){this.waitingReads.push({lng:e,ns:t,fcName:r,tried:s,wait:a,callback:l});return}this.readingCalls++;const c=(h,m)=>{if(this.readingCalls--,this.waitingReads.length>0){const v=this.waitingReads.shift();this.read(v.lng,v.ns,v.fcName,v.tried,v.wait,v.callback)}if(h&&m&&s<this.maxRetries){setTimeout(()=>{this.read.call(this,e,t,r,s+1,a*2,l)},a);return}l(h,m)},f=this.backend[r].bind(this.backend);if(f.length===2){try{const h=f(e,t);h&&typeof h.then=="function"?h.then(m=>c(null,m)).catch(c):c(null,h)}catch(h){c(h)}return}return f(e,t,c)}prepareLoading(e,t,r={},s){if(!this.backend)return this.logger.warn("No backend was added via i18next.use. Will not load resources."),s&&s();Pe(e)&&(e=this.languageUtils.toResolveHierarchy(e)),Pe(t)&&(t=[t]);const a=this.queueLoad(e,t,r,s);if(!a.toLoad.length)return a.pending.length||s(),null;a.toLoad.forEach(l=>{this.loadOne(l)})}load(e,t,r){this.prepareLoading(e,t,{},r)}reload(e,t,r){this.prepareLoading(e,t,{reload:!0},r)}loadOne(e,t=""){const r=e.split("|"),s=r[0],a=r[1];this.read(s,a,"read",void 0,void 0,(l,c)=>{l&&this.logger.warn(`${t}loading namespace ${a} for language ${s} failed`,l),!l&&c&&this.logger.log(`${t}loaded namespace ${a} for language ${s}`,c),this.loaded(e,l,c)})}saveMissing(e,t,r,s,a,l={},c=()=>{}){var f,h,m,v,w;if((h=(f=this.services)==null?void 0:f.utils)!=null&&h.hasLoadedNamespace&&!((v=(m=this.services)==null?void 0:m.utils)!=null&&v.hasLoadedNamespace(t))){this.logger.warn(`did not save key "${r}" as the namespace "${t}" was not yet loaded`,"This means something IS WRONG in your setup. You access the t function before i18next.init / i18next.loadNamespace / i18next.changeLanguage was done. Wait for the callback or Promise to resolve before accessing it!!!");return}if(!(r==null||r==="")){if((w=this.backend)!=null&&w.create){const T={...l,isUpdate:a},C=this.backend.create.bind(this.backend);if(C.length<6)try{let I;C.length===5?I=C(e,t,r,s,T):I=C(e,t,r,s),I&&typeof I.then=="function"?I.then(b=>c(null,b)).catch(c):c(null,I)}catch(I){c(I)}else C(e,t,r,s,c,T)}!e||!e[0]||this.store.addResource(e[0],t,r,s)}}}const z_=()=>({debug:!1,initAsync:!0,ns:["translation"],defaultNS:["translation"],fallbackLng:["dev"],fallbackNS:!1,supportedLngs:!1,nonExplicitSupportedLngs:!1,load:"all",preload:!1,simplifyPluralSuffix:!0,keySeparator:".",nsSeparator:":",pluralSeparator:"_",contextSeparator:"_",partialBundledLanguages:!1,saveMissing:!1,updateMissing:!1,saveMissingTo:"fallback",saveMissingPlurals:!0,missingKeyHandler:!1,missingInterpolationHandler:!1,postProcess:!1,postProcessPassResolved:!1,returnNull:!1,returnEmptyString:!0,returnObjects:!1,joinArrays:!1,returnedObjectHandler:!1,parseMissingKeyHandler:!1,appendNamespaceToMissingKey:!1,appendNamespaceToCIMode:!1,overloadTranslationOptionHandler:n=>{let e={};if(typeof n[1]=="object"&&(e=n[1]),Pe(n[1])&&(e.defaultValue=n[1]),Pe(n[2])&&(e.tDescription=n[2]),typeof n[2]=="object"||typeof n[3]=="object"){const t=n[3]||n[2];Object.keys(t).forEach(r=>{e[r]=t[r]})}return e},interpolation:{escapeValue:!0,format:n=>n,prefix:"{{",suffix:"}}",formatSeparator:",",unescapePrefix:"-",nestingPrefix:"$t(",nestingSuffix:")",nestingOptionsSeparator:",",maxReplaces:1e3,skipOnVariables:!0},cacheInBuiltFormats:!0}),U_=n=>{var e,t;return Pe(n.ns)&&(n.ns=[n.ns]),Pe(n.fallbackLng)&&(n.fallbackLng=[n.fallbackLng]),Pe(n.fallbackNS)&&(n.fallbackNS=[n.fallbackNS]),((t=(e=n.supportedLngs)==null?void 0:e.indexOf)==null?void 0:t.call(e,"cimode"))<0&&(n.supportedLngs=n.supportedLngs.concat(["cimode"])),typeof n.initImmediate=="boolean"&&(n.initAsync=n.initImmediate),n},Qc=()=>{},Aj=n=>{Object.getOwnPropertyNames(Object.getPrototypeOf(n)).forEach(t=>{typeof n[t]=="function"&&(n[t]=n[t].bind(n))})};class lu extends yf{constructor(e={},t){if(super(),this.options=U_(e),this.services={},this.logger=kr,this.modules={external:[]},Aj(this),t&&!this.isInitialized&&!e.isClone){if(!this.options.initAsync)return this.init(e,t),this;setTimeout(()=>{this.init(e,t)},0)}}init(e={},t){this.isInitializing=!0,typeof e=="function"&&(t=e,e={}),e.defaultNS==null&&e.ns&&(Pe(e.ns)?e.defaultNS=e.ns:e.ns.indexOf("translation")<0&&(e.defaultNS=e.ns[0]));const r=z_();this.options={...r,...this.options,...U_(e)},this.options.interpolation={...r.interpolation,...this.options.interpolation},e.keySeparator!==void 0&&(this.options.userDefinedKeySeparator=e.keySeparator),e.nsSeparator!==void 0&&(this.options.userDefinedNsSeparator=e.nsSeparator);const s=h=>h?typeof h=="function"?new h:h:null;if(!this.options.isClone){this.modules.logger?kr.init(s(this.modules.logger),this.options):kr.init(null,this.options);let h;this.modules.formatter?h=this.modules.formatter:h=Ij;const m=new L_(this.options);this.store=new D_(this.options.resources,this.options);const v=this.services;v.logger=kr,v.resourceStore=this.store,v.languageUtils=m,v.pluralResolver=new Ej(m,{prepend:this.options.pluralSeparator,simplifyPluralSuffix:this.options.simplifyPluralSuffix}),h&&(!this.options.interpolation.format||this.options.interpolation.format===r.interpolation.format)&&(v.formatter=s(h),v.formatter.init(v,this.options),this.options.interpolation.format=v.formatter.format.bind(v.formatter)),v.interpolator=new Cj(this.options),v.utils={hasLoadedNamespace:this.hasLoadedNamespace.bind(this)},v.backendConnector=new Rj(s(this.modules.backend),v.resourceStore,v,this.options),v.backendConnector.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.languageDetector&&(v.languageDetector=s(this.modules.languageDetector),v.languageDetector.init&&v.languageDetector.init(v,this.options.detection,this.options)),this.modules.i18nFormat&&(v.i18nFormat=s(this.modules.i18nFormat),v.i18nFormat.init&&v.i18nFormat.init(this)),this.translator=new Vd(this.services,this.options),this.translator.on("*",(w,...T)=>{this.emit(w,...T)}),this.modules.external.forEach(w=>{w.init&&w.init(this)})}if(this.format=this.options.interpolation.format,t||(t=Qc),this.options.fallbackLng&&!this.services.languageDetector&&!this.options.lng){const h=this.services.languageUtils.getFallbackCodes(this.options.fallbackLng);h.length>0&&h[0]!=="dev"&&(this.options.lng=h[0])}!this.services.languageDetector&&!this.options.lng&&this.logger.warn("init: no languageDetector is used and no lng is defined"),["getResource","hasResourceBundle","getResourceBundle","getDataByLanguage"].forEach(h=>{this[h]=(...m)=>this.store[h](...m)}),["addResource","addResources","addResourceBundle","removeResourceBundle"].forEach(h=>{this[h]=(...m)=>(this.store[h](...m),this)});const c=Rl(),f=()=>{const h=(m,v)=>{this.isInitializing=!1,this.isInitialized&&!this.initializedStoreOnce&&this.logger.warn("init: i18next is already initialized. You should call init just once!"),this.isInitialized=!0,this.options.isClone||this.logger.log("initialized",this.options),this.emit("initialized",this.options),c.resolve(v),t(m,v)};if(this.languages&&!this.isInitialized)return h(null,this.t.bind(this));this.changeLanguage(this.options.lng,h)};return this.options.resources||!this.options.initAsync?f():setTimeout(f,0),c}loadResources(e,t=Qc){var a,l;let r=t;const s=Pe(e)?e:this.language;if(typeof e=="function"&&(r=e),!this.options.resources||this.options.partialBundledLanguages){if((s==null?void 0:s.toLowerCase())==="cimode"&&(!this.options.preload||this.options.preload.length===0))return r();const c=[],f=h=>{if(!h||h==="cimode")return;this.services.languageUtils.toResolveHierarchy(h).forEach(v=>{v!=="cimode"&&c.indexOf(v)<0&&c.push(v)})};s?f(s):this.services.languageUtils.getFallbackCodes(this.options.fallbackLng).forEach(m=>f(m)),(l=(a=this.options.preload)==null?void 0:a.forEach)==null||l.call(a,h=>f(h)),this.services.backendConnector.load(c,this.options.ns,h=>{!h&&!this.resolvedLanguage&&this.language&&this.setResolvedLanguage(this.language),r(h)})}else r(null)}reloadResources(e,t,r){const s=Rl();return typeof e=="function"&&(r=e,e=void 0),typeof t=="function"&&(r=t,t=void 0),e||(e=this.languages),t||(t=this.options.ns),r||(r=Qc),this.services.backendConnector.reload(e,t,a=>{s.resolve(),r(a)}),s}use(e){if(!e)throw new Error("You are passing an undefined module! Please check the object you are passing to i18next.use()");if(!e.type)throw new Error("You are passing a wrong module! Please check the object you are passing to i18next.use()");return e.type==="backend"&&(this.modules.backend=e),(e.type==="logger"||e.log&&e.warn&&e.error)&&(this.modules.logger=e),e.type==="languageDetector"&&(this.modules.languageDetector=e),e.type==="i18nFormat"&&(this.modules.i18nFormat=e),e.type==="postProcessor"&&RT.addPostProcessor(e),e.type==="formatter"&&(this.modules.formatter=e),e.type==="3rdParty"&&this.modules.external.push(e),this}setResolvedLanguage(e){if(!(!e||!this.languages)&&!(["cimode","dev"].indexOf(e)>-1)){for(let t=0;t<this.languages.length;t++){const r=this.languages[t];if(!(["cimode","dev"].indexOf(r)>-1)&&this.store.hasLanguageSomeTranslations(r)){this.resolvedLanguage=r;break}}!this.resolvedLanguage&&this.languages.indexOf(e)<0&&this.store.hasLanguageSomeTranslations(e)&&(this.resolvedLanguage=e,this.languages.unshift(e))}}changeLanguage(e,t){this.isLanguageChangingTo=e;const r=Rl();this.emit("languageChanging",e);const s=c=>{this.language=c,this.languages=this.services.languageUtils.toResolveHierarchy(c),this.resolvedLanguage=void 0,this.setResolvedLanguage(c)},a=(c,f)=>{f?this.isLanguageChangingTo===e&&(s(f),this.translator.changeLanguage(f),this.isLanguageChangingTo=void 0,this.emit("languageChanged",f),this.logger.log("languageChanged",f)):this.isLanguageChangingTo=void 0,r.resolve((...h)=>this.t(...h)),t&&t(c,(...h)=>this.t(...h))},l=c=>{var m,v;!e&&!c&&this.services.languageDetector&&(c=[]);const f=Pe(c)?c:c&&c[0],h=this.store.hasLanguageSomeTranslations(f)?f:this.services.languageUtils.getBestMatchFromCodes(Pe(c)?[c]:c);h&&(this.language||s(h),this.translator.language||this.translator.changeLanguage(h),(v=(m=this.services.languageDetector)==null?void 0:m.cacheUserLanguage)==null||v.call(m,h)),this.loadResources(h,w=>{a(w,h)})};return!e&&this.services.languageDetector&&!this.services.languageDetector.async?l(this.services.languageDetector.detect()):!e&&this.services.languageDetector&&this.services.languageDetector.async?this.services.languageDetector.detect.length===0?this.services.languageDetector.detect().then(l):this.services.languageDetector.detect(l):l(e),r}getFixedT(e,t,r){const s=(a,l,...c)=>{let f;typeof l!="object"?f=this.options.overloadTranslationOptionHandler([a,l].concat(c)):f={...l},f.lng=f.lng||s.lng,f.lngs=f.lngs||s.lngs,f.ns=f.ns||s.ns,f.keyPrefix!==""&&(f.keyPrefix=f.keyPrefix||r||s.keyPrefix);const h=this.options.keySeparator||".";let m;return f.keyPrefix&&Array.isArray(a)?m=a.map(v=>`${f.keyPrefix}${h}${v}`):m=f.keyPrefix?`${f.keyPrefix}${h}${a}`:a,this.t(m,f)};return Pe(e)?s.lng=e:s.lngs=e,s.ns=t,s.keyPrefix=r,s}t(...e){var t;return(t=this.translator)==null?void 0:t.translate(...e)}exists(...e){var t;return(t=this.translator)==null?void 0:t.exists(...e)}setDefaultNamespace(e){this.options.defaultNS=e}hasLoadedNamespace(e,t={}){if(!this.isInitialized)return this.logger.warn("hasLoadedNamespace: i18next was not initialized",this.languages),!1;if(!this.languages||!this.languages.length)return this.logger.warn("hasLoadedNamespace: i18n.languages were undefined or empty",this.languages),!1;const r=t.lng||this.resolvedLanguage||this.languages[0],s=this.options?this.options.fallbackLng:!1,a=this.languages[this.languages.length-1];if(r.toLowerCase()==="cimode")return!0;const l=(c,f)=>{const h=this.services.backendConnector.state[`${c}|${f}`];return h===-1||h===0||h===2};if(t.precheck){const c=t.precheck(this,l);if(c!==void 0)return c}return!!(this.hasResourceBundle(r,e)||!this.services.backendConnector.backend||this.options.resources&&!this.options.partialBundledLanguages||l(r,e)&&(!s||l(a,e)))}loadNamespaces(e,t){const r=Rl();return this.options.ns?(Pe(e)&&(e=[e]),e.forEach(s=>{this.options.ns.indexOf(s)<0&&this.options.ns.push(s)}),this.loadResources(s=>{r.resolve(),t&&t(s)}),r):(t&&t(),Promise.resolve())}loadLanguages(e,t){const r=Rl();Pe(e)&&(e=[e]);const s=this.options.preload||[],a=e.filter(l=>s.indexOf(l)<0&&this.services.languageUtils.isSupportedCode(l));return a.length?(this.options.preload=s.concat(a),this.loadResources(l=>{r.resolve(),t&&t(l)}),r):(t&&t(),Promise.resolve())}dir(e){var s,a;if(e||(e=this.resolvedLanguage||(((s=this.languages)==null?void 0:s.length)>0?this.languages[0]:this.language)),!e)return"rtl";const t=["ar","shu","sqr","ssh","xaa","yhd","yud","aao","abh","abv","acm","acq","acw","acx","acy","adf","ads","aeb","aec","afb","ajp","apc","apd","arb","arq","ars","ary","arz","auz","avl","ayh","ayl","ayn","ayp","bbz","pga","he","iw","ps","pbt","pbu","pst","prp","prd","ug","ur","ydd","yds","yih","ji","yi","hbo","men","xmn","fa","jpr","peo","pes","prs","dv","sam","ckb"],r=((a=this.services)==null?void 0:a.languageUtils)||new L_(z_());return t.indexOf(r.getLanguagePartFromCode(e))>-1||e.toLowerCase().indexOf("-arab")>1?"rtl":"ltr"}static createInstance(e={},t){return new lu(e,t)}cloneInstance(e={},t=Qc){const r=e.forkResourceStore;r&&delete e.forkResourceStore;const s={...this.options,...e,isClone:!0},a=new lu(s);if((e.debug!==void 0||e.prefix!==void 0)&&(a.logger=a.logger.clone(e)),["store","services","language"].forEach(c=>{a[c]=this[c]}),a.services={...this.services},a.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},r){const c=Object.keys(this.store.data).reduce((f,h)=>(f[h]={...this.store.data[h]},f[h]=Object.keys(f[h]).reduce((m,v)=>(m[v]={...f[h][v]},m),f[h]),f),{});a.store=new D_(c,s),a.services.resourceStore=a.store}return a.translator=new Vd(a.services,s),a.translator.on("*",(c,...f)=>{a.emit(c,...f)}),a.init(s,t),a.translator.options=s,a.translator.backendConnector.services.utils={hasLoadedNamespace:a.hasLoadedNamespace.bind(a)},a}toJSON(){return{options:this.options,store:this.store,language:this.language,languages:this.languages,resolvedLanguage:this.resolvedLanguage}}}const nn=lu.createInstance();nn.createInstance=lu.createInstance;nn.createInstance;nn.dir;nn.init;nn.loadResources;nn.reloadResources;nn.use;nn.changeLanguage;nn.getFixedT;nn.t;nn.exists;nn.setDefaultNamespace;nn.hasLoadedNamespace;nn.loadNamespaces;nn.loadLanguages;const Nj="Menu Management",Pj="Add New Menu Item",kj="Add a new item to the menu.",Dj="Add New Category",Mj="Add a new category to the menu.",Oj="Name",Lj="Description",jj="Price",Vj="Image URL",Fj="Category",$j="Select Category",zj="Add Item",Uj="Category Name",Bj="Add Category",Hj="Menu Items",Wj="Existing Menu Items",Kj="Edit or delete items in the menu.",qj="Categories",Gj="Existing Categories",Qj="Edit or delete categories.",Yj="Actions",Xj="Edit Menu Item",Jj="Update menu item information.",Zj="Save",eV="Edit Category",tV="Update category name.",nV="Are you sure?",rV="Are you sure you want to permanently delete this menu item? This action cannot be undone.",iV="Are you sure you want to permanently delete this category? This action cannot be undone.",sV="Cancel",oV="Warning",aV="Please fill in all required fields.",lV="Success",uV="Menu item added successfully!",cV="Category added successfully!",dV="Menu item deleted successfully!",fV="Category deleted successfully!",hV="Menu item updated successfully!",pV="Category updated successfully!",mV="Error",gV="Error fetching menu data.",yV="Error adding menu item.",vV="Error adding category.",wV="Error deleting menu item.",_V="Error deleting category.",xV="Error updating menu item.",EV="Error updating category.",CV="Admin Dashboard",SV="Orders",TV="View active orders and update their status.",IV="Manage Orders",bV="Manage Menu",RV="Add, edit, or remove menu items.",AV="QR Codes",NV="View and print table QR codes.",PV="View QR Codes",kV="Please fill in name, price, and category.",DV="Please fill in category name.",MV="Error fetching new orders count.",OV="Our Menu",LV="Add to Cart",jV="Total",VV="Checkout",FV="Your Cart",$V="Your cart is empty.",zV="Continue Shopping",UV="Order Summary",BV="Delivery Information",HV="Address",WV="Phone",KV="Notes",qV="Place Order",GV="Thank You!",QV="Your order has been placed successfully.",YV="Order ID",XV="You can track your order status on the orders page.",JV="Back to Menu",ZV="Table",eF="All",tF={menuManagement:Nj,addNewMenuItem:Pj,addNewMenuItemDescription:kj,addNewCategory:Dj,addNewCategoryDescription:Mj,name:Oj,description:Lj,price:jj,imageUrl:Vj,category:Fj,selectCategory:$j,addItem:zj,categoryName:Uj,addCategory:Bj,menuItems:Hj,existingMenuItems:Wj,existingMenuItemsDescription:Kj,categories:qj,existingCategories:Gj,existingCategoriesDescription:Qj,actions:Yj,editMenuItem:Xj,updateMenuItemInfo:Jj,save:Zj,editCategory:eV,updateCategoryName:tV,confirmDelete:nV,confirmDeleteItem:rV,confirmDeleteCategory:iV,cancel:sV,delete:"Delete",warning:oV,fillAllFields:aV,success:lV,itemAddedSuccessfully:uV,categoryAddedSuccessfully:cV,itemDeletedSuccessfully:dV,categoryDeletedSuccessfully:fV,itemUpdatedSuccessfully:hV,categoryUpdatedSuccessfully:pV,error:mV,errorFetchingMenuData:gV,errorAddingMenuItem:yV,errorAddingCategory:vV,errorDeletingMenuItem:wV,errorDeletingCategory:_V,errorUpdatingMenuItem:xV,errorUpdatingCategory:EV,adminDashboard:CV,orders:SV,new:"New",viewActiveOrders:TV,manageOrders:IV,manageMenu:bV,manageMenuDescription:RV,qrCodes:AV,viewPrintQrCodes:NV,viewQrCodes:PV,pleaseFillNamePriceCategory:kV,pleaseFillCategoryName:DV,errorFetchingNewOrdersCount:MV,ourMenu:OV,addToCart:LV,total:jV,checkout:VV,yourCart:FV,emptyCart:$V,continueShopping:zV,orderSummary:UV,deliveryInfo:BV,address:HV,phone:WV,notes:KV,placeOrder:qV,thankYou:GV,orderPlaced:QV,orderId:YV,trackOrder:XV,backToMenu:JV,table:ZV,all:eF},nF="Управление меню",rF="Добавить новый пункт меню",iF="Добавить новый пункт в меню.",sF="Добавить новую категорию",oF="Добавить новую категорию в меню.",aF="Название",lF="Описание",uF="Цена",cF="URL изображения",dF="Категория",fF="Выбрать категорию",hF="Добавить пункт",pF="Название категории",mF="Добавить категорию",gF="Пункты меню",yF="Существующие пункты меню",vF="Редактировать или удалять пункты в меню.",wF="Категории",_F="Существующие категории",xF="Редактировать или удалять категории.",EF="Действия",CF="Редактировать пункт меню",SF="Обновить информацию о пункте меню.",TF="Сохранить",IF="Редактировать категорию",bF="Обновить название категории.",RF="Вы уверены?",AF="Вы уверены, что хотите безвозвратно удалить этот пункт меню? Это действие нельзя отменить.",NF="Вы уверены, что хотите безвозвратно удалить эту категорию? Это действие нельзя отменить.",PF="Отмена",kF="Предупреждение",DF="Пожалуйста, заполните все обязательные поля.",MF="Успешно",OF="Пункт меню успешно добавлен!",LF="Категория успешно добавлена!",jF="Пункт меню успешно удален!",VF="Категория успешно удалена!",FF="Пункт меню успешно обновлен!",$F="Категория успешно обновлена!",zF="Ошибка",UF="Ошибка при получении данных меню.",BF="Ошибка при добавлении пункта меню.",HF="Ошибка при добавлении категории.",WF="Ошибка при удалении пункта меню.",KF="Ошибка при удалении категории.",qF="Ошибка при обновлении пункта меню.",GF="Ошибка при обновлении категории.",QF="Панель администратора",YF="Заказы",XF="Просмотр активных заказов и обновление их статуса.",JF="Управление заказами",ZF="Управление меню",e3="Добавлять, редактировать или удалять пункты меню.",t3="QR-коды",n3="Просмотр и печать QR-кодов столов.",r3="Просмотр QR-кодов",i3="Пожалуйста, заполните название, цену и категорию.",s3="Пожалуйста, заполните название категории.",o3="Ошибка при получении количества новых заказов.",a3="Наше меню",l3="Добавить в корзину",u3="Итого",c3="Оформить заказ",d3="Ваша корзина",f3="Ваша корзина пуста.",h3="Продолжить покупки",p3="Сводка заказа",m3="Информация о доставке",g3="Адрес",y3="Телефон",v3="Примечания",w3="Разместить заказ",_3="Спасибо!",x3="Ваш заказ успешно размещен.",E3="ID заказа",C3="Вы можете отслеживать статус вашего заказа на странице заказов.",S3="Вернуться в меню",T3="Стол",I3="Все",b3={menuManagement:nF,addNewMenuItem:rF,addNewMenuItemDescription:iF,addNewCategory:sF,addNewCategoryDescription:oF,name:aF,description:lF,price:uF,imageUrl:cF,category:dF,selectCategory:fF,addItem:hF,categoryName:pF,addCategory:mF,menuItems:gF,existingMenuItems:yF,existingMenuItemsDescription:vF,categories:wF,existingCategories:_F,existingCategoriesDescription:xF,actions:EF,editMenuItem:CF,updateMenuItemInfo:SF,save:TF,editCategory:IF,updateCategoryName:bF,confirmDelete:RF,confirmDeleteItem:AF,confirmDeleteCategory:NF,cancel:PF,delete:"Удалить",warning:kF,fillAllFields:DF,success:MF,itemAddedSuccessfully:OF,categoryAddedSuccessfully:LF,itemDeletedSuccessfully:jF,categoryDeletedSuccessfully:VF,itemUpdatedSuccessfully:FF,categoryUpdatedSuccessfully:$F,error:zF,errorFetchingMenuData:UF,errorAddingMenuItem:BF,errorAddingCategory:HF,errorDeletingMenuItem:WF,errorDeletingCategory:KF,errorUpdatingMenuItem:qF,errorUpdatingCategory:GF,adminDashboard:QF,orders:YF,new:"Новые",viewActiveOrders:XF,manageOrders:JF,manageMenu:ZF,manageMenuDescription:e3,qrCodes:t3,viewPrintQrCodes:n3,viewQrCodes:r3,pleaseFillNamePriceCategory:i3,pleaseFillCategoryName:s3,errorFetchingNewOrdersCount:o3,ourMenu:a3,addToCart:l3,total:u3,checkout:c3,yourCart:d3,emptyCart:f3,continueShopping:h3,orderSummary:p3,deliveryInfo:m3,address:g3,phone:y3,notes:v3,placeOrder:w3,thankYou:_3,orderPlaced:x3,orderId:E3,trackOrder:C3,backToMenu:S3,table:T3,all:I3},R3="Menüverwaltung",A3="Neuen Menüpunkt hinzufügen",N3="Einen neuen Menüpunkt hinzufügen.",P3="Neue Kategorie hinzufügen",k3="Eine neue Kategorie zum Menü hinzufügen.",D3="Name",M3="Beschreibung",O3="Preis",L3="Bild-URL",j3="Kategorie",V3="Kategorie auswählen",F3="Artikel hinzufügen",$3="Kategoriename",z3="Kategorie hinzufügen",U3="Menüpunkte",B3="Bestehende Menüpunkte",H3="Menüpunkte bearbeiten oder löschen.",W3="Kategorien",K3="Bestehende Kategorien",q3="Kategorien bearbeiten oder löschen.",G3="Aktionen",Q3="Menüpunkt bearbeiten",Y3="Menüpunktinformationen aktualisieren.",X3="Speichern",J3="Kategorie bearbeiten",Z3="Kategoriename aktualisieren.",e$="Sind Sie sicher?",t$="Möchten Sie diesen Menüpunkt wirklich dauerhaft löschen? Diese Aktion kann nicht rückgängig gemacht werden.",n$="Möchten Sie diese Kategorie wirklich dauerhaft löschen? Diese Aktion kann nicht rückgängig gemacht werden.",r$="Abbrechen",i$="Warnung",s$="Bitte füllen Sie alle Pflichtfelder aus.",o$="Erfolg",a$="Menüpunkt erfolgreich hinzugefügt!",l$="Kategorie erfolgreich hinzugefügt!",u$="Menüpunkt erfolgreich gelöscht!",c$="Kategorie erfolgreich gelöscht!",d$="Menüpunkt erfolgreich aktualisiert!",f$="Kategorie erfolgreich aktualisiert!",h$="Fehler",p$="Fehler beim Abrufen der Menüdaten.",m$="Fehler beim Hinzufügen des Menüpunkts.",g$="Fehler beim Hinzufügen der Kategorie.",y$="Fehler beim Löschen des Menüpunkts.",v$="Fehler beim Löschen der Kategorie.",w$="Fehler beim Aktualisieren des Menüpunkts.",_$="Fehler beim Aktualisieren der Kategorie.",x$="Admin-Dashboard",E$="Bestellungen",C$="Aktive Bestellungen anzeigen und deren Status aktualisieren.",S$="Bestellungen verwalten",T$="Menü verwalten",I$="Menüpunkte hinzufügen, bearbeiten oder entfernen.",b$="QR-Codes",R$="Tisch-QR-Codes anzeigen und drucken.",A$="QR-Codes anzeigen",N$="Bitte geben Sie Name, Preis und Kategorie ein.",P$="Bitte geben Sie den Kategorienamen ein.",k$="Fehler beim Abrufen der Anzahl neuer Bestellungen.",D$="Unsere Speisekarte",M$="In den Warenkorb",O$="Gesamt",L$="Zur Kasse",j$="Ihr Warenkorb",V$="Ihr Warenkorb ist leer.",F$="Weiter einkaufen",$$="Bestellübersicht",z$="Lieferinformationen",U$="Adresse",B$="Telefon",H$="Notizen",W$="Bestellung aufgeben",K$="Vielen Dank!",q$="Ihre Bestellung wurde erfolgreich aufgegeben.",G$="Bestell-ID",Q$="Sie können den Status Ihrer Bestellung auf der Bestellseite verfolgen.",Y$="Zurück zum Menü",X$="Tisch",J$="Alle",Z$={menuManagement:R3,addNewMenuItem:A3,addNewMenuItemDescription:N3,addNewCategory:P3,addNewCategoryDescription:k3,name:D3,description:M3,price:O3,imageUrl:L3,category:j3,selectCategory:V3,addItem:F3,categoryName:$3,addCategory:z3,menuItems:U3,existingMenuItems:B3,existingMenuItemsDescription:H3,categories:W3,existingCategories:K3,existingCategoriesDescription:q3,actions:G3,editMenuItem:Q3,updateMenuItemInfo:Y3,save:X3,editCategory:J3,updateCategoryName:Z3,confirmDelete:e$,confirmDeleteItem:t$,confirmDeleteCategory:n$,cancel:r$,delete:"Löschen",warning:i$,fillAllFields:s$,success:o$,itemAddedSuccessfully:a$,categoryAddedSuccessfully:l$,itemDeletedSuccessfully:u$,categoryDeletedSuccessfully:c$,itemUpdatedSuccessfully:d$,categoryUpdatedSuccessfully:f$,error:h$,errorFetchingMenuData:p$,errorAddingMenuItem:m$,errorAddingCategory:g$,errorDeletingMenuItem:y$,errorDeletingCategory:v$,errorUpdatingMenuItem:w$,errorUpdatingCategory:_$,adminDashboard:x$,orders:E$,new:"Neu",viewActiveOrders:C$,manageOrders:S$,manageMenu:T$,manageMenuDescription:I$,qrCodes:b$,viewPrintQrCodes:R$,viewQrCodes:A$,pleaseFillNamePriceCategory:N$,pleaseFillCategoryName:P$,errorFetchingNewOrdersCount:k$,ourMenu:D$,addToCart:M$,total:O$,checkout:L$,yourCart:j$,emptyCart:V$,continueShopping:F$,orderSummary:$$,deliveryInfo:z$,address:U$,phone:B$,notes:H$,placeOrder:W$,thankYou:K$,orderPlaced:q$,orderId:G$,trackOrder:Q$,backToMenu:Y$,table:X$,all:J$},e6="Gestion du menu",t6="Ajouter un nouvel élément de menu",n6="Ajouter un nouvel élément au menu.",r6="Ajouter une nouvelle catégorie",i6="Ajouter une nouvelle catégorie au menu.",s6="Nom",o6="Description",a6="Prix",l6="URL de l'image",u6="Catégorie",c6="Sélectionner une catégorie",d6="Ajouter un élément",f6="Nom de la catégorie",h6="Ajouter une catégorie",p6="Éléments du menu",m6="Éléments de menu existants",g6="Modifier ou supprimer des éléments dans le menu.",y6="Catégories",v6="Catégories existantes",w6="Modifier ou supprimer des catégories.",_6="Actions",x6="Modifier l'élément de menu",E6="Mettre à jour les informations de l'élément de menu.",C6="Enregistrer",S6="Modifier la catégorie",T6="Mettre à jour le nom de la catégorie.",I6="Êtes-vous sûr(e) ?",b6="Êtes-vous sûr(e) de vouloir supprimer définitivement cet élément de menu ? Cette action est irréversible.",R6="Êtes-vous sûr(e) de vouloir supprimer définitivement cette catégorie ? Cette action est irréversible.",A6="Annuler",N6="Avertissement",P6="Veuillez remplir tous les champs obligatoires.",k6="Succès",D6="Élément de menu ajouté avec succès !",M6="Catégorie ajoutée avec succès !",O6="Élément de menu supprimé avec succès !",L6="Catégorie supprimée avec succès !",j6="Élément de menu mis à jour avec succès !",V6="Catégorie mise à jour avec succès !",F6="Erreur",$6="Erreur lors de la récupération des données du menu.",z6="Erreur lors de l'ajout de l'élément de menu.",U6="Erreur lors de l'ajout de la catégorie.",B6="Erreur lors de la suppression de l'élément de menu.",H6="Erreur lors de la suppression de la catégorie.",W6="Erreur lors de la mise à jour de l'élément de menu.",K6="Erreur lors de la mise à jour de la catégorie.",q6="Tableau de bord administrateur",G6="Commandes",Q6="Afficher les commandes actives et mettre à jour leur statut.",Y6="Gérer les commandes",X6="Gérer le menu",J6="Ajouter, modifier ou supprimer des éléments de menu.",Z6="Codes QR",e5="Afficher et imprimer les codes QR de table.",t5="Afficher les codes QR",n5="Veuillez remplir le nom, le prix et la catégorie.",r5="Veuillez remplir le nom de la catégorie.",i5="Erreur lors de la récupération du nombre de nouvelles commandes.",s5="Notre menu",o5="Ajouter au panier",a5="Total",l5="Commander",u5="Votre panier",c5="Votre panier est vide.",d5="Continuer vos achats",f5="Récapitulatif de la commande",h5="Informations de livraison",p5="Adresse",m5="Téléphone",g5="Notes",y5="Passer la commande",v5="Merci !",w5="Votre commande a été passée avec succès.",_5="ID de commande",x5="Vous pouvez suivre le statut de votre commande sur la page des commandes.",E5="Retour au menu",C5="Table",S5="Tout",T5={menuManagement:e6,addNewMenuItem:t6,addNewMenuItemDescription:n6,addNewCategory:r6,addNewCategoryDescription:i6,name:s6,description:o6,price:a6,imageUrl:l6,category:u6,selectCategory:c6,addItem:d6,categoryName:f6,addCategory:h6,menuItems:p6,existingMenuItems:m6,existingMenuItemsDescription:g6,categories:y6,existingCategories:v6,existingCategoriesDescription:w6,actions:_6,editMenuItem:x6,updateMenuItemInfo:E6,save:C6,editCategory:S6,updateCategoryName:T6,confirmDelete:I6,confirmDeleteItem:b6,confirmDeleteCategory:R6,cancel:A6,delete:"Supprimer",warning:N6,fillAllFields:P6,success:k6,itemAddedSuccessfully:D6,categoryAddedSuccessfully:M6,itemDeletedSuccessfully:O6,categoryDeletedSuccessfully:L6,itemUpdatedSuccessfully:j6,categoryUpdatedSuccessfully:V6,error:F6,errorFetchingMenuData:$6,errorAddingMenuItem:z6,errorAddingCategory:U6,errorDeletingMenuItem:B6,errorDeletingCategory:H6,errorUpdatingMenuItem:W6,errorUpdatingCategory:K6,adminDashboard:q6,orders:G6,new:"Nouveau",viewActiveOrders:Q6,manageOrders:Y6,manageMenu:X6,manageMenuDescription:J6,qrCodes:Z6,viewPrintQrCodes:e5,viewQrCodes:t5,pleaseFillNamePriceCategory:n5,pleaseFillCategoryName:r5,errorFetchingNewOrdersCount:i5,ourMenu:s5,addToCart:o5,total:a5,checkout:l5,yourCart:u5,emptyCart:c5,continueShopping:d5,orderSummary:f5,deliveryInfo:h5,address:p5,phone:m5,notes:g5,placeOrder:y5,thankYou:v5,orderPlaced:w5,orderId:_5,trackOrder:x5,backToMenu:E5,table:C5,all:S5},I5="Menü Yönetimi",b5="Yeni Menü Öğesi Ekle",R5="Menüye yeni bir öğe ekleyin.",A5="Yeni Kategori Ekle",N5="Menüye yeni bir kategori ekleyin.",P5="Adı",k5="Açıklama",D5="Fiyat",M5="Resim URL",O5="Kategori",L5="Kategori Seçin",j5="Öğe Ekle",V5="Kategori Adı",F5="Kategori Ekle",$5="Menü Öğeleri",z5="Mevcut Menü Öğeleri",U5="Menüdeki öğeleri düzenleyin veya silin.",B5="Kategoriler",H5="Mevcut Kategoriler",W5="Kategorileri düzenleyin veya silin.",K5="İşlemler",q5="Menü Öğesini Düzenle",G5="Menü öğesinin bilgilerini güncelleyin.",Q5="Kaydet",Y5="Kategoriyi Düzenle",X5="Kategori adını güncelleyin.",J5="Emin misiniz?",Z5="Bu menü öğesini kalıcı olarak silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",ez="Bu kategoriyi kalıcı olarak silmek istediğinizden emin misiniz? Bu işlem geri alınamaz.",tz="İptal",nz="Uyarı",rz="Lütfen tüm gerekli alanları doldurun.",iz="Başarılı",sz="Menü öğesi başarıyla eklendi!",oz="Kategori başarıyla eklendi!",az="Menü öğesi başarıyla silindi!",lz="Kategori başarıyla silindi!",uz="Menü öğesi başarıyla güncellendi!",cz="Kategori başarıyla güncellendi!",dz="Hata",fz="Menü verileri çekilirken bir hata oluştu.",hz="Menü öğesi eklenirken bir hata oluştu.",pz="Kategori eklenirken bir hata oluştu.",mz="Menü öğesi silinirken bir hata oluştu.",gz="Kategori silinirken bir hata oluştu.",yz="Menü öğesi güncellenirken bir hata oluştu.",vz="Menü öğesi güncellenirken bir hata oluştu.",wz="Yönetim Paneli",_z="Siparişler",xz="Aktif siparişleri görüntüleyin ve durumlarını güncelleyin.",Ez="Siparişleri Yönet",Cz="Menüyü Yönet",Sz="Menü öğelerini ekleyin, düzenleyin veya kaldırın.",Tz="QR Kodlar",Iz="Masa QR kodlarını görüntüleyin ve yazdırın.",bz="QR Kodları Görüntüle",Rz="Lütfen ad, fiyat ve kategori alanlarını doldurun.",Az="Lütfen kategori adını doldurun.",Nz="Yeni sipariş sayısı çekilirken bir hata oluştu.",Pz="Menümüz",kz="Sepete Ekle",Dz="Toplam",Mz="Ödeme Yap",Oz="Sepetiniz",Lz="Sepetiniz boş.",jz="Alışverişe Devam Et",Vz="Sipariş Özeti",Fz="Teslimat Bilgileri",$z="Adres",zz="Telefon",Uz="Notlar",Bz="Sipariş Ver",Hz="Teşekkür Ederiz!",Wz="Siparişiniz başarıyla alındı.",Kz="Sipariş ID",qz="Siparişinizin durumunu siparişler sayfasından takip edebilirsiniz.",Gz="Menüye Geri Dön",Qz="Masa",Yz="Tümü",Xz={menuManagement:I5,addNewMenuItem:b5,addNewMenuItemDescription:R5,addNewCategory:A5,addNewCategoryDescription:N5,name:P5,description:k5,price:D5,imageUrl:M5,category:O5,selectCategory:L5,addItem:j5,categoryName:V5,addCategory:F5,menuItems:$5,existingMenuItems:z5,existingMenuItemsDescription:U5,categories:B5,existingCategories:H5,existingCategoriesDescription:W5,actions:K5,editMenuItem:q5,updateMenuItemInfo:G5,save:Q5,editCategory:Y5,updateCategoryName:X5,confirmDelete:J5,confirmDeleteItem:Z5,confirmDeleteCategory:ez,cancel:tz,delete:"Sil",warning:nz,fillAllFields:rz,success:iz,itemAddedSuccessfully:sz,categoryAddedSuccessfully:oz,itemDeletedSuccessfully:az,categoryDeletedSuccessfully:lz,itemUpdatedSuccessfully:uz,categoryUpdatedSuccessfully:cz,error:dz,errorFetchingMenuData:fz,errorAddingMenuItem:hz,errorAddingCategory:pz,errorDeletingMenuItem:mz,errorDeletingCategory:gz,errorUpdatingMenuItem:yz,errorUpdatingCategory:vz,adminDashboard:wz,orders:_z,new:"Yeni",viewActiveOrders:xz,manageOrders:Ez,manageMenu:Cz,manageMenuDescription:Sz,qrCodes:Tz,viewPrintQrCodes:Iz,viewQrCodes:bz,pleaseFillNamePriceCategory:Rz,pleaseFillCategoryName:Az,errorFetchingNewOrdersCount:Nz,ourMenu:Pz,addToCart:kz,total:Dz,checkout:Mz,yourCart:Oz,emptyCart:Lz,continueShopping:jz,orderSummary:Vz,deliveryInfo:Fz,address:$z,phone:zz,notes:Uz,placeOrder:Bz,thankYou:Hz,orderPlaced:Wz,orderId:Kz,trackOrder:qz,backToMenu:Gz,table:Qz,all:Yz};nn.use(Sk).init({resources:{en:{translation:tF},ru:{translation:b3},de:{translation:Z$},fr:{translation:T5},tr:{translation:Xz}},lng:"tr",fallbackLng:"en",interpolation:{escapeValue:!1}});$I.createRoot(document.getElementById("root")).render(y.jsx(E.StrictMode,{children:y.jsx(cj,{})}));
